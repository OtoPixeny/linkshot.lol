import{r as $l,c as Tl,g as Rl,a as l,R as H,b as hr,$ as Mi,d as mn,L as Mt,u as Di,e as Li,f as Qe,h as Al,i as jl,B as Ol}from"./router-3Xi-hXti.js";import{u as at,U as Nl,C as Pl,S as Il,a as Ml,b as Dl,c as Ll}from"./clerk-ChZeNCBc.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Rn={exports:{}},Jt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o;function Ul(){if(_o)return Jt;_o=1;var t=$l(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,c,u){var h,f={},p=null,m=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(m=c.ref);for(h in c)n.call(c,h)&&!o.hasOwnProperty(h)&&(f[h]=c[h]);if(a&&a.defaultProps)for(h in c=a.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:s.current}}return Jt.Fragment=r,Jt.jsx=i,Jt.jsxs=i,Jt}var Eo;function Fl(){return Eo||(Eo=1,Rn.exports=Ul()),Rn.exports}var d=Fl(),Rr={},So;function Bl(){if(So)return Rr;So=1;var t=Tl();return Rr.createRoot=t.createRoot,Rr.hydrateRoot=t.hydrateRoot,Rr}var zl=Bl();const Vl=Rl(zl),Qr=["light","dark"],js="(prefers-color-scheme: dark)",Wl=typeof window>"u",Os=l.createContext(void 0),ql={setTheme:t=>{},themes:[]},Kl=()=>{var t;return(t=l.useContext(Os))!==null&&t!==void 0?t:ql},Hl=t=>l.useContext(Os)?H.createElement(l.Fragment,null,t.children):H.createElement(Jl,t),Gl=["light","dark"],Jl=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:o=Gl,defaultTheme:i=r?"system":"light",attribute:a="data-theme",value:c,children:u,nonce:h})=>{const[f,p]=l.useState(()=>ko(s,i)),[m,y]=l.useState(()=>ko(s)),v=c?Object.values(c):o,g=l.useCallback(_=>{let E=_;if(!E)return;_==="system"&&r&&(E=Co());const C=c?c[E]:E,k=e?Xl():null,T=document.documentElement;if(a==="class"?(T.classList.remove(...v),C&&T.classList.add(C)):C?T.setAttribute(a,C):T.removeAttribute(a),n){const N=Qr.includes(i)?i:null,M=Qr.includes(E)?E:N;T.style.colorScheme=M}k==null||k()},[]),b=l.useCallback(_=>{p(_);try{localStorage.setItem(s,_)}catch{}},[t]),x=l.useCallback(_=>{const E=Co(_);y(E),f==="system"&&r&&!t&&g("system")},[f,t]);l.useEffect(()=>{const _=window.matchMedia(js);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),l.useEffect(()=>{const _=E=>{E.key===s&&b(E.newValue||i)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[b]),l.useEffect(()=>{g(t??f)},[t,f]);const w=l.useMemo(()=>({theme:f,setTheme:b,forcedTheme:t,resolvedTheme:f==="system"?m:f,themes:r?[...o,"system"]:o,systemTheme:r?m:void 0}),[f,b,t,m,r,o]);return H.createElement(Os.Provider,{value:w},H.createElement(Yl,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:o,defaultTheme:i,attribute:a,value:c,children:u,attrs:v,nonce:h}),u)},Yl=l.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{const u=o==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;c.remove(${a.map(y=>`'${y}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Qr.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,v=!1,g=!0)=>{const b=i?i[y]:y,x=v?y+"|| ''":`'${b}'`;let w="";return s&&g&&!v&&Qr.includes(y)&&(w+=`d.style.colorScheme = '${y}';`),r==="class"?w+=v||b?`c.add(${x})`:"null":b&&(w+=`d[s](n,${x})`),w},m=t?`!function(){${h}${p(t)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${js}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${u?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return H.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})},()=>!0),ko=(t,e)=>{if(Wl)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},Xl=()=>{const t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Co=t=>(t||(t=window.matchMedia(js)),t.matches?"dark":"light");function Zl({children:t,...e}){return d.jsx(Hl,{...e,children:t})}function we(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function $o(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gn(...t){return e=>{let r=!1;const n=t.map(s=>{const o=$o(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():$o(t[s],null)}}}}function je(...t){return l.useCallback(gn(...t),t)}function fr(t,e=[]){let r=[];function n(o,i){const a=l.createContext(i),c=r.length;r=[...r,i];const u=f=>{var b;const{scope:p,children:m,...y}=f,v=((b=p==null?void 0:p[t])==null?void 0:b[c])||a,g=l.useMemo(()=>y,Object.values(y));return d.jsx(v.Provider,{value:g,children:m})};u.displayName=o+"Provider";function h(f,p){var v;const m=((v=p==null?void 0:p[t])==null?void 0:v[c])||a,y=l.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,h]}const s=()=>{const o=r.map(i=>l.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return l.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[n,Ql(s,...e)]}function Ql(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return l.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function Xn(t){const e=eu(t),r=l.forwardRef((n,s)=>{const{children:o,...i}=n,a=l.Children.toArray(o),c=a.find(ru);if(c){const u=c.props.children,h=a.map(f=>f===c?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:f);return d.jsx(e,{...i,ref:s,children:l.isValidElement(u)?l.cloneElement(u,void 0,h):null})}return d.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function eu(t){const e=l.forwardRef((r,n)=>{const{children:s,...o}=r;if(l.isValidElement(s)){const i=su(s),a=nu(o,s.props);return s.type!==l.Fragment&&(a.ref=n?gn(n,i):i),l.cloneElement(s,a)}return l.Children.count(s)>1?l.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tu=Symbol("radix.slottable");function ru(t){return l.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tu}function nu(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function su(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ou(t){const e=t+"CollectionProvider",[r,n]=fr(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:g,children:b}=v,x=H.useRef(null),w=H.useRef(new Map).current;return d.jsx(s,{scope:g,itemMap:w,collectionRef:x,children:b})};i.displayName=e;const a=t+"CollectionSlot",c=Xn(a),u=H.forwardRef((v,g)=>{const{scope:b,children:x}=v,w=o(a,b),_=je(g,w.collectionRef);return d.jsx(c,{ref:_,children:x})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Xn(h),m=H.forwardRef((v,g)=>{const{scope:b,children:x,...w}=v,_=H.useRef(null),E=je(g,_),C=o(h,b);return H.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),d.jsx(p,{[f]:"",ref:E,children:x})});m.displayName=h;function y(v){const g=o(t+"CollectionConsumer",v);return H.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((C,k)=>w.indexOf(C.ref.current)-w.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},y,n]}var iu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=iu.reduce((t,e)=>{const r=Xn(`Primitive.${e}`),n=l.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ui(t,e){t&&hr.flushSync(()=>t.dispatchEvent(e))}function rt(t){const e=l.useRef(t);return l.useEffect(()=>{e.current=t}),l.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function au(t,e=globalThis==null?void 0:globalThis.document){const r=rt(t);l.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var cu="DismissableLayer",Zn="dismissableLayer.update",lu="dismissableLayer.pointerDownOutside",uu="dismissableLayer.focusOutside",To,Fi=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bi=l.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=t,u=l.useContext(Fi),[h,f]=l.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=l.useState({}),y=je(e,k=>f(k)),v=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(g),x=h?v.indexOf(h):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,E=hu(k=>{const T=k.target,N=[...u.branches].some(M=>M.contains(T));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},p),C=fu(k=>{const T=k.target;[...u.branches].some(M=>M.contains(T))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},p);return au(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},p),l.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(To=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Ro(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=To)}},[h,p,r,u]),l.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Ro())},[h,u]),l.useEffect(()=>{const k=()=>m({});return document.addEventListener(Zn,k),()=>document.removeEventListener(Zn,k)},[]),d.jsx(Ue.div,{...c,ref:y,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,C.onFocusCapture),onBlurCapture:we(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,E.onPointerDownCapture)})});Bi.displayName=cu;var du="DismissableLayerBranch",zi=l.forwardRef((t,e)=>{const r=l.useContext(Fi),n=l.useRef(null),s=je(e,n);return l.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),d.jsx(Ue.div,{...t,ref:s})});zi.displayName=du;function hu(t,e=globalThis==null?void 0:globalThis.document){const r=rt(t),n=l.useRef(!1),s=l.useRef(()=>{});return l.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){Vi(lu,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function fu(t,e=globalThis==null?void 0:globalThis.document){const r=rt(t),n=l.useRef(!1);return l.useEffect(()=>{const s=o=>{o.target&&!n.current&&Vi(uu,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ro(){const t=new CustomEvent(Zn);document.dispatchEvent(t)}function Vi(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Ui(s,o):s.dispatchEvent(o)}var pu=Bi,mu=zi,nt=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},gu="Portal",Wi=l.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,o]=l.useState(!1);nt(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Mi.createPortal(d.jsx(Ue.div,{...n,ref:e}),i):null});Wi.displayName=gu;function vu(t,e){return l.useReducer((r,n)=>e[r][n]??r,t)}var qi=t=>{const{present:e,children:r}=t,n=yu(e),s=typeof r=="function"?r({present:n.isPresent}):l.Children.only(r),o=je(n.ref,bu(s));return typeof r=="function"||n.isPresent?l.cloneElement(s,{ref:o}):null};qi.displayName="Presence";function yu(t){const[e,r]=l.useState(),n=l.useRef(null),s=l.useRef(t),o=l.useRef("none"),i=t?"mounted":"unmounted",[a,c]=vu(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=Ar(n.current);o.current=a==="mounted"?u:"none"},[a]),nt(()=>{const u=n.current,h=s.current;if(h!==t){const p=o.current,m=Ar(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),nt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=m=>{const v=Ar(n.current).includes(CSS.escape(m.animationName));if(m.target===e&&v&&(c("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=m=>{m.target===e&&(o.current=Ar(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:l.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ar(t){return(t==null?void 0:t.animationName)||"none"}function bu(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var wu=mn[" useInsertionEffect ".trim().toString()]||nt;function Ns({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,i]=xu({defaultProp:e,onChange:r}),a=t!==void 0,c=a?t:s;{const h=l.useRef(t!==void 0);l.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,n])}const u=l.useCallback(h=>{var f;if(a){const p=_u(h)?h(t):h;p!==t&&((f=i.current)==null||f.call(i,p))}else o(h)},[a,t,o,i]);return[c,u]}function xu({defaultProp:t,onChange:e}){const[r,n]=l.useState(t),s=l.useRef(r),o=l.useRef(e);return wu(()=>{o.current=e},[e]),l.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function _u(t){return typeof t=="function"}var Eu=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Su="VisuallyHidden",Ps=l.forwardRef((t,e)=>d.jsx(Ue.span,{...t,ref:e,style:{...Eu,...t.style}}));Ps.displayName=Su;var Is="ToastProvider",[Ms,ku,Cu]=ou("Toast"),[Ki]=fr("Toast",[Cu]),[$u,vn]=Ki(Is),Hi=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,c]=l.useState(null),[u,h]=l.useState(0),f=l.useRef(!1),p=l.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Is}\`. Expected non-empty \`string\`.`),d.jsx(Ms.Provider,{scope:e,children:d.jsx($u,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:l.useCallback(()=>h(m=>m+1),[]),onToastRemove:l.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};Hi.displayName=Is;var Gi="ToastViewport",Tu=["F8"],Qn="toast.viewportPause",es="toast.viewportResume",Ji=l.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Tu,label:s="Notifications ({hotkey})",...o}=t,i=vn(Gi,r),a=ku(r),c=l.useRef(null),u=l.useRef(null),h=l.useRef(null),f=l.useRef(null),p=je(e,f,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;l.useEffect(()=>{const g=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),l.useEffect(()=>{const g=c.current,b=f.current;if(y&&g&&b){const x=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(Qn);b.dispatchEvent(C),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(es);b.dispatchEvent(C),i.isClosePausedRef.current=!1}},_=C=>{!g.contains(C.relatedTarget)&&w()},E=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",x),g.addEventListener("focusout",_),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[y,i.isClosePausedRef]);const v=l.useCallback(({tabbingDirection:g})=>{const x=a().map(w=>{const _=w.ref.current,E=[_,...Bu(_)];return g==="forwards"?E:E.reverse()});return(g==="forwards"?x.reverse():x).flat()},[a]);return l.useEffect(()=>{const g=f.current;if(g){const b=x=>{var E,C,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const T=document.activeElement,N=x.shiftKey;if(x.target===g&&N){(E=u.current)==null||E.focus();return}const P=v({tabbingDirection:N?"backwards":"forwards"}),Z=P.findIndex(R=>R===T);An(P.slice(Z+1))?x.preventDefault():N?(C=u.current)==null||C.focus():(k=h.current)==null||k.focus()}};return g.addEventListener("keydown",b),()=>g.removeEventListener("keydown",b)}},[a,v]),d.jsxs(mu,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&d.jsx(ts,{ref:u,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"forwards"});An(g)}}),d.jsx(Ms.Slot,{scope:r,children:d.jsx(Ue.ol,{tabIndex:-1,...o,ref:p})}),y&&d.jsx(ts,{ref:h,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"backwards"});An(g)}})]})});Ji.displayName=Gi;var Yi="ToastFocusProxy",ts=l.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=vn(Yi,r);return d.jsx(Ps,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&n()}})});ts.displayName=Yi;var pr="Toast",Ru="toast.swipeStart",Au="toast.swipeMove",ju="toast.swipeCancel",Ou="toast.swipeEnd",Xi=l.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=t,[a,c]=Ns({prop:n,defaultProp:s??!0,onChange:o,caller:pr});return d.jsx(qi,{present:r||a,children:d.jsx(Iu,{open:a,...i,ref:e,onClose:()=>c(!1),onPause:rt(t.onPause),onResume:rt(t.onResume),onSwipeStart:we(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:we(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Xi.displayName=pr;var[Nu,Pu]=Ki(pr,{onClose(){}}),Iu=l.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...y}=t,v=vn(pr,r),[g,b]=l.useState(null),x=je(e,R=>b(R)),w=l.useRef(null),_=l.useRef(null),E=s||v.duration,C=l.useRef(0),k=l.useRef(E),T=l.useRef(0),{onToastAdd:N,onToastRemove:M}=v,W=rt(()=>{var z;(g==null?void 0:g.contains(document.activeElement))&&((z=v.viewport)==null||z.focus()),i()}),P=l.useCallback(R=>{!R||R===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(W,R))},[W]);l.useEffect(()=>{const R=v.viewport;if(R){const z=()=>{P(k.current),u==null||u()},F=()=>{const ee=new Date().getTime()-C.current;k.current=k.current-ee,window.clearTimeout(T.current),c==null||c()};return R.addEventListener(Qn,F),R.addEventListener(es,z),()=>{R.removeEventListener(Qn,F),R.removeEventListener(es,z)}}},[v.viewport,E,c,u,P]),l.useEffect(()=>{o&&!v.isClosePausedRef.current&&P(E)},[o,E,v.isClosePausedRef,P]),l.useEffect(()=>(N(),()=>M()),[N,M]);const Z=l.useMemo(()=>g?sa(g):null,[g]);return v.viewport?d.jsxs(d.Fragment,{children:[Z&&d.jsx(Mu,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:Z}),d.jsx(Nu,{scope:r,onClose:W,children:hr.createPortal(d.jsx(Ms.ItemSlot,{scope:r,children:d.jsx(pu,{asChild:!0,onEscapeKeyDown:we(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||W(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ue.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,R=>{R.key==="Escape"&&(a==null||a(R.nativeEvent),R.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:we(t.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:we(t.onPointerMove,R=>{if(!w.current)return;const z=R.clientX-w.current.x,F=R.clientY-w.current.y,ee=!!_.current,D=["left","right"].includes(v.swipeDirection),A=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,G=D?A(0,z):0,te=D?0:A(0,F),oe=R.pointerType==="touch"?10:2,de={x:G,y:te},me={originalEvent:R,delta:de};ee?(_.current=de,jr(Au,f,me,{discrete:!1})):Ao(de,v.swipeDirection,oe)?(_.current=de,jr(Ru,h,me,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(z)>oe||Math.abs(F)>oe)&&(w.current=null)}),onPointerUp:we(t.onPointerUp,R=>{const z=_.current,F=R.target;if(F.hasPointerCapture(R.pointerId)&&F.releasePointerCapture(R.pointerId),_.current=null,w.current=null,z){const ee=R.currentTarget,D={originalEvent:R,delta:z};Ao(z,v.swipeDirection,v.swipeThreshold)?jr(Ou,m,D,{discrete:!0}):jr(ju,p,D,{discrete:!0}),ee.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Mu=t=>{const{__scopeToast:e,children:r,...n}=t,s=vn(pr,e),[o,i]=l.useState(!1),[a,c]=l.useState(!1);return Uu(()=>i(!0)),l.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(Wi,{asChild:!0,children:d.jsx(Ps,{...n,children:o&&d.jsxs(d.Fragment,{children:[s.label," ",r]})})})},Du="ToastTitle",Zi=l.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Ue.div,{...n,ref:e})});Zi.displayName=Du;var Lu="ToastDescription",Qi=l.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Ue.div,{...n,ref:e})});Qi.displayName=Lu;var ea="ToastAction",ta=l.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?d.jsx(na,{altText:r,asChild:!0,children:d.jsx(Ds,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ea}\`. Expected non-empty \`string\`.`),null)});ta.displayName=ea;var ra="ToastClose",Ds=l.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Pu(ra,r);return d.jsx(na,{asChild:!0,children:d.jsx(Ue.button,{type:"button",...n,ref:e,onClick:we(t.onClick,s.onClose)})})});Ds.displayName=ra;var na=l.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return d.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function sa(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Fu(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...sa(n))}}),e}function jr(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Ui(s,o):s.dispatchEvent(o)}var Ao=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function Uu(t=()=>{}){const e=rt(t);nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Fu(t){return t.nodeType===t.ELEMENT_NODE}function Bu(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function An(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var zu=Hi,oa=Ji,ia=Xi,aa=Zi,ca=Qi,la=ta,ua=Ds;function da(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=da(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Vu(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=da(t))&&(n&&(n+=" "),n+=e);return n}const jo=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Oo=Vu,yn=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Oo(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],f=o==null?void 0:o[u];if(h===null)return null;const p=jo(h)||jo(f);return s[u][p]}),a=r&&Object.entries(r).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(y=>{let[v,g]=y;return Array.isArray(g)?g.includes({...o,...a}[v]):{...o,...a}[v]===g})?[...u,f,p]:u},[]);return Oo(t,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(t,e)=>{const r=l.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:a="",children:c,...u},h)=>l.createElement("svg",{ref:h,...Wu,width:s,height:s,stroke:n,strokeWidth:i?Number(o)*24/Number(s):o,className:["lucide",`lucide-${qu(t)}`,a].join(" "),...u},[...e.map(([f,p])=>l.createElement(f,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ue("CornerRightDown",[["polyline",{points:"10 15 15 20 20 15",key:"axus6l"}],["path",{d:"M4 4h7a4 4 0 0 1 4 4v12",key:"wcbgct"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ue("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ue("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ue("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=ue("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function fa(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=fa(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function cd(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=fa(t))&&(n&&(n+=" "),n+=e);return n}const Ls="-";function ld(t){const e=dd(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;function s(i){const a=i.split(Ls);return a[0]===""&&a.length!==1&&a.shift(),pa(a,e)||ud(i)}function o(i,a){const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function pa(t,e){var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?pa(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Ls);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId}const Po=/^\[(.+)\]$/;function ud(t){if(Po.test(t)){const e=Po.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function dd(t){const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return fd(Object.entries(t.classGroups),r).forEach(([o,i])=>{ns(i,n,o,e)}),n}function ns(t,e,r,n){t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Io(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(hd(s)){ns(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{ns(i,Io(e,o),r,n)})})}function Io(t,e){let r=t;return e.split(Ls).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function hd(t){return t.isThemeGetter}function fd(t,e){return e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[r,s]}):t}function pd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;function s(o,i){r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)}return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}}const ma="!";function md(t){const e=t.separator,r=e.length===1,n=e[0],s=e.length;return function(i){const a=[];let c=0,u=0,h;for(let v=0;v<i.length;v++){let g=i[v];if(c===0){if(g===n&&(r||i.slice(v,v+s)===e)){a.push(i.slice(u,v)),u=v+s;continue}if(g==="/"){h=v;continue}}g==="["?c++:g==="]"&&c--}const f=a.length===0?i:i.substring(u),p=f.startsWith(ma),m=p?f.substring(1):f,y=h&&h>u?h-u:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}}}function gd(t){if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e}function vd(t){return{cache:pd(t.cacheSize),splitModifiers:md(t),...ld(t)}}const yd=/\s+/;function bd(t,e){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=new Set;return t.trim().split(yd).map(i=>{const{modifiers:a,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:h}=r(i);let f=n(h?u.substring(0,h):u),p=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:i};if(f=n(u),!f)return{isTailwindClass:!1,originalClassName:i};p=!1}const m=gd(a).join(":");return{isTailwindClass:!0,modifierId:c?m+ma:m,classGroupId:f,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(i=>{if(!i.isTailwindClass)return!0;const{modifierId:a,classGroupId:c,hasPostfixModifier:u}=i,h=a+c;return o.has(h)?!1:(o.add(h),s(c,u).forEach(f=>o.add(a+f)),!0)}).reverse().map(i=>i.originalClassName).join(" ")}function wd(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=ga(e))&&(n&&(n+=" "),n+=r);return n}function ga(t){if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=ga(t[n]))&&(r&&(r+=" "),r+=e);return r}function xd(t,...e){let r,n,s,o=i;function i(c){const u=e.reduce((h,f)=>f(h),t());return r=vd(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const h=bd(c,r);return s(c,h),h}return function(){return o(wd.apply(null,arguments))}}function ne(t){const e=r=>r[t]||[];return e.isThemeGetter=!0,e}const va=/^\[(?:([a-z-]+):)?(.+)\]$/i,_d=/^\d+\/\d+$/,Ed=new Set(["px","full","screen"]),Sd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cd=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$d=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Be(t){return pt(t)||Ed.has(t)||_d.test(t)}function Ge(t){return Bt(t,"length",Id)}function pt(t){return!!t&&!Number.isNaN(Number(t))}function Or(t){return Bt(t,"number",pt)}function Yt(t){return!!t&&Number.isInteger(Number(t))}function Td(t){return t.endsWith("%")&&pt(t.slice(0,-1))}function q(t){return va.test(t)}function Je(t){return Sd.test(t)}const Rd=new Set(["length","size","percentage"]);function Ad(t){return Bt(t,Rd,ya)}function jd(t){return Bt(t,"position",ya)}const Od=new Set(["image","url"]);function Nd(t){return Bt(t,Od,Dd)}function Pd(t){return Bt(t,"",Md)}function Xt(){return!0}function Bt(t,e,r){const n=va.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1}function Id(t){return kd.test(t)}function ya(){return!1}function Md(t){return Cd.test(t)}function Dd(t){return $d.test(t)}function Ld(){const t=ne("colors"),e=ne("spacing"),r=ne("blur"),n=ne("brightness"),s=ne("borderColor"),o=ne("borderRadius"),i=ne("borderSpacing"),a=ne("borderWidth"),c=ne("contrast"),u=ne("grayscale"),h=ne("hueRotate"),f=ne("invert"),p=ne("gap"),m=ne("gradientColorStops"),y=ne("gradientColorStopPositions"),v=ne("inset"),g=ne("margin"),b=ne("opacity"),x=ne("padding"),w=ne("saturate"),_=ne("scale"),E=ne("sepia"),C=ne("skew"),k=ne("space"),T=ne("translate"),N=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",q,e],P=()=>[q,e],Z=()=>["",Be,Ge],R=()=>["auto",pt,q],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],D=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",q],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[pt,Or],oe=()=>[pt,q];return{cacheSize:500,separator:":",theme:{colors:[Xt],spacing:[Be,Ge],blur:["none","",Je,q],brightness:te(),borderColor:[t],borderRadius:["none","","full",Je,q],borderSpacing:P(),borderWidth:Z(),contrast:te(),grayscale:A(),hueRotate:oe(),invert:A(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Td,Ge],inset:W(),margin:W(),opacity:te(),padding:P(),saturate:te(),scale:te(),sepia:A(),skew:oe(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[Je]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),q]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yt,q]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Yt,q]}],"grid-cols":[{"grid-cols":[Xt]}],"col-start-end":[{col:["auto",{span:["full",Yt,q]},q]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Xt]}],"row-start-end":[{row:["auto",{span:[Yt,q]},q]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",q,e]}],"min-w":[{"min-w":[q,e,"min","max","fit"]}],"max-w":[{"max-w":[q,e,"none","full","min","max","fit","prose",{screen:[Je]},Je]}],h:[{h:[q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Je,Ge]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Or]}],"font-family":[{font:[Xt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",pt,Or]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Be,q]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Be,Ge]}],"underline-offset":[{"underline-offset":["auto",Be,q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),jd]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ad]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Nd]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Be,q]}],"outline-w":[{outline:[Be,Ge]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Be,Ge]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Je,Pd]}],"shadow-color":[{shadow:[Xt]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":ee()}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Je,q]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Yt,q]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Be,Ge,Or]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Ud=xd(Ld);function J(...t){return Ud(cd(t))}const Fd=zu,ba=l.forwardRef(({className:t,...e},r)=>d.jsx(oa,{ref:r,className:J("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ba.displayName=oa.displayName;const Bd=yn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full sm:data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wa=l.forwardRef(({className:t,variant:e,...r},n)=>d.jsx(ia,{ref:n,className:J(Bd({variant:e}),t),...r}));wa.displayName=ia.displayName;const zd=l.forwardRef(({className:t,...e},r)=>d.jsx(la,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 hover:group-[.destructive]:border-destructive/30 hover:group-[.destructive]:bg-destructive hover:group-[.destructive]:text-destructive-foreground focus:group-[.destructive]:ring-destructive",t),...e}));zd.displayName=la.displayName;const xa=l.forwardRef(({className:t,...e},r)=>d.jsx(ua,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-hidden focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 hover:group-[.destructive]:text-red-50 focus:group-[.destructive]:ring-red-400 focus:group-[.destructive]:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(ad,{className:"h-4 w-4"})}));xa.displayName=ua.displayName;const _a=l.forwardRef(({className:t,...e},r)=>d.jsx(aa,{ref:r,className:J("text-sm font-semibold",t),...e}));_a.displayName=aa.displayName;const Ea=l.forwardRef(({className:t,...e},r)=>d.jsx(ca,{ref:r,className:J("text-sm opacity-90",t),...e}));Ea.displayName=ca.displayName;const Vd=1,Wd=1e6;let jn=0;function qd(){return jn=(jn+1)%Number.MAX_SAFE_INTEGER,jn.toString()}const On=new Map,Mo=t=>{if(On.has(t))return;const e=setTimeout(()=>{On.delete(t),er({type:"REMOVE_TOAST",toastId:t})},Wd);On.set(t,e)},Kd=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Vd)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Mo(r):t.toasts.forEach(n=>{Mo(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Hr=[];let Gr={toasts:[]};function er(t){Gr=Kd(Gr,t),Hr.forEach(e=>{e(Gr)})}function Hd({...t}){const e=qd(),r=s=>er({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>er({type:"DISMISS_TOAST",toastId:e});return er({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function mr(){const[t,e]=l.useState(Gr);return l.useEffect(()=>(Hr.push(e),()=>{const r=Hr.indexOf(e);r>-1&&Hr.splice(r,1)}),[t]),{...t,toast:Hd,dismiss:r=>er({type:"DISMISS_TOAST",toastId:r})}}function Gd(){const{toasts:t}=mr();return d.jsxs(Fd,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return d.jsxs(wa,{...o,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(_a,{children:r}),n&&d.jsx(Ea,{children:n})]}),s,d.jsx(xa,{})]},e)}),d.jsx(ba,{})]})}var Jd=Symbol.for("react.lazy"),tn=mn[" use ".trim().toString()];function Yd(t){return typeof t=="object"&&t!==null&&"then"in t}function Sa(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Jd&&"_payload"in t&&Yd(t._payload)}function Xd(t){const e=Qd(t),r=l.forwardRef((n,s)=>{let{children:o,...i}=n;Sa(o)&&typeof tn=="function"&&(o=tn(o._payload));const a=l.Children.toArray(o),c=a.find(th);if(c){const u=c.props.children,h=a.map(f=>f===c?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:f);return d.jsx(e,{...i,ref:s,children:l.isValidElement(u)?l.cloneElement(u,void 0,h):null})}return d.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var Zd=Xd("Slot");function Qd(t){const e=l.forwardRef((r,n)=>{let{children:s,...o}=r;if(Sa(s)&&typeof tn=="function"&&(s=tn(s._payload)),l.isValidElement(s)){const i=nh(s),a=rh(o,s.props);return s.type!==l.Fragment&&(a.ref=n?gn(n,i):i),l.cloneElement(s,a)}return l.Children.count(s)>1?l.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eh=Symbol("radix.slottable");function th(t){return l.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eh}function rh(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function nh(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const sh=yn("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",pulseBtn:"bg-primary text-primary-foreground hover:bg-primary/90 animate-pulse-glow",spinner:"inline-flex border border-4 animate-spinner rounded-full border-r-primary",skeleton:"bg-skeleton bg-size-[400%_100%] animate-skeleton text-transparent",hover1:"bg-primary text-primary-foreground border-b-4 border-b-border-secondary hover:bg-primary/90 border-t-0 transition-all duration-100 ease-in-out hover:border-b-0 hover:border-t-4",clickIn:"bg-primary hover:scale-[1.05] text-primary-foreground active:scale-[0.95] hover:bg-primary/90 transition",ringHover:"bg-primary text-primary-foreground transition-all duration-300 hover:bg-primary/90 hover:ring-2 hover:ring-primary/90 hover:ring-offset-2",popUp:"bg-primary text-primary-foreground transition-all hover:shadow-[4px_4px_0px_1px] hover:shadow-primary/50 dark:shadow-gray-600 hover:-translate-x-1 hover:-translate-y-1",popIn:"bg-primary text-primary-foreground transition-all shadow-[4px_4px_0px_1px] shadow-primary/50 dark:shadow-gray-600 hover:translate-x-1 hover:translate-y-1 hover:shadow-[0px_0px_0px_0px]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=l.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?Zd:"button";return d.jsx(i,{className:J(sh({variant:e,size:r,className:t})),ref:o,...s})});se.displayName="Button";function oh(){return d.jsxs(Mt,{to:"/",className:"logo-full select-none hover:bg-secondary py-1 px-3 rounded-md flex items-center gap-1.5",children:[d.jsxs("picture",{children:[d.jsx("source",{media:"(max-width: 768px)",srcSet:"https://i.imgur.com/ES8tURJ.png"}),d.jsx("img",{src:"https://i.imgur.com/ES8tURJ.png",width:200,alt:"LinkShot Logo",className:"logo logo-img max-w-[50px] mt-1 md:max-w-none"})]}),d.jsx("h1",{className:"logo-text",style:{fontSize:"20px",fontWeight:"bolder !important"},children:"linkshot.lol"})]})}function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U.apply(this,arguments)}function Q(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ih(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function gr(...t){return e=>t.forEach(r=>ih(r,e))}function Ee(...t){return l.useCallback(gr(...t),t)}function vr(t,e=[]){let r=[];function n(o,i){const a=l.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:p,children:m,...y}=f,v=(p==null?void 0:p[t][c])||a,g=l.useMemo(()=>y,Object.values(y));return l.createElement(v.Provider,{value:g},m)}function h(f,p){const m=(p==null?void 0:p[t][c])||a,y=l.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,h]}const s=()=>{const o=r.map(i=>l.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return l.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[n,ah(s,...e)]}function ah(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return l.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function ka(t){const e=l.useRef(t);return l.useEffect(()=>{e.current=t}),l.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function Ca({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=ch({defaultProp:e,onChange:r}),o=t!==void 0,i=o?t:n,a=ka(r),c=l.useCallback(u=>{if(o){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[o,t,s,a]);return[i,c]}function ch({defaultProp:t,onChange:e}){const r=l.useState(t),[n]=r,s=l.useRef(n),o=ka(e);return l.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}const $a=l.forwardRef((t,e)=>{const{children:r,...n}=t,s=l.Children.toArray(r),o=s.find(uh);if(o){const i=o.props.children,a=s.map(c=>c===o?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:c);return l.createElement(ss,U({},n,{ref:e}),l.isValidElement(i)?l.cloneElement(i,void 0,a):null)}return l.createElement(ss,U({},n,{ref:e}),r)});$a.displayName="Slot";const ss=l.forwardRef((t,e)=>{const{children:r,...n}=t;return l.isValidElement(r)?l.cloneElement(r,{...dh(n,r.props),ref:e?gr(e,r.ref):r.ref}):l.Children.count(r)>1?l.Children.only(null):null});ss.displayName="SlotClone";const lh=({children:t})=>l.createElement(l.Fragment,null,t);function uh(t){return l.isValidElement(t)&&t.type===lh}function dh(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}const hh=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ke=hh.reduce((t,e)=>{const r=l.forwardRef((n,s)=>{const{asChild:o,...i}=n,a=o?$a:e;return l.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),l.createElement(a,U({},i,{ref:s}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Ta(t,e){t&&hr.flushSync(()=>t.dispatchEvent(e))}const rn=l.forwardRef((t,e)=>{const{children:r,...n}=t,s=l.Children.toArray(r),o=s.find(ph);if(o){const i=o.props.children,a=s.map(c=>c===o?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:c);return l.createElement(os,U({},n,{ref:e}),l.isValidElement(i)?l.cloneElement(i,void 0,a):null)}return l.createElement(os,U({},n,{ref:e}),r)});rn.displayName="Slot";const os=l.forwardRef((t,e)=>{const{children:r,...n}=t;return l.isValidElement(r)?l.cloneElement(r,{...mh(n,r.props),ref:e?gr(e,r.ref):r.ref}):l.Children.count(r)>1?l.Children.only(null):null});os.displayName="SlotClone";const fh=({children:t})=>l.createElement(l.Fragment,null,t);function ph(t){return l.isValidElement(t)&&t.type===fh}function mh(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function Ra(t){const e=t+"CollectionProvider",[r,n]=vr(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:y,children:v}=m,g=H.useRef(null),b=H.useRef(new Map).current;return H.createElement(s,{scope:y,itemMap:b,collectionRef:g},v)},a=t+"CollectionSlot",c=H.forwardRef((m,y)=>{const{scope:v,children:g}=m,b=o(a,v),x=Ee(y,b.collectionRef);return H.createElement(rn,{ref:x},g)}),u=t+"CollectionItemSlot",h="data-radix-collection-item",f=H.forwardRef((m,y)=>{const{scope:v,children:g,...b}=m,x=H.useRef(null),w=Ee(y,x),_=o(u,v);return H.useEffect(()=>(_.itemMap.set(x,{ref:x,...b}),()=>void _.itemMap.delete(x))),H.createElement(rn,{[h]:"",ref:w},g)});function p(m){const y=o(t+"CollectionConsumer",m);return H.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((_,E)=>b.indexOf(_.ref.current)-b.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},p,n]}const gh=l.createContext(void 0);function Aa(t){const e=l.useContext(gh);return t||e||"ltr"}function st(t){const e=l.useRef(t);return l.useEffect(()=>{e.current=t}),l.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function vh(t,e=globalThis==null?void 0:globalThis.document){const r=st(t);l.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)},[r,e])}const is="dismissableLayer.update",yh="dismissableLayer.pointerDownOutside",bh="dismissableLayer.focusOutside";let Do;const wh=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xh=l.forwardRef((t,e)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...u}=t,h=l.useContext(wh),[f,p]=l.useState(null),m=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,y]=l.useState({}),v=Ee(e,T=>p(T)),g=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),w=f?g.indexOf(f):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,E=w>=x,C=_h(T=>{const N=T.target,M=[...h.branches].some(W=>W.contains(N));!E||M||(o==null||o(T),a==null||a(T),T.defaultPrevented||c==null||c())},m),k=Eh(T=>{const N=T.target;[...h.branches].some(W=>W.contains(N))||(i==null||i(T),a==null||a(T),T.defaultPrevented||c==null||c())},m);return vh(T=>{w===h.layers.size-1&&(s==null||s(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},m),l.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Do=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Lo(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Do)}},[f,m,n,h]),l.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Lo())},[f,h]),l.useEffect(()=>{const T=()=>y({});return document.addEventListener(is,T),()=>document.removeEventListener(is,T)},[]),l.createElement(ke.div,U({},u,{ref:v,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:Q(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Q(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Q(t.onPointerDownCapture,C.onPointerDownCapture)}))});function _h(t,e=globalThis==null?void 0:globalThis.document){const r=st(t),n=l.useRef(!1),s=l.useRef(()=>{});return l.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let u=function(){ja(yh,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Eh(t,e=globalThis==null?void 0:globalThis.document){const r=st(t),n=l.useRef(!1);return l.useEffect(()=>{const s=o=>{o.target&&!n.current&&ja(bh,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Lo(){const t=new CustomEvent(is);document.dispatchEvent(t)}function ja(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Ta(s,o):s.dispatchEvent(o)}let Nn=0;function Sh(){l.useEffect(()=>{var t,e;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=r[0])!==null&&t!==void 0?t:Uo()),document.body.insertAdjacentElement("beforeend",(e=r[1])!==null&&e!==void 0?e:Uo()),Nn++,()=>{Nn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Nn--}},[])}function Uo(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Pn="focusScope.autoFocusOnMount",In="focusScope.autoFocusOnUnmount",Fo={bubbles:!1,cancelable:!0},kh=l.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,c]=l.useState(null),u=st(s),h=st(o),f=l.useRef(null),p=Ee(e,v=>c(v)),m=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(n){let v=function(w){if(m.paused||!a)return;const _=w.target;a.contains(_)?f.current=_:Ze(f.current,{select:!0})},g=function(w){if(m.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||Ze(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Ze(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",g);const x=new MutationObserver(b);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",g),x.disconnect()}}},[n,a,m.paused]),l.useEffect(()=>{if(a){zo.add(m);const v=document.activeElement;if(!a.contains(v)){const b=new CustomEvent(Pn,Fo);a.addEventListener(Pn,u),a.dispatchEvent(b),b.defaultPrevented||(Ch(jh(Oa(a)),{select:!0}),document.activeElement===v&&Ze(a))}return()=>{a.removeEventListener(Pn,u),setTimeout(()=>{const b=new CustomEvent(In,Fo);a.addEventListener(In,h),a.dispatchEvent(b),b.defaultPrevented||Ze(v??document.body,{select:!0}),a.removeEventListener(In,h),zo.remove(m)},0)}}},[a,u,h,m]);const y=l.useCallback(v=>{if(!r&&!n||m.paused)return;const g=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(g&&b){const x=v.currentTarget,[w,_]=$h(x);w&&_?!v.shiftKey&&b===_?(v.preventDefault(),r&&Ze(w,{select:!0})):v.shiftKey&&b===w&&(v.preventDefault(),r&&Ze(_,{select:!0})):b===x&&v.preventDefault()}},[r,n,m.paused]);return l.createElement(ke.div,U({tabIndex:-1},i,{ref:p,onKeyDown:y}))});function Ch(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ze(n,{select:e}),document.activeElement!==r)return}function $h(t){const e=Oa(t),r=Bo(e,t),n=Bo(e.reverse(),t);return[r,n]}function Oa(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Bo(t,e){for(const r of t)if(!Th(r,{upTo:e}))return r}function Th(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rh(t){return t instanceof HTMLInputElement&&"select"in t}function Ze(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Rh(t)&&e&&t.select()}}const zo=Ah();function Ah(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Vo(t,e),t.unshift(e)},remove(e){var r;t=Vo(t,e),(r=t[0])===null||r===void 0||r.resume()}}}function Vo(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function jh(t){return t.filter(e=>e.tagName!=="A")}const Oh=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},Nh=mn.useId||(()=>{});let Ph=0;function as(t){const[e,r]=l.useState(Nh());return Oh(()=>{r(n=>n??String(Ph++))},[t]),e?`radix-${e}`:""}const Ih=["top","right","bottom","left"],ot=Math.min,be=Math.max,nn=Math.round,Nr=Math.floor,Me=t=>({x:t,y:t}),Mh={left:"right",right:"left",bottom:"top",top:"bottom"},Dh={start:"end",end:"start"};function cs(t,e,r){return be(t,ot(e,r))}function We(t,e){return typeof t=="function"?t(e):t}function qe(t){return t.split("-")[0]}function zt(t){return t.split("-")[1]}function Us(t){return t==="x"?"y":"x"}function Fs(t){return t==="y"?"height":"width"}const Lh=new Set(["top","bottom"]);function Ie(t){return Lh.has(qe(t))?"y":"x"}function Bs(t){return Us(Ie(t))}function Uh(t,e,r){r===void 0&&(r=!1);const n=zt(t),s=Bs(t),o=Fs(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=sn(i)),[i,sn(i)]}function Fh(t){const e=sn(t);return[ls(t),e,ls(e)]}function ls(t){return t.replace(/start|end/g,e=>Dh[e])}const Wo=["left","right"],qo=["right","left"],Bh=["top","bottom"],zh=["bottom","top"];function Vh(t,e,r){switch(t){case"top":case"bottom":return r?e?qo:Wo:e?Wo:qo;case"left":case"right":return e?Bh:zh;default:return[]}}function Wh(t,e,r,n){const s=zt(t);let o=Vh(qe(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(ls)))),o}function sn(t){return t.replace(/left|right|bottom|top/g,e=>Mh[e])}function qh(t){return{top:0,right:0,bottom:0,left:0,...t}}function Na(t){return typeof t!="number"?qh(t):{top:t,right:t,bottom:t,left:t}}function on(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Ko(t,e,r){let{reference:n,floating:s}=t;const o=Ie(e),i=Bs(e),a=Fs(i),c=qe(e),u=o==="y",h=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let m;switch(c){case"top":m={x:h,y:n.y-s.height};break;case"bottom":m={x:h,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(zt(e)){case"start":m[i]-=p*(r&&u?-1:1);break;case"end":m[i]+=p*(r&&u?-1:1);break}return m}async function Kh(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=We(e,t),y=Na(m),g=a[p?f==="floating"?"reference":"floating":f],b=on(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(g)))==null||r?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),x=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},E=on(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-E.top+y.top)/_.y,bottom:(E.bottom-b.bottom+y.bottom)/_.y,left:(b.left-E.left+y.left)/_.x,right:(E.right-b.right+y.right)/_.x}}const Hh=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=Ko(u,n,c),p=n,m={},y=0;for(let g=0;g<a.length;g++){var v;const{name:b,fn:x}=a[g],{x:w,y:_,data:E,reset:C}=await x({x:h,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:u,platform:{...i,detectOverflow:(v=i.detectOverflow)!=null?v:Kh},elements:{reference:t,floating:e}});h=w??h,f=_??f,m={...m,[b]:{...m[b],...E}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:h,y:f}=Ko(u,p,c)),g=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:m}},Gh=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=e,{element:u,padding:h=0}=We(t,e)||{};if(u==null)return{};const f=Na(h),p={x:r,y:n},m=Bs(s),y=Fs(m),v=await i.getDimensions(u),g=m==="y",b=g?"top":"left",x=g?"bottom":"right",w=g?"clientHeight":"clientWidth",_=o.reference[y]+o.reference[m]-p[m]-o.floating[y],E=p[m]-o.reference[m],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=C?C[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(C)))&&(k=a.floating[w]||o.floating[y]);const T=_/2-E/2,N=k/2-v[y]/2-1,M=ot(f[b],N),W=ot(f[x],N),P=M,Z=k-v[y]-W,R=k/2-v[y]/2+T,z=cs(P,R,Z),F=!c.arrow&&zt(s)!=null&&R!==z&&o.reference[y]/2-(R<P?M:W)-v[y]/2<0,ee=F?R<P?R-P:R-Z:0;return{[m]:p[m]+ee,data:{[m]:z,centerOffset:R-z-ee,...F&&{alignmentOffset:ee}},reset:F}}}),Jh=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...g}=We(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const b=qe(s),x=Ie(a),w=qe(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=p||(w||!v?[sn(a)]:Fh(a)),C=y!=="none";!p&&C&&E.push(...Wh(a,v,y,_));const k=[a,...E],T=await c.detectOverflow(e,g),N=[];let M=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&N.push(T[b]),f){const R=Uh(s,i,_);N.push(T[R[0]],T[R[1]])}if(M=[...M,{placement:s,overflows:N}],!N.every(R=>R<=0)){var W,P;const R=(((W=o.flip)==null?void 0:W.index)||0)+1,z=k[R];if(z&&(!(f==="alignment"?x!==Ie(z):!1)||M.every(D=>Ie(D.placement)===x?D.overflows[0]>0:!0)))return{data:{index:R,overflows:M},reset:{placement:z}};let F=(P=M.filter(ee=>ee.overflows[0]<=0).sort((ee,D)=>ee.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(m){case"bestFit":{var Z;const ee=(Z=M.filter(D=>{if(C){const A=Ie(D.placement);return A===x||A==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(A=>A>0).reduce((A,G)=>A+G,0)]).sort((D,A)=>D[1]-A[1])[0])==null?void 0:Z[0];ee&&(F=ee);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function Ho(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Go(t){return Ih.some(e=>t[e]>=0)}const Yh=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r,platform:n}=e,{strategy:s="referenceHidden",...o}=We(t,e);switch(s){case"referenceHidden":{const i=await n.detectOverflow(e,{...o,elementContext:"reference"}),a=Ho(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Go(a)}}}case"escaped":{const i=await n.detectOverflow(e,{...o,altBoundary:!0}),a=Ho(i,r.floating);return{data:{escapedOffsets:a,escaped:Go(a)}}}default:return{}}}}},Pa=new Set(["left","top"]);async function Xh(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=qe(r),a=zt(r),c=Ie(r)==="y",u=Pa.has(i)?-1:1,h=o&&c?-1:1,f=We(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),c?{x:m*h,y:p*u}:{x:p*u,y:m*h}}const Zh=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=e,c=await Xh(e,t);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},Qh=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s,platform:o}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:b=>{let{x,y:w}=b;return{x,y:w}}},...u}=We(t,e),h={x:r,y:n},f=await o.detectOverflow(e,u),p=Ie(qe(s)),m=Us(p);let y=h[m],v=h[p];if(i){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=y+f[b],_=y-f[x];y=cs(w,y,_)}if(a){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=v+f[b],_=v-f[x];v=cs(w,v,_)}const g=c.fn({...e,[m]:y,[p]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[p]:a}}}}}},ef=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=We(t,e),h={x:r,y:n},f=Ie(s),p=Us(f);let m=h[p],y=h[f];const v=We(a,e),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=p==="y"?"height":"width",_=o.reference[p]-o.floating[w]+g.mainAxis,E=o.reference[p]+o.reference[w]-g.mainAxis;m<_?m=_:m>E&&(m=E)}if(u){var b,x;const w=p==="y"?"width":"height",_=Pa.has(qe(s)),E=o.reference[f]-o.floating[w]+(_&&((b=i.offset)==null?void 0:b[f])||0)+(_?0:g.crossAxis),C=o.reference[f]+o.reference[w]+(_?0:((x=i.offset)==null?void 0:x[f])||0)-(_?g.crossAxis:0);y<E?y=E:y>C&&(y=C)}return{[p]:m,[f]:y}}}},tf=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:c=()=>{},...u}=We(t,e),h=await i.detectOverflow(e,u),f=qe(s),p=zt(s),m=Ie(s)==="y",{width:y,height:v}=o.floating;let g,b;f==="top"||f==="bottom"?(g=f,b=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,g=p==="end"?"top":"bottom");const x=v-h.top-h.bottom,w=y-h.left-h.right,_=ot(v-h[g],x),E=ot(y-h[b],w),C=!e.middlewareData.shift;let k=_,T=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=x),C&&!p){const M=be(h.left,0),W=be(h.right,0),P=be(h.top,0),Z=be(h.bottom,0);m?T=y-2*(M!==0||W!==0?M+W:be(h.left,h.right)):k=v-2*(P!==0||Z!==0?P+Z:be(h.top,h.bottom))}await c({...e,availableWidth:T,availableHeight:k});const N=await i.getDimensions(a.floating);return y!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function bn(){return typeof window<"u"}function Vt(t){return Ia(t)?(t.nodeName||"").toLowerCase():"#document"}function _e(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fe(t){var e;return(e=(Ia(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ia(t){return bn()?t instanceof Node||t instanceof _e(t).Node:!1}function Oe(t){return bn()?t instanceof Element||t instanceof _e(t).Element:!1}function Le(t){return bn()?t instanceof HTMLElement||t instanceof _e(t).HTMLElement:!1}function Jo(t){return!bn()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _e(t).ShadowRoot}const rf=new Set(["inline","contents"]);function yr(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Ne(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!rf.has(s)}const nf=new Set(["table","td","th"]);function sf(t){return nf.has(Vt(t))}const of=[":popover-open",":modal"];function wn(t){return of.some(e=>{try{return t.matches(e)}catch{return!1}})}const af=["transform","translate","scale","rotate","perspective"],cf=["transform","translate","scale","rotate","perspective","filter"],lf=["paint","layout","strict","content"];function zs(t){const e=Vs(),r=Oe(t)?Ne(t):t;return af.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||cf.some(n=>(r.willChange||"").includes(n))||lf.some(n=>(r.contain||"").includes(n))}function uf(t){let e=it(t);for(;Le(e)&&!Ft(e);){if(zs(e))return e;if(wn(e))return null;e=it(e)}return null}function Vs(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const df=new Set(["html","body","#document"]);function Ft(t){return df.has(Vt(t))}function Ne(t){return _e(t).getComputedStyle(t)}function xn(t){return Oe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function it(t){if(Vt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jo(t)&&t.host||Fe(t);return Jo(e)?e.host:e}function Ma(t){const e=it(t);return Ft(e)?t.ownerDocument?t.ownerDocument.body:t.body:Le(e)&&yr(e)?e:Ma(e)}function nr(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Ma(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=_e(s);if(o){const a=us(i);return e.concat(i,i.visualViewport||[],yr(s)?s:[],a&&r?nr(a):[])}return e.concat(s,nr(s,[],r))}function us(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Da(t){const e=Ne(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Le(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,a=nn(r)!==o||nn(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Ws(t){return Oe(t)?t:t.contextElement}function Dt(t){const e=Ws(t);if(!Le(e))return Me(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=Da(e);let i=(o?nn(r.width):r.width)/n,a=(o?nn(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const hf=Me(0);function La(t){const e=_e(t);return!Vs()||!e.visualViewport?hf:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ff(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==_e(t)?!1:e}function gt(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Ws(t);let i=Me(1);e&&(n?Oe(n)&&(i=Dt(n)):i=Dt(t));const a=ff(o,r,n)?La(o):Me(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(o){const p=_e(o),m=n&&Oe(n)?_e(n):n;let y=p,v=us(y);for(;v&&n&&m!==y;){const g=Dt(v),b=v.getBoundingClientRect(),x=Ne(v),w=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,_=b.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,h*=g.x,f*=g.y,c+=w,u+=_,y=_e(v),v=us(y)}}return on({width:h,height:f,x:c,y:u})}function _n(t,e){const r=xn(t).scrollLeft;return e?e.left+r:gt(Fe(t)).left+r}function Ua(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-_n(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function pf(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=Fe(n),a=e?wn(e.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Me(1);const h=Me(0),f=Le(n);if((f||!f&&!o)&&((Vt(n)!=="body"||yr(i))&&(c=xn(n)),Le(n))){const m=gt(n);u=Dt(n),h.x=m.x+n.clientLeft,h.y=m.y+n.clientTop}const p=i&&!f&&!o?Ua(i,c):Me(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+p.x,y:r.y*u.y-c.scrollTop*u.y+h.y+p.y}}function mf(t){return Array.from(t.getClientRects())}function gf(t){const e=Fe(t),r=xn(t),n=t.ownerDocument.body,s=be(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=be(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+_n(t);const a=-r.scrollTop;return Ne(n).direction==="rtl"&&(i+=be(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}const Yo=25;function vf(t,e){const r=_e(t),n=Fe(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const h=Vs();(!h||h&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const u=_n(n);if(u<=0){const h=n.ownerDocument,f=h.body,p=getComputedStyle(f),m=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-m);y<=Yo&&(o-=y)}else u<=Yo&&(o+=u);return{width:o,height:i,x:a,y:c}}const yf=new Set(["absolute","fixed"]);function bf(t,e){const r=gt(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Le(t)?Dt(t):Me(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function Xo(t,e,r){let n;if(e==="viewport")n=vf(t,r);else if(e==="document")n=gf(Fe(t));else if(Oe(e))n=bf(e,r);else{const s=La(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return on(n)}function Fa(t,e){const r=it(t);return r===e||!Oe(r)||Ft(r)?!1:Ne(r).position==="fixed"||Fa(r,e)}function wf(t,e){const r=e.get(t);if(r)return r;let n=nr(t,[],!1).filter(a=>Oe(a)&&Vt(a)!=="body"),s=null;const o=Ne(t).position==="fixed";let i=o?it(t):t;for(;Oe(i)&&!Ft(i);){const a=Ne(i),c=zs(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&yf.has(s.position)||yr(i)&&!c&&Fa(t,i))?n=n.filter(h=>h!==i):s=a,i=it(i)}return e.set(t,n),n}function xf(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?wn(e)?[]:wf(e,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,h)=>{const f=Xo(e,h,s);return u.top=be(f.top,u.top),u.right=ot(f.right,u.right),u.bottom=ot(f.bottom,u.bottom),u.left=be(f.left,u.left),u},Xo(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _f(t){const{width:e,height:r}=Da(t);return{width:e,height:r}}function Ef(t,e,r){const n=Le(e),s=Fe(e),o=r==="fixed",i=gt(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=Me(0);function u(){c.x=_n(s)}if(n||!n&&!o)if((Vt(e)!=="body"||yr(s))&&(a=xn(e)),n){const m=gt(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();o&&!n&&s&&u();const h=s&&!n&&!o?Ua(s,a):Me(0),f=i.left+a.scrollLeft-c.x-h.x,p=i.top+a.scrollTop-c.y-h.y;return{x:f,y:p,width:i.width,height:i.height}}function Mn(t){return Ne(t).position==="static"}function Zo(t,e){if(!Le(t)||Ne(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Fe(t)===r&&(r=r.ownerDocument.body),r}function Ba(t,e){const r=_e(t);if(wn(t))return r;if(!Le(t)){let s=it(t);for(;s&&!Ft(s);){if(Oe(s)&&!Mn(s))return s;s=it(s)}return r}let n=Zo(t,e);for(;n&&sf(n)&&Mn(n);)n=Zo(n,e);return n&&Ft(n)&&Mn(n)&&!zs(n)?r:n||uf(t)||r}const Sf=async function(t){const e=this.getOffsetParent||Ba,r=this.getDimensions,n=await r(t.floating);return{reference:Ef(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kf(t){return Ne(t).direction==="rtl"}const Cf={convertOffsetParentRelativeRectToViewportRelativeRect:pf,getDocumentElement:Fe,getClippingRect:xf,getOffsetParent:Ba,getElementRects:Sf,getClientRects:mf,getDimensions:_f,getScale:Dt,isElement:Oe,isRTL:kf};function za(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $f(t,e){let r=null,n;const s=Fe(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:h,top:f,width:p,height:m}=u;if(a||e(),!p||!m)return;const y=Nr(f),v=Nr(s.clientWidth-(h+p)),g=Nr(s.clientHeight-(f+m)),b=Nr(h),w={rootMargin:-y+"px "+-v+"px "+-g+"px "+-b+"px",threshold:be(0,ot(1,c))||1};let _=!0;function E(C){const k=C[0].intersectionRatio;if(k!==c){if(!_)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!za(u,t.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(E,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,w)}r.observe(t)}return i(!0),o}function Tf(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ws(t),h=s||o?[...u?nr(u):[],...nr(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),o&&b.addEventListener("resize",r)});const f=u&&a?$f(u,r):null;let p=-1,m=null;i&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),r()}),u&&!c&&m.observe(u),m.observe(e));let y,v=c?gt(t):null;c&&g();function g(){const b=gt(t);v&&!za(v,b)&&r(),v=b,y=requestAnimationFrame(g)}return r(),()=>{var b;h.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const Rf=Zh,Af=Qh,jf=Jh,Of=tf,Nf=Yh,Qo=Gh,Pf=ef,If=(t,e,r)=>{const n=new Map,s={platform:Cf,...r},o={...s.platform,_c:n};return Hh(t,e,{...s,platform:o})};var Mf=typeof document<"u",Df=function(){},Jr=Mf?l.useLayoutEffect:Df;function an(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!an(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!an(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Va(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ei(t,e){const r=Va(t);return Math.round(e*r)/r}function Dn(t){const e=l.useRef(t);return Jr(()=>{e.current=t}),e}function Lf(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[h,f]=l.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=l.useState(n);an(p,n)||m(n);const[y,v]=l.useState(null),[g,b]=l.useState(null),x=l.useCallback(D=>{D!==C.current&&(C.current=D,v(D))},[]),w=l.useCallback(D=>{D!==k.current&&(k.current=D,b(D))},[]),_=o||y,E=i||g,C=l.useRef(null),k=l.useRef(null),T=l.useRef(h),N=c!=null,M=Dn(c),W=Dn(s),P=Dn(u),Z=l.useCallback(()=>{if(!C.current||!k.current)return;const D={placement:e,strategy:r,middleware:p};W.current&&(D.platform=W.current),If(C.current,k.current,D).then(A=>{const G={...A,isPositioned:P.current!==!1};R.current&&!an(T.current,G)&&(T.current=G,hr.flushSync(()=>{f(G)}))})},[p,e,r,W,P]);Jr(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const R=l.useRef(!1);Jr(()=>(R.current=!0,()=>{R.current=!1}),[]),Jr(()=>{if(_&&(C.current=_),E&&(k.current=E),_&&E){if(M.current)return M.current(_,E,Z);Z()}},[_,E,Z,M,N]);const z=l.useMemo(()=>({reference:C,floating:k,setReference:x,setFloating:w}),[x,w]),F=l.useMemo(()=>({reference:_,floating:E}),[_,E]),ee=l.useMemo(()=>{const D={position:r,left:0,top:0};if(!F.floating)return D;const A=ei(F.floating,h.x),G=ei(F.floating,h.y);return a?{...D,transform:"translate("+A+"px, "+G+"px)",...Va(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:G}},[r,a,F.floating,h.x,h.y]);return l.useMemo(()=>({...h,update:Z,refs:z,elements:F,floatingStyles:ee}),[h,Z,z,F,ee])}const Uf=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Qo({element:n.current,padding:s}).fn(r):{}:n?Qo({element:n,padding:s}).fn(r):{}}}},Ff=(t,e)=>({...Rf(t),options:[t,e]}),Bf=(t,e)=>({...Af(t),options:[t,e]}),zf=(t,e)=>({...Pf(t),options:[t,e]}),Vf=(t,e)=>({...jf(t),options:[t,e]}),Wf=(t,e)=>({...Of(t),options:[t,e]}),qf=(t,e)=>({...Nf(t),options:[t,e]}),Kf=(t,e)=>({...Uf(t),options:[t,e]});const ds=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{};function Hf(t){const[e,r]=l.useState(void 0);return ds(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}const Wa="Popper",[qa,Ka]=vr(Wa),[Gf,Ha]=qa(Wa),Jf=t=>{const{__scopePopper:e,children:r}=t,[n,s]=l.useState(null);return l.createElement(Gf,{scope:e,anchor:n,onAnchorChange:s},r)},Yf="PopperAnchor",Xf=l.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=Ha(Yf,r),i=l.useRef(null),a=Ee(e,i);return l.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.createElement(ke.div,U({},s,{ref:a}))}),Ga="PopperContent",[Zf,uy]=qa(Ga),Qf=l.forwardRef((t,e)=>{var r,n,s,o,i,a,c,u;const{__scopePopper:h,side:f="bottom",sideOffset:p=0,align:m="center",alignOffset:y=0,arrowPadding:v=0,avoidCollisions:g=!0,collisionBoundary:b=[],collisionPadding:x=0,sticky:w="partial",hideWhenDetached:_=!1,updatePositionStrategy:E="optimized",onPlaced:C,...k}=t,T=Ha(Ga,h),[N,M]=l.useState(null),W=Ee(e,He=>M(He)),[P,Z]=l.useState(null),R=Hf(P),z=(r=R==null?void 0:R.width)!==null&&r!==void 0?r:0,F=(n=R==null?void 0:R.height)!==null&&n!==void 0?n:0,ee=f+(m!=="center"?"-"+m:""),D=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},A=Array.isArray(b)?b:[b],G=A.length>0,te={padding:D,boundary:A.filter(ep),altBoundary:G},{refs:oe,floatingStyles:de,placement:me,isPositioned:Se,middlewareData:ae}=Lf({strategy:"fixed",placement:ee,whileElementsMounted:(...He)=>Tf(...He,{animationFrame:E==="always"}),elements:{reference:T.anchor},middleware:[Ff({mainAxis:p+F,alignmentAxis:y}),g&&Bf({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?zf():void 0,...te}),g&&Vf({...te}),Wf({...te,apply:({elements:He,rects:Ht,availableWidth:kr,availableHeight:Cr})=>{const{width:$r,height:Tr}=Ht.reference,ct=He.floating.style;ct.setProperty("--radix-popper-available-width",`${kr}px`),ct.setProperty("--radix-popper-available-height",`${Cr}px`),ct.setProperty("--radix-popper-anchor-width",`${$r}px`),ct.setProperty("--radix-popper-anchor-height",`${Tr}px`)}}),P&&Kf({element:P,padding:v}),tp({arrowWidth:z,arrowHeight:F}),_&&qf({strategy:"referenceHidden",...te})]}),[$,O]=Ja(me),S=st(C);ds(()=>{Se&&(S==null||S())},[Se,S]);const ge=(s=ae.arrow)===null||s===void 0?void 0:s.x,bt=(o=ae.arrow)===null||o===void 0?void 0:o.y,wt=((i=ae.arrow)===null||i===void 0?void 0:i.centerOffset)!==0,[Er,Sr]=l.useState();return ds(()=>{N&&Sr(window.getComputedStyle(N).zIndex)},[N]),l.createElement("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Se?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Er,"--radix-popper-transform-origin":[(a=ae.transformOrigin)===null||a===void 0?void 0:a.x,(c=ae.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:t.dir},l.createElement(Zf,{scope:h,placedSide:$,onArrowChange:Z,arrowX:ge,arrowY:bt,shouldHideArrow:wt},l.createElement(ke.div,U({"data-side":$,"data-align":O},k,{ref:W,style:{...k.style,animation:Se?void 0:"none",opacity:(u=ae.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function ep(t){return t!==null}const tp=t=>({name:"transformOrigin",options:t,fn(e){var r,n,s,o,i;const{placement:a,rects:c,middlewareData:u}=e,f=((r=u.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,p=f?0:t.arrowWidth,m=f?0:t.arrowHeight,[y,v]=Ja(a),g={start:"0%",center:"50%",end:"100%"}[v],b=((n=(s=u.arrow)===null||s===void 0?void 0:s.x)!==null&&n!==void 0?n:0)+p/2,x=((o=(i=u.arrow)===null||i===void 0?void 0:i.y)!==null&&o!==void 0?o:0)+m/2;let w="",_="";return y==="bottom"?(w=f?g:`${b}px`,_=`${-m}px`):y==="top"?(w=f?g:`${b}px`,_=`${c.floating.height+m}px`):y==="right"?(w=`${-m}px`,_=f?g:`${x}px`):y==="left"&&(w=`${c.floating.width+m}px`,_=f?g:`${x}px`),{data:{x:w,y:_}}}});function Ja(t){const[e,r="center"]=t.split("-");return[e,r]}const rp=Jf,np=Xf,sp=Qf,op=l.forwardRef((t,e)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=t;return n?Mi.createPortal(l.createElement(ke.div,U({},s,{ref:e})),n):null}),ti=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{};function ip(t,e){return l.useReducer((r,n)=>{const s=e[r][n];return s??r},t)}const br=t=>{const{present:e,children:r}=t,n=ap(e),s=typeof r=="function"?r({present:n.isPresent}):l.Children.only(r),o=Ee(n.ref,s.ref);return typeof r=="function"||n.isPresent?l.cloneElement(s,{ref:o}):null};br.displayName="Presence";function ap(t){const[e,r]=l.useState(),n=l.useRef({}),s=l.useRef(t),o=l.useRef("none"),i=t?"mounted":"unmounted",[a,c]=ip(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=Pr(n.current);o.current=a==="mounted"?u:"none"},[a]),ti(()=>{const u=n.current,h=s.current;if(h!==t){const p=o.current,m=Pr(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),ti(()=>{if(e){const u=f=>{const m=Pr(n.current).includes(f.animationName);f.target===e&&m&&hr.flushSync(()=>c("ANIMATION_END"))},h=f=>{f.target===e&&(o.current=Pr(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:l.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Pr(t){return(t==null?void 0:t.animationName)||"none"}const Ln="rovingFocusGroup.onEntryFocus",cp={bubbles:!1,cancelable:!0},qs="RovingFocusGroup",[hs,Ya,lp]=Ra(qs),[up,Xa]=vr(qs,[lp]),[dp,hp]=up(qs),fp=l.forwardRef((t,e)=>l.createElement(hs.Provider,{scope:t.__scopeRovingFocusGroup},l.createElement(hs.Slot,{scope:t.__scopeRovingFocusGroup},l.createElement(pp,U({},t,{ref:e}))))),pp=l.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,...h}=t,f=l.useRef(null),p=Ee(e,f),m=Aa(o),[y=null,v]=Ca({prop:i,defaultProp:a,onChange:c}),[g,b]=l.useState(!1),x=st(u),w=Ya(r),_=l.useRef(!1),[E,C]=l.useState(0);return l.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(Ln,x),()=>k.removeEventListener(Ln,x)},[x]),l.createElement(dp,{scope:r,orientation:n,dir:m,loop:s,currentTabStopId:y,onItemFocus:l.useCallback(k=>v(k),[v]),onItemShiftTab:l.useCallback(()=>b(!0),[]),onFocusableItemAdd:l.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:l.useCallback(()=>C(k=>k-1),[])},l.createElement(ke.div,U({tabIndex:g||E===0?-1:0,"data-orientation":n},h,{ref:p,style:{outline:"none",...t.style},onMouseDown:Q(t.onMouseDown,()=>{_.current=!0}),onFocus:Q(t.onFocus,k=>{const T=!_.current;if(k.target===k.currentTarget&&T&&!g){const N=new CustomEvent(Ln,cp);if(k.currentTarget.dispatchEvent(N),!N.defaultPrevented){const M=w().filter(z=>z.focusable),W=M.find(z=>z.active),P=M.find(z=>z.id===y),R=[W,P,...M].filter(Boolean).map(z=>z.ref.current);Za(R)}}_.current=!1}),onBlur:Q(t.onBlur,()=>b(!1))})))}),mp="RovingFocusGroupItem",gp=l.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=t,a=as(),c=o||a,u=hp(mp,r),h=u.currentTabStopId===c,f=Ya(r),{onFocusableItemAdd:p,onFocusableItemRemove:m}=u;return l.useEffect(()=>{if(n)return p(),()=>m()},[n,p,m]),l.createElement(hs.ItemSlot,{scope:r,id:c,focusable:n,active:s},l.createElement(ke.span,U({tabIndex:h?0:-1,"data-orientation":u.orientation},i,{ref:e,onMouseDown:Q(t.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:Q(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Q(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=bp(y,u.orientation,u.dir);if(v!==void 0){y.preventDefault();let b=f().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const x=b.indexOf(y.currentTarget);b=u.loop?wp(b,x+1):b.slice(x+1)}setTimeout(()=>Za(b))}})})))}),vp={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yp(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function bp(t,e,r){const n=yp(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vp[n]}function Za(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function wp(t,e){return t.map((r,n)=>t[(e+n)%t.length])}const xp=fp,_p=gp;var Ep=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xt=new WeakMap,Ir=new WeakMap,Mr={},Un=0,Qa=function(t){return t&&(t.host||Qa(t.parentNode))},Sp=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Qa(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},kp=function(t,e,r,n){var s=Sp(e,Array.isArray(t)?t:[t]);Mr[r]||(Mr[r]=new WeakMap);var o=Mr[r],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var m=p.getAttribute(n),y=m!==null&&m!=="false",v=(xt.get(p)||0)+1,g=(o.get(p)||0)+1;xt.set(p,v),o.set(p,g),i.push(p),v===1&&y&&Ir.set(p,!0),g===1&&p.setAttribute(r,"true"),y||p.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),a.clear(),Un++,function(){i.forEach(function(f){var p=xt.get(f)-1,m=o.get(f)-1;xt.set(f,p),o.set(f,m),p||(Ir.has(f)||f.removeAttribute(n),Ir.delete(f)),m||f.removeAttribute(r)}),Un--,Un||(xt=new WeakMap,xt=new WeakMap,Ir=new WeakMap,Mr={})}},Cp=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Ep(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),kp(n,s,r,"aria-hidden")):function(){return null}},Pe=function(){return Pe=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Pe.apply(this,arguments)};function Wt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function $p(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?o(h.value):s(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Tp(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var Yr="right-scroll-bar-position",Xr="width-before-scroll-bar",Rp="with-scroll-bars-hidden",Ap="--removed-body-scroll-bar-size";function Fn(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jp(t,e){var r=l.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var Op=typeof window<"u"?l.useLayoutEffect:l.useEffect,ri=new WeakMap;function Np(t,e){var r=jp(null,function(n){return t.forEach(function(s){return Fn(s,n)})});return Op(function(){var n=ri.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(a){o.has(a)||Fn(a,null)}),o.forEach(function(a){s.has(a)||Fn(a,i)})}ri.set(r,t)},[t]),r}function Pp(t){return t}function Ip(t,e){e===void 0&&(e=Pp);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=e(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var h=i;i=[],h.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),r}}}};return s}function Mp(t){t===void 0&&(t={});var e=Ip(null);return e.options=Pe({async:!0,ssr:!1},t),e}var ec=function(t){var e=t.sideCar,r=Wt(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return l.createElement(n,Pe({},r))};ec.isSideCarExport=!0;function Dp(t,e){return t.useMedium(e),ec}var tc=Mp(),Bn=function(){},En=l.forwardRef(function(t,e){var r=l.useRef(null),n=l.useState({onScrollCapture:Bn,onWheelCapture:Bn,onTouchMoveCapture:Bn}),s=n[0],o=n[1],i=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,m=t.noIsolation,y=t.inert,v=t.allowPinchZoom,g=t.as,b=g===void 0?"div":g,x=Wt(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=p,_=Np([r,e]),E=Pe(Pe({},x),s);return l.createElement(l.Fragment,null,h&&l.createElement(w,{sideCar:tc,removeScrollBar:u,shards:f,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!v,lockRef:r}),i?l.cloneElement(l.Children.only(a),Pe(Pe({},E),{ref:_})):l.createElement(b,Pe({},E,{className:c,ref:_}),a))});En.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};En.classNames={fullWidth:Xr,zeroRight:Yr};var Lp=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Up(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lp();return e&&t.setAttribute("nonce",e),t}function Fp(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Bp(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zp=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Up())&&(Fp(e,r),Bp(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vp=function(){var t=zp();return function(e,r){l.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},rc=function(){var t=Vp(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},Wp={left:0,top:0,right:0,gap:0},zn=function(t){return parseInt(t||"",10)||0},qp=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[zn(r),zn(n),zn(s)]},Kp=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Wp;var e=qp(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Hp=rc(),Lt="data-scroll-locked",Gp=function(t,e,r,n){var s=t.left,o=t.top,i=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Rp,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Lt,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yr,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Xr,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Yr," .").concat(Yr,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xr," .").concat(Xr,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lt,`] {
    `).concat(Ap,": ").concat(a,`px;
  }
`)},ni=function(){var t=parseInt(document.body.getAttribute(Lt)||"0",10);return isFinite(t)?t:0},Jp=function(){l.useEffect(function(){return document.body.setAttribute(Lt,(ni()+1).toString()),function(){var t=ni()-1;t<=0?document.body.removeAttribute(Lt):document.body.setAttribute(Lt,t.toString())}},[])},Yp=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;Jp();var o=l.useMemo(function(){return Kp(s)},[s]);return l.createElement(Hp,{styles:Gp(o,!e,s,r?"":"!important")})},fs=!1;if(typeof window<"u")try{var Dr=Object.defineProperty({},"passive",{get:function(){return fs=!0,!0}});window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{fs=!1}var _t=fs?{passive:!1}:!1,Xp=function(t){return t.tagName==="TEXTAREA"},nc=function(t,e){var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Xp(t)&&r[e]==="visible")},Zp=function(t){return nc(t,"overflowY")},Qp=function(t){return nc(t,"overflowX")},si=function(t,e){var r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=sc(t,r);if(n){var s=oc(t,r),o=s[1],i=s[2];if(o>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},e1=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},t1=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},sc=function(t,e){return t==="v"?Zp(e):Qp(e)},oc=function(t,e){return t==="v"?e1(e):t1(e)},r1=function(t,e){return t==="h"&&e==="rtl"?-1:1},n1=function(t,e,r,n,s){var o=r1(t,window.getComputedStyle(e).direction),i=o*n,a=r.target,c=e.contains(a),u=!1,h=i>0,f=0,p=0;do{var m=oc(t,a),y=m[0],v=m[1],g=m[2],b=v-g-o*y;(y||b)&&sc(t,a)&&(f+=b,p+=y),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&f===0||!h&&p===0)&&(u=!0),u},Lr=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oi=function(t){return[t.deltaX,t.deltaY]},ii=function(t){return t&&"current"in t?t.current:t},s1=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o1=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},i1=0,Et=[];function a1(t){var e=l.useRef([]),r=l.useRef([0,0]),n=l.useRef(),s=l.useState(i1++)[0],o=l.useState(function(){return rc()})[0],i=l.useRef(t);l.useEffect(function(){i.current=t},[t]),l.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=Tp([t.lockRef.current],(t.shards||[]).map(ii),!0).filter(Boolean);return v.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=l.useCallback(function(v,g){if("touches"in v&&v.touches.length===2)return!i.current.allowPinchZoom;var b=Lr(v),x=r.current,w="deltaX"in v?v.deltaX:x[0]-b[0],_="deltaY"in v?v.deltaY:x[1]-b[1],E,C=v.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in v&&k==="h"&&C.type==="range")return!1;var T=si(k,C);if(!T)return!0;if(T?E=k:(E=k==="v"?"h":"v",T=si(k,C)),!T)return!1;if(!n.current&&"changedTouches"in v&&(w||_)&&(n.current=E),!E)return!0;var N=n.current||E;return n1(N,g,v,N==="h"?w:_)},[]),c=l.useCallback(function(v){var g=v;if(!(!Et.length||Et[Et.length-1]!==o)){var b="deltaY"in g?oi(g):Lr(g),x=e.current.filter(function(E){return E.name===g.type&&E.target===g.target&&s1(E.delta,b)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var w=(i.current.shards||[]).map(ii).filter(Boolean).filter(function(E){return E.contains(g.target)}),_=w.length>0?a(g,w[0]):!i.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=l.useCallback(function(v,g,b,x){var w={name:v,delta:g,target:b,should:x};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),h=l.useCallback(function(v){r.current=Lr(v),n.current=void 0},[]),f=l.useCallback(function(v){u(v.type,oi(v),v.target,a(v,t.lockRef.current))},[]),p=l.useCallback(function(v){u(v.type,Lr(v),v.target,a(v,t.lockRef.current))},[]);l.useEffect(function(){return Et.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,_t),document.addEventListener("touchmove",c,_t),document.addEventListener("touchstart",h,_t),function(){Et=Et.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,_t),document.removeEventListener("touchmove",c,_t),document.removeEventListener("touchstart",h,_t)}},[]);var m=t.removeScrollBar,y=t.inert;return l.createElement(l.Fragment,null,y?l.createElement(o,{styles:o1(s)}):null,m?l.createElement(Yp,{gapMode:"margin"}):null)}const c1=Dp(tc,a1);var ic=l.forwardRef(function(t,e){return l.createElement(En,Pe({},t,{ref:e,sideCar:c1}))});ic.classNames=En.classNames;const ps=["Enter"," "],l1=["ArrowDown","PageUp","Home"],ac=["ArrowUp","PageDown","End"],u1=[...l1,...ac],d1={ltr:[...ps,"ArrowRight"],rtl:[...ps,"ArrowLeft"]},h1={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sn="Menu",[sr,f1,p1]=Ra(Sn),[vt,cc]=vr(Sn,[p1,Ka,Xa]),Ks=Ka(),lc=Xa(),[m1,yt]=vt(Sn),[g1,wr]=vt(Sn),v1=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=t,a=Ks(e),[c,u]=l.useState(null),h=l.useRef(!1),f=st(o),p=Aa(s);return l.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.createElement(rp,a,l.createElement(m1,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u},l.createElement(g1,{scope:e,onClose:l.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:i},n)))},uc=l.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Ks(r);return l.createElement(np,U({},s,n,{ref:e}))}),dc="MenuPortal",[y1,hc]=vt(dc,{forceMount:void 0}),b1=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=yt(dc,e);return l.createElement(y1,{scope:e,forceMount:r},l.createElement(br,{present:r||o.open},l.createElement(op,{asChild:!0,container:s},n)))},Ae="MenuContent",[w1,Hs]=vt(Ae),x1=l.forwardRef((t,e)=>{const r=hc(Ae,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=yt(Ae,t.__scopeMenu),i=wr(Ae,t.__scopeMenu);return l.createElement(sr.Provider,{scope:t.__scopeMenu},l.createElement(br,{present:n||o.open},l.createElement(sr.Slot,{scope:t.__scopeMenu},i.modal?l.createElement(_1,U({},s,{ref:e})):l.createElement(E1,U({},s,{ref:e})))))}),_1=l.forwardRef((t,e)=>{const r=yt(Ae,t.__scopeMenu),n=l.useRef(null),s=Ee(e,n);return l.useEffect(()=>{const o=n.current;if(o)return Cp(o)},[]),l.createElement(Gs,U({},t,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Q(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),E1=l.forwardRef((t,e)=>{const r=yt(Ae,t.__scopeMenu);return l.createElement(Gs,U({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),Gs=l.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:y,...v}=t,g=yt(Ae,r),b=wr(Ae,r),x=Ks(r),w=lc(r),_=f1(r),[E,C]=l.useState(null),k=l.useRef(null),T=Ee(e,k,g.onContentChange),N=l.useRef(0),M=l.useRef(""),W=l.useRef(0),P=l.useRef(null),Z=l.useRef("right"),R=l.useRef(0),z=y?ic:l.Fragment,F=y?{as:rn,allowPinchZoom:!0}:void 0,ee=A=>{var G,te;const oe=M.current+A,de=_().filter(S=>!S.disabled),me=document.activeElement,Se=(G=de.find(S=>S.ref.current===me))===null||G===void 0?void 0:G.textValue,ae=de.map(S=>S.textValue),$=U1(ae,oe,Se),O=(te=de.find(S=>S.textValue===$))===null||te===void 0?void 0:te.ref.current;(function S(ge){M.current=ge,window.clearTimeout(N.current),ge!==""&&(N.current=window.setTimeout(()=>S(""),1e3))})(oe),O&&setTimeout(()=>O.focus())};l.useEffect(()=>()=>window.clearTimeout(N.current),[]),Sh();const D=l.useCallback(A=>{var G,te;return Z.current===((G=P.current)===null||G===void 0?void 0:G.side)&&B1(A,(te=P.current)===null||te===void 0?void 0:te.area)},[]);return l.createElement(w1,{scope:r,searchRef:M,onItemEnter:l.useCallback(A=>{D(A)&&A.preventDefault()},[D]),onItemLeave:l.useCallback(A=>{var G;D(A)||((G=k.current)===null||G===void 0||G.focus(),C(null))},[D]),onTriggerLeave:l.useCallback(A=>{D(A)&&A.preventDefault()},[D]),pointerGraceTimerRef:W,onPointerGraceIntentChange:l.useCallback(A=>{P.current=A},[])},l.createElement(z,F,l.createElement(kh,{asChild:!0,trapped:s,onMountAutoFocus:Q(o,A=>{var G;A.preventDefault(),(G=k.current)===null||G===void 0||G.focus()}),onUnmountAutoFocus:i},l.createElement(xh,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m},l.createElement(xp,U({asChild:!0},w,{dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:C,onEntryFocus:Q(c,A=>{b.isUsingKeyboardRef.current||A.preventDefault()})}),l.createElement(sp,U({role:"menu","aria-orientation":"vertical","data-state":vc(g.open),"data-radix-menu-content":"",dir:b.dir},x,v,{ref:T,style:{outline:"none",...v.style},onKeyDown:Q(v.onKeyDown,A=>{const te=A.target.closest("[data-radix-menu-content]")===A.currentTarget,oe=A.ctrlKey||A.altKey||A.metaKey,de=A.key.length===1;te&&(A.key==="Tab"&&A.preventDefault(),!oe&&de&&ee(A.key));const me=k.current;if(A.target!==me||!u1.includes(A.key))return;A.preventDefault();const ae=_().filter($=>!$.disabled).map($=>$.ref.current);ac.includes(A.key)&&ae.reverse(),D1(ae)}),onBlur:Q(t.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(N.current),M.current="")}),onPointerMove:Q(t.onPointerMove,or(A=>{const G=A.target,te=R.current!==A.clientX;if(A.currentTarget.contains(G)&&te){const oe=A.clientX>R.current?"right":"left";Z.current=oe,R.current=A.clientX}}))})))))))}),S1=l.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.createElement(ke.div,U({},n,{ref:e}))}),ms="MenuItem",ai="menu.itemSelect",Js=l.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=l.useRef(null),i=wr(ms,t.__scopeMenu),a=Hs(ms,t.__scopeMenu),c=Ee(e,o),u=l.useRef(!1),h=()=>{const f=o.current;if(!r&&f){const p=new CustomEvent(ai,{bubbles:!0,cancelable:!0});f.addEventListener(ai,m=>n==null?void 0:n(m),{once:!0}),Ta(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return l.createElement(fc,U({},s,{ref:c,disabled:r,onClick:Q(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)===null||p===void 0||p.call(t,f),u.current=!0},onPointerUp:Q(t.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)===null||p===void 0||p.click()}),onKeyDown:Q(t.onKeyDown,f=>{const p=a.searchRef.current!=="";r||p&&f.key===" "||ps.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),fc=l.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,i=Hs(ms,r),a=lc(r),c=l.useRef(null),u=Ee(e,c),[h,f]=l.useState(!1),[p,m]=l.useState("");return l.useEffect(()=>{const y=c.current;if(y){var v;m(((v=y.textContent)!==null&&v!==void 0?v:"").trim())}},[o.children]),l.createElement(sr.ItemSlot,{scope:r,disabled:n,textValue:s??p},l.createElement(_p,U({asChild:!0},a,{focusable:!n}),l.createElement(ke.div,U({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0},o,{ref:u,onPointerMove:Q(t.onPointerMove,or(y=>{n?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus())})),onPointerLeave:Q(t.onPointerLeave,or(y=>i.onItemLeave(y))),onFocus:Q(t.onFocus,()=>f(!0)),onBlur:Q(t.onBlur,()=>f(!1))}))))}),k1=l.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return l.createElement(mc,{scope:t.__scopeMenu,checked:r},l.createElement(Js,U({role:"menuitemcheckbox","aria-checked":cn(r)?"mixed":r},s,{ref:e,"data-state":Ys(r),onSelect:Q(s.onSelect,()=>n==null?void 0:n(cn(r)?!0:!r),{checkForDefaultPrevented:!1})})))}),C1="MenuRadioGroup",[dy,$1]=vt(C1,{value:void 0,onValueChange:()=>{}}),T1="MenuRadioItem",R1=l.forwardRef((t,e)=>{const{value:r,...n}=t,s=$1(T1,t.__scopeMenu),o=r===s.value;return l.createElement(mc,{scope:t.__scopeMenu,checked:o},l.createElement(Js,U({role:"menuitemradio","aria-checked":o},n,{ref:e,"data-state":Ys(o),onSelect:Q(n.onSelect,()=>{var i;return(i=s.onValueChange)===null||i===void 0?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})))}),pc="MenuItemIndicator",[mc,A1]=vt(pc,{checked:!1}),j1=l.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=A1(pc,r);return l.createElement(br,{present:n||cn(o.checked)||o.checked===!0},l.createElement(ke.span,U({},s,{ref:e,"data-state":Ys(o.checked)})))}),O1=l.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.createElement(ke.div,U({role:"separator","aria-orientation":"horizontal"},n,{ref:e}))}),N1="MenuSub",[hy,gc]=vt(N1),Ur="MenuSubTrigger",P1=l.forwardRef((t,e)=>{const r=yt(Ur,t.__scopeMenu),n=wr(Ur,t.__scopeMenu),s=gc(Ur,t.__scopeMenu),o=Hs(Ur,t.__scopeMenu),i=l.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,u={__scopeMenu:t.__scopeMenu},h=l.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return l.useEffect(()=>h,[h]),l.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.createElement(uc,U({asChild:!0},u),l.createElement(fc,U({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":vc(r.open)},t,{ref:gr(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)===null||p===void 0||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Q(t.onPointerMove,or(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Q(t.onPointerLeave,or(f=>{var p;h();const m=(p=r.content)===null||p===void 0?void 0:p.getBoundingClientRect();if(m){var y;const v=(y=r.content)===null||y===void 0?void 0:y.dataset.side,g=v==="right",b=g?-5:5,x=m[g?"left":"right"],w=m[g?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Q(t.onKeyDown,f=>{const p=o.searchRef.current!=="";if(!(t.disabled||p&&f.key===" ")&&d1[n.dir].includes(f.key)){var m;r.onOpenChange(!0),(m=r.content)===null||m===void 0||m.focus(),f.preventDefault()}})})))}),I1="MenuSubContent",M1=l.forwardRef((t,e)=>{const r=hc(Ae,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=yt(Ae,t.__scopeMenu),i=wr(Ae,t.__scopeMenu),a=gc(I1,t.__scopeMenu),c=l.useRef(null),u=Ee(e,c);return l.createElement(sr.Provider,{scope:t.__scopeMenu},l.createElement(br,{present:n||o.open},l.createElement(sr.Slot,{scope:t.__scopeMenu},l.createElement(Gs,U({id:a.contentId,"aria-labelledby":a.triggerId},s,{ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)===null||f===void 0||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Q(t.onFocusOutside,h=>{h.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Q(t.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:Q(t.onKeyDown,h=>{const f=h.currentTarget.contains(h.target),p=h1[i.dir].includes(h.key);if(f&&p){var m;o.onOpenChange(!1),(m=a.trigger)===null||m===void 0||m.focus(),h.preventDefault()}})})))))});function vc(t){return t?"open":"closed"}function cn(t){return t==="indeterminate"}function Ys(t){return cn(t)?"indeterminate":t?"checked":"unchecked"}function D1(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function L1(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function U1(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=L1(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function F1(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,c=e[o].y,u=e[i].x,h=e[i].y;c>n!=h>n&&r<(u-a)*(n-c)/(h-c)+a&&(s=!s)}return s}function B1(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return F1(r,e)}function or(t){return e=>e.pointerType==="mouse"?t(e):void 0}const z1=v1,V1=uc,W1=b1,q1=x1,K1=S1,H1=Js,G1=k1,J1=R1,Y1=j1,X1=O1,Z1=P1,Q1=M1,yc="DropdownMenu",[em]=vr(yc,[cc]),Ce=cc(),[tm,bc]=em(yc),rm=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,c=Ce(e),u=l.useRef(null),[h=!1,f]=Ca({prop:s,defaultProp:o,onChange:i});return l.createElement(tm,{scope:e,triggerId:as(),triggerRef:u,contentId:as(),open:h,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(p=>!p),[f]),modal:a},l.createElement(z1,U({},c,{open:h,onOpenChange:f,dir:n,modal:a}),r))},nm="DropdownMenuTrigger",sm=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=bc(nm,r),i=Ce(r);return l.createElement(V1,U({asChild:!0},i),l.createElement(ke.button,U({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},s,{ref:gr(e,o.triggerRef),onPointerDown:Q(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Q(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),om=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ce(e);return l.createElement(W1,U({},n,r))},im="DropdownMenuContent",am=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bc(im,r),o=Ce(r),i=l.useRef(!1);return l.createElement(q1,U({id:s.contentId,"aria-labelledby":s.triggerId},o,n,{ref:e,onCloseAutoFocus:Q(t.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)===null||c===void 0||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Q(t.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),cm=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Ce(r);return l.createElement(K1,U({},s,n,{ref:e}))}),lm=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Ce(r);return l.createElement(H1,U({},s,n,{ref:e}))}),um=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Ce(r);return l.createElement(G1,U({},s,n,{ref:e}))}),dm=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Ce(r);return l.createElement(J1,U({},s,n,{ref:e}))}),hm=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Ce(r);return l.createElement(Y1,U({},s,n,{ref:e}))}),fm=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Ce(r);return l.createElement(X1,U({},s,n,{ref:e}))}),pm=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Ce(r);return l.createElement(Z1,U({},s,n,{ref:e}))}),mm=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Ce(r);return l.createElement(Q1,U({},s,n,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),gm=rm,vm=sm,ym=om,wc=am,xc=cm,_c=lm,Ec=um,Sc=dm,kc=hm,Cc=fm,$c=pm,Tc=mm,bm=gm,wm=vm,xm=l.forwardRef(({className:t,inset:e,children:r,...n},s)=>d.jsxs($c,{ref:s,className:J("flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden hover:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,d.jsx(Gu,{className:"ml-auto h-4 w-4"})]}));xm.displayName=$c.displayName;const _m=l.forwardRef(({className:t,...e},r)=>d.jsx(Tc,{ref:r,className:J("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));_m.displayName=Tc.displayName;const Rc=l.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(ym,{children:d.jsx(wc,{ref:n,sideOffset:e,className:J("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Rc.displayName=wc.displayName;const gs=l.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(_c,{ref:n,className:J("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden transition-colors hover:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e&&"pl-8",t),...r}));gs.displayName=_c.displayName;const Em=l.forwardRef(({className:t,children:e,checked:r,...n},s)=>d.jsxs(Ec,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(kc,{children:d.jsx(Ku,{className:"h-4 w-4"})})}),e]}));Em.displayName=Ec.displayName;const Sm=l.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(Sc,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(kc,{children:d.jsx(Ju,{className:"h-2 w-2 fill-current"})})}),e]}));Sm.displayName=Sc.displayName;const km=l.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(xc,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));km.displayName=xc.displayName;const Cm=l.forwardRef(({className:t,...e},r)=>d.jsx(Cc,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));Cm.displayName=Cc.displayName;function $m(){const{isSignedIn:t,user:e}=at(),n=Di().pathname==="/top3",{setTheme:s,resolvedTheme:o}=Kl(),i=()=>d.jsxs("svg",{fill:"currentColor",width:"16px",height:"16px",viewBox:"0 -6 524 524",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("title",{children:"down"}),d.jsx("path",{d:"M64 191L98 157 262 320 426 157 460 191 262 387 64 191Z"})]});return d.jsxs("header",{className:`navigation flex justify-between items-center py-5 px-6 sm:px-8 md:px-20 lg:px-24 ${n?"bg-transparent":""}`,children:[d.jsx("div",{children:d.jsx(oh,{})}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("button",{className:"subscribe-button",children:""}),t?d.jsxs(d.Fragment,{children:[d.jsx(se,{asChild:!0,size:"sm",children:d.jsxs(Mt,{to:"/dashboard/manage",className:"hero-btn gap-2",children:["",d.jsx(rs,{className:"!h-4 !w-4"})]})}),d.jsx(Nl,{appearance:{elements:{avatarBox:" !h-8 !w-8 ",userButtonTrigger:"p-0"}},afterSignOutUrl:"/"})]}):d.jsx(se,{asChild:!0,size:"sm",children:d.jsxs(Mt,{to:"/auth/sign-in",className:"hero-btn gap-2",children:["",d.jsx(rs,{className:"!h-4 !w-4"})]})}),d.jsxs(bm,{children:[d.jsx(wm,{asChild:!0,children:d.jsxs(se,{variant:"outline",size:"sm",className:"gap-2 rounded-[9999px]",children:["",d.jsx(i,{})]})}),d.jsxs(Rc,{align:"end",children:[d.jsx(gs,{onClick:()=>s(o==="light"?"dark":"light"),className:"min-nav flex items-center gap-2 cursor-pointer",children:o==="light"?d.jsxs(d.Fragment,{children:[d.jsx(ed,{className:"h-4 w-4"})," "]}):d.jsxs(d.Fragment,{children:[d.jsx(od,{className:"h-4 w-4"})," "]})}),d.jsx(gs,{asChild:!0,children:d.jsxs(Mt,{to:"/top3",className:"min-nav flex items-center gap-2",children:[d.jsx(en,{className:"h-4 w-4"}),""]})})]})]})]})]})}function Tm(){return d.jsx("footer",{className:"px-6 h-32 flex items-center justify-center sm:px-10 md:px-30 text-center sm:text-left",children:d.jsxs("p",{className:"text-sm text-foreground/80 sm:text-base",children:["    ",d.jsx("a",{href:"/",className:"text-foreground underline",children:"LinkShot"})," -    "," ",d.jsx("a",{className:"text-foreground underline",href:"/",children:""}),"."]})})}function Rm(){const{isSignedIn:t}=at(),e=l.useRef(null);return l.useEffect(()=>{const r=s=>{if(!e.current)return;const o=e.current.getBoundingClientRect(),i=s.clientX-o.left,a=s.clientY-o.top,c=o.width/2,u=o.height/2,h=(i-c)/50,f=(a-u)/50,p=document.querySelector(".overlay-img"),m=document.querySelector(".overlay-img-right");p&&(p.style.transform=`rotate(-15deg) translateX(${f*.5}px) translateY(${-h*.5}px)`),m&&(m.style.transform=`rotate(15deg) translateX(${-f*.5}px) translateY(${h*.5}px)`)},n=e.current;return n&&n.addEventListener("mousemove",r),()=>{n&&n.removeEventListener("mousemove",r)}},[]),d.jsxs("div",{className:"hero-section py-14 px-6 md:px-20 lg:px-32 grid",ref:e,children:[d.jsx("div",{className:"border mb-4 w-fit mx-auto py-1.5 px-3 rounded-full bg-background",children:d.jsxs("p",{className:"text-xs flex items-center justify-center gap-1",children:[d.jsx(sd,{className:"h-4 w-4"}),"LinkShot   V1.0.1",d.jsx(No,{className:"h-4 w-4"})]})}),d.jsxs("div",{className:"grid place-content-center sm:text-center gap-2",children:[d.jsxs("h2",{className:"hero-title text-3xl max-w-md sm:max-w-3xl md:max-w-4xl sm:text-4xl font-medium md:text-5xl text-gray-900 dark:text-gray-50",children:["  ",d.jsx("span",{className:"hero-title animate-text-gradient inline-flex bg-gradient-to-r from-neutral-900 via-slate-500 to-neutral-500 bg-[200%_auto] bg-clip-text leading-tight text-transparent dark:from-neutral-100 dark:via-slate-400 dark:to-neutral-400",children:" ,  !"})]}),d.jsx("p",{className:"hero-des md:text-xl text-base sm:text-lg text-[13.5px] max-w-sm md:max-w-2xl text-center sm:mx-auto text-foreground/70 mt-4",children:"    LinkShot ,        ,    ."})]}),d.jsxs("div",{className:"hero-buttons flex items-center justify-center gap-2.5 mt-10",children:[d.jsx(se,{asChild:!0,children:d.jsxs(Mt,{to:t?"/dashboard/manage":"/auth/sign-in",className:"hero-btn gap-2",children:[" ",d.jsx(rs,{className:"!h-4 !w-4"})]})}),d.jsx(se,{variant:"outline",asChild:!0,className:"hero-btn",children:d.jsxs("a",{href:"/pixeny",className:"flex items-center gap-1",target:"_blank",rel:"noopener noreferrer",children:["  ",d.jsx(No,{className:"h-4 w-4 -rotate-45"})]})})]}),d.jsxs("div",{className:"mt-32 w-fit h-fit border-primary/10 border-2 rounded-lg mx-auto relative",children:[d.jsx("img",{className:"demoimg rounded-lg",src:"/assets/homepage-dark.png",alt:"Preview"}),d.jsx("img",{className:"overlay-img",src:"https://i.imgur.com/nti7uI6.png",alt:"Overlay"}),d.jsx("img",{className:"overlay-img-right",src:"https://i.imgur.com/nti7uI6.png",alt:"Overlay Right"})]})]})}const Am=()=>d.jsx("img",{src:"https://i.imgur.com/dbGUUjh.png",alt:"Fixed decoration",className:"fixed right-4 top-1/2 transform -translate-y-1/2 z-50 hidden lg:block xl:block",style:{height:"auto",width:"60px",display:"none",pointerEvents:"none"}});function jm(){return d.jsx("div",{children:d.jsx(Rm,{})})}function ye(){return d.jsx("div",{className:"loader"})}function Om(){return d.jsxs("main",{className:"!bg-red-400 fixed top-0 left-0 right-0 h-full w-full flex justify-center items-center px-6",children:[d.jsx(Pl,{children:d.jsx("div",{className:"relative h-[264px] w-[500px] max-w-[300px]",children:d.jsx(ye,{})})}),d.jsxs(Li,{children:[d.jsx(Qe,{path:"/sign-in/*",element:d.jsx(Il,{})}),d.jsx(Qe,{path:"/sign-up/*",element:d.jsx(Ml,{})})]}),d.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]"})]})}function Nm(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Pm(...t){return e=>t.forEach(r=>Nm(r,e))}const Ac=l.forwardRef((t,e)=>{const{children:r,...n}=t,s=l.Children.toArray(r),o=s.find(Mm);if(o){const i=o.props.children,a=s.map(c=>c===o?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:c);return l.createElement(vs,U({},n,{ref:e}),l.isValidElement(i)?l.cloneElement(i,void 0,a):null)}return l.createElement(vs,U({},n,{ref:e}),r)});Ac.displayName="Slot";const vs=l.forwardRef((t,e)=>{const{children:r,...n}=t;return l.isValidElement(r)?l.cloneElement(r,{...Dm(n,r.props),ref:e?Pm(e,r.ref):r.ref}):l.Children.count(r)>1?l.Children.only(null):null});vs.displayName="SlotClone";const Im=({children:t})=>l.createElement(l.Fragment,null,t);function Mm(t){return l.isValidElement(t)&&t.type===Im}function Dm(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}const Lm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Um=Lm.reduce((t,e)=>{const r=l.forwardRef((n,s)=>{const{asChild:o,...i}=n,a=o?Ac:e;return l.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),l.createElement(a,U({},i,{ref:s}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Fm=l.forwardRef((t,e)=>l.createElement(Um.label,U({},t,{ref:e,onMouseDown:r=>{var n;(n=t.onMouseDown)===null||n===void 0||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),jc=Fm,Bm=yn("text-[12px] font-small leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=l.forwardRef(({className:t,...e},r)=>d.jsx(jc,{ref:r,className:J(Bm(),t),...e}));K.displayName=jc.displayName;function Xs({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:J("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Oc({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:J("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Nc({className:t,...e}){return d.jsx("div",{"data-slot":"card-title",className:J("leading-none font-semibold",t),...e})}function Zs({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:J("px-6",t),...e})}const Y=l.forwardRef(({className:t,type:e,...r},n)=>d.jsx("input",{type:e,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Y.displayName="Input";const Pc=l.forwardRef(({className:t,...e},r)=>d.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Pc.displayName="Textarea";const zm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Qs extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Vm extends Qs{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ci extends Qs{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class li extends Qs{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ys;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ys||(ys={}));class Wm{constructor(e,{headers:r={},customFetch:n,region:s=ys.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=zm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $p(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:c,body:u,signal:h,timeout:f}=n;let p={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(p["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(p["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(p["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let g=h;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),h?(g=i.signal,h.addEventListener("abort",()=>i.abort())):g=i.signal);const b=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v,signal:g}).catch(E=>{throw new Vm(E)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new ci(b);if(!b.ok)throw new li(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof li||a instanceof ci?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var qm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Km=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,c=null,u=o.status,h=o.statusText;if(o.ok){var f,p;if(r.method!=="HEAD"){var m;const b=await o.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=b:a=JSON.parse(b))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");v&&g&&g.length>1&&(c=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,u=406,h="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var y;const v=await o.text();try{i=JSON.parse(v),Array.isArray(i)&&o.status===404&&(a=[],i=null,u=200,h="OK")}catch{o.status===404&&v===""?(u=204,h="No Content"):i={message:v}}if(i&&r.isMaybeSingle&&(!(i==null||(y=i.details)===null||y===void 0)&&y.includes("0 rows"))&&(i=null,u=200,h="OK"),i&&r.shouldThrowOnError)throw new qm(i)}return{error:i,data:a,count:c,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="";const c=o==null?void 0:o.cause;if(c){var u,h,f,p;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",v=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";a=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${y}`,v&&(a+=` (${v})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var m;a=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},Hm=class extends Km{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const ui=new RegExp("[,()]");var Ot=class extends Hm{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&ui.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&ui.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Gm=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",i),n&&c.append("Prefer",`count=${n}`),new Ot({method:s,url:a,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:i}=this.cloneRequestState();if(e&&i.append("Prefer",`count=${e}`),r||i.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){const c=[...new Set(a)].map(u=>`"${u}"`);o.searchParams.set("columns",c.join(","))}}return new Ot({method:s,url:o,headers:i,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);a.searchParams.set("columns",h.join(","))}}return new Ot({method:i,url:a,headers:c,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Ot({method:n,url:s,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Ot({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Jm=class Ic{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Gm(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ic(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const c=new URL(`${this.url}/rpc/${e}`);let u;const h=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(h)),f=n&&Object.values(r).some(h);f?(a="POST",u=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(a="POST",u=r);const p=new Headers(this.headers);return f?p.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&p.set("Prefer",`count=${o}`),new Ot({method:a,url:c,headers:p,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class Ym{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Xm="2.93.3",Zm=`realtime-js/${Xm}`,Qm="1.0.0",Mc="2.0.0",di=Mc,bs=1e4,e0=1e3,t0=100;var et;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(et||(et={}));var he;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(he||(he={}));var Re;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Re||(Re={}));var ws;(function(t){t.websocket="websocket"})(ws||(ws={}));var ht;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ht||(ht={}));class r0{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,r,n){var s,o;const i=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+i.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(m),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,c.length),y.setUint8(v++,a.length),y.setUint8(v++,i.length),y.setUint8(v++,u.length),y.setUint8(v++,f.length),y.setUint8(v++,r),Array.from(c,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(i,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(f,b=>y.setUint8(v++,b.charCodeAt(0)));var g=new Uint8Array(m.byteLength+n.byteLength);return g.set(new Uint8Array(m),0),g.set(new Uint8Array(n),m.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,o,i,a,c]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+s));c=c+s;const h=n.decode(e.slice(c,c+o));c=c+o;const f=n.decode(e.slice(c,c+i));c=c+i;const p=e.slice(c,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST_EVENT,event:h,payload:m};return i>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Dc{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const hi=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=n0(i,t,e,s),o),{}):{}},n0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?Lc(o,i):xs(i)},Lc=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return a0(e,r)}switch(t){case re.bool:return s0(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return o0(e);case re.json:case re.jsonb:return i0(e);case re.timestamp:return c0(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return xs(e);default:return xs(e)}},xs=t=>t,s0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},o0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},a0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Lc(e,a))}return t},c0=t=>typeof t=="string"?t.replace(" ","T"):t,Uc=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vn{constructor(e,r,n={},s=bs){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fi||(fi={}));class tr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tr.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=tr.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=tr.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},c={};return this.map(o,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const f=o[u];if(f){const p=h.map(g=>g.presence_ref),m=f.map(g=>g.presence_ref),y=h.filter(g=>m.indexOf(g.presence_ref)<0),v=f.filter(g=>p.indexOf(g.presence_ref)<0);y.length>0&&(a[u]=y),v.length>0&&(c[u]=v)}else a[u]=h}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const h=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),h.length>0){const f=e[a].map(m=>m.presence_ref),p=h.filter(m=>f.indexOf(m.presence_ref)<0);e[a].unshift(...p)}n(a,h,c)}),this.map(i,(a,c)=>{let u=e[a];if(!u)return;const h=c.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,c),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pi||(pi={}));var rr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rr||(rr={}));var ze;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ze||(ze={}));class It{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vn(this,Re.join,this.params,this.timeout),this.rejoinTimer=new Dc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Re.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new tr(this),this.broadcastEndpointURL=Uc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[rr.PRESENCE]&&this.bindings[rr.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ze.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ze.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(ze.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,g=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,b=[];for(let x=0;x<g;x++){const w=v[x],{filter:{event:_,schema:E,table:C,filter:k}}=w,T=m&&m[x];if(T&&T.event===_&&It.isFilterValueEqual(T.schema,E)&&It.isFilterValueEqual(T.table,C)&&It.isFilterValueEqual(T.filter,k))b.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=he.errored,e==null||e(ze.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(ze.SUBSCRIBED);return}}).receive("error",m=>{this.state=he.errored,e==null||e(ze.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ze.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===he.joined&&e===rr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=he.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Re.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Vn(this,Re.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vn(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>t0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:h}=Re;if(n&&[a,c,u,h].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,v,g;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(v=m.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(m=>m.callback(p,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var y,v,g,b,x,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,E=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(x=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:v,table:g,commit_timestamp:b,type:x,errors:w}=y;p=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(y))}m.callback(p,n)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&It.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Re.close,{},e)}_onError(e){this._on(Re.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hi(e.columns,e.old_record)),r}}const Wn=()=>{},Fr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},l0=[1e3,2e3,5e3,1e4],u0=1e4,d0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bs,this.transport=null,this.heartbeatIntervalMs=Fr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wn,this.ref=0,this.reconnectTimer=null,this.vsn=di,this.logger=Wn,this.conn=null,this.sendBuffer=[],this.serializer=new r0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ws.websocket}`,this.httpEndpoint=Uc(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ym.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case et.connecting:return ht.Connecting;case et.open:return ht.Open;case et.closing:return ht.Closing;default:return ht.Closed}}isConnected(){return this.connectionState()===ht.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new It(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(e0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===et.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===et.open||this.conn.readyState===et.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Re.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([d0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:Zm};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Re.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Dc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,a,c,u,h,f,p,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:bs,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Fr.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Wn,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:di,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(y=>l0[y-1]||u0),this.vsn){case Qm:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((y,v)=>v(JSON.stringify(y))),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:((y,v)=>v(JSON.parse(y)));break;case Mc:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ir=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function f0(t,e,r){const n=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function p0(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function m0(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=f0(t.baseUrl,n,s),c=await p0(t.auth),u=await e(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),h=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),p=f&&h?JSON.parse(h):h;if(!u.ok){const m=f?p:void 0,y=m==null?void 0:m.error;throw new ir((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:p}}}}function Br(t){return t.join("")}var g0=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Br(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Br(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Br(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Br(t.namespace)}`}),!0}catch(e){if(e instanceof ir&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ir&&r.status===409)return;throw r}}};function St(t){return t.join("")}var v0=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${St(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${St(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${St(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${St(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${St(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${St(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ir&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ir&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},y0=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=m0({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new g0(this.client,e),this.tableOps=new v0(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},kn=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var zr=class extends kn{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fc=class extends kn{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const b0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),w0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_s=t=>{if(Array.isArray(t))return t.map(r=>_s(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=_s(n)}),e},x0=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ar(t){"@babel/helpers - typeof";return ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(t)}function _0(t,e){if(ar(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ar(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E0(t){var e=_0(t,"string");return ar(e)=="symbol"?e:e+""}function S0(t,e,r){return(e=E0(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mi(Object(r),!0).forEach(function(n){S0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mi(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const gi=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},k0=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,o=s.status||500;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||o+"";e(new zr(gi(i),o,a,n))}).catch(()=>{if(n==="vectors"){const i=o+"";e(new zr(s.statusText||`HTTP ${o} error`,o,i,n))}else{const i=o+"";e(new zr(s.statusText||`HTTP ${o} error`,o,i,n))}});else{const i=o+"";e(new zr(s.statusText||`HTTP ${o} error`,o,i,n))}}else e(new Fc(gi(t),t,n))},C0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?B(B({},s),r):(w0(n)?(s.headers=B({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),B(B({},s),r))};async function Zt(t,e,r,n,s,o,i){return new Promise((a,c)=>{t(r,C0(e,n,s,o)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(i==="vectors"){const h=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!h||!h.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>k0(u,c,n,i))})}function Bc(t="storage"){return{get:async(e,r,n,s)=>Zt(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,o)=>Zt(e,"POST",r,s,o,n,t),put:async(e,r,n,s,o)=>Zt(e,"PUT",r,s,o,n,t),head:async(e,r,n,s)=>Zt(e,"HEAD",r,B(B({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,o)=>Zt(e,"DELETE",r,s,o,n,t)}}const $0=Bc("storage"),{get:cr,post:Te,put:Es,head:T0,remove:eo}=$0,xe=Bc("vectors");var qt=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=b0(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}}},R0=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}}};let zc;zc=Symbol.toStringTag;var A0=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[zc]="BlobDownloadBuilder",this.promise=null}asStream(){return new R0(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}}};const j0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var O0=class extends qt{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let o;const i=B(B({},vi),n);let a=B(B({},s.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(a=B(B({},a),n.headers));const u=s._removeEmptyFolders(e),h=s._getFinalPath(u),f=await(t=="PUT"?Es:Te)(s.fetch,`${s.url}/object/${h}`,o,B({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const o=s._removeEmptyFolders(t),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);return a.searchParams.set("token",e),s.handleOperation(async()=>{let c;const u=B({upsert:vi.upsert},n),h=B(B({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{path:o,fullPath:(await Es(s.fetch,a.toString(),c,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=B({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const o=await Te(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),a=i.searchParams.get("token");if(!a)throw new kn("No token returned by API");return{signedUrl:i.toString(),path:t,token:a}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Te(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Te(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),o=await Te(n.fetch,`${n.url}/object/sign/${s}`,B({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await Te(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(i=>B(B({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(t),i=()=>cr(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new A0(i,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>_s(await cr(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await T0(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cn(n)&&n instanceof Fc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});i!==""&&n.push(i);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await eo(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=B(B(B({},j0),e),{},{prefix:t||""});return await Te(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=B({},t);return await Te(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const N0="2.93.3",xr={"X-Client-Info":`storage-js/${N0}`};var P0=class extends qt{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),i=B(B({},xr),e);super(o,i,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await cr(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await cr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Te(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Es(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Te(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await eo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},I0=class extends qt{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},xr),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Te(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await cr(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await eo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!x0(t))throw new kn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new y0({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},M0=class extends qt{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},xr),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await xe.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await xe.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},D0=class extends qt{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},xr),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},L0=class extends qt{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},xr),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await xe.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},U0=class extends L0{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new F0(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},F0=class extends M0{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new B0(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},B0=class extends D0{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},z0=class extends P0{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new O0(this.url,this.headers,t,this.fetch)}get vectors(){return new U0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new I0(this.url+"/iceberg",this.headers,this.fetch)}};const Vc="2.93.3",Nt=30*1e3,Ss=3,qn=Ss*Nt,V0="http://localhost:9999",W0="supabase.auth.token",q0={"X-Client-Info":`gotrue-js/${Vc}`},ks="X-Supabase-Api-Version",Wc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H0=600*1e3;class lr extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class G0 extends lr{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function J0(t){return I(t)&&t.name==="AuthApiError"}class ft extends lr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ke extends lr{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ve extends Ke{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kn(t){return I(t)&&t.name==="AuthSessionMissingError"}class kt extends Ke{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vr extends Ke{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wr extends Ke{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y0(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class yi extends Ke{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X0 extends Ke{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Cs extends Ke{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Hn(t){return I(t)&&t.name==="AuthRetryableFetchError"}class bi extends Ke{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $s extends Ke{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ln="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wi=` 	
\r=`.split(""),Z0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wi.length;e+=1)t[wi[e].charCodeAt(0)]=-2;for(let e=0;e<ln.length;e+=1)t[ln[e].charCodeAt(0)]=e;return t})();function xi(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ln[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ln[n]),e.queuedBits-=6}}function qc(t,e,r){const n=Z0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _i(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{tg(i,n,r)};for(let i=0;i<t.length;i+=1)qc(t.charCodeAt(i),s,o);return e.join("")}function Q0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function eg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Q0(n,e)}}function tg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ut(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)qc(t.charCodeAt(s),r,n);return new Uint8Array(e)}function rg(t){const e=[];return eg(t,r=>e.push(r)),new Uint8Array(e)}function mt(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>xi(s,r,n)),xi(null,r,n),e.join("")}function ng(t){return Math.round(Date.now()/1e3)+t}function sg(){return Symbol("auth-callback")}const pe=()=>typeof window<"u"&&typeof document<"u",lt={tested:!1,writable:!1},Kc=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lt.tested)return lt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),lt.tested=!0,lt.writable=!0}catch{lt.tested=!0,lt.writable=!1}return lt.writable};function og(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Hc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ig=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pt=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ut=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fe=async(t,e)=>{await t.removeItem(e)};class $n{constructor(){this.promise=new $n.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$n.promiseConstructor=Promise;function qr(t){const e=t.split(".");if(e.length!==3)throw new $s("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!K0.test(e[n]))throw new $s("JWT not in base64url format");return{header:JSON.parse(_i(e[0])),payload:JSON.parse(_i(e[1])),signature:Ut(e[2]),raw:{header:e[0],payload:e[1]}}}async function ag(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function cg(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function lg(t){return("0"+t.toString(16)).substr(-2)}function ug(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,lg).join("")}async function dg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function hg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await dg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ct(t,e,r=!1){const n=ug();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Pt(t,`${e}-code-verifier`,s);const o=await hg(n);return[o,n===o?"plain":"s256"]}const fg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pg(t){const e=t.headers.get(ks);if(!e||!e.match(fg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $t(t){if(!vg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gn(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yg(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Ei(t){return JSON.parse(JSON.stringify(t))}const dt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bg=[502,503,504];async function Si(t){var e;if(!ig(t))throw new Cs(dt(t),0);if(bg.includes(t.status))throw new Cs(dt(t),t.status);let r;try{r=await t.json()}catch(o){throw new ft(dt(o),o)}let n;const s=pg(t);if(s&&s.getTime()>=Wc["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bi(dt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ve}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new bi(dt(r),t.status,r.weak_password.reasons);throw new G0(dt(r),t.status||500,n)}const wg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function L(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[ks]||(o[ks]=Wc["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await xg(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function xg(t,e,r,n,s,o){const i=wg(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new Cs(dt(c),0)}if(a.ok||await Si(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Si(c)}}function $e(t){var e;let r=null;Sg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ng(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ki(t){const e=$e(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function tt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _g(t){return{data:t,error:null}}function Eg(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=Wt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function Ci(t){return t}function Sg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jn=["global","local","others"];class kg{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Hc(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Jn[0]){if(Jn.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jn.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Wt(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Eg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},h=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Ci});if(h.error)throw h.error;const f=await h.json(),p=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){$t(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){$t(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){$t(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){$t(e.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(e){$t(e.userId),$t(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},h=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Ci});if(h.error)throw h.error;const f=await h.json(),p=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function $i(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Tt={debug:!!(globalThis&&Kc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Cg extends Gc{}async function $g(t,e,r){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Cg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Tt.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Tg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Rg(t){return parseInt(t,16)}function Ag(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function jg(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:c,resources:u,scheme:h,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Jc(t.address),y=h?`${h}://${n}`:n,v=t.statement?`${t.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${m}

${v}`;let b=`URI: ${f}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${g}
${b}`}class le extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class un extends le{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Og({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Yc(i)){if(o.rp.id!==i)return new le({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ng({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Yc(n)){if(r.rpId!==n)return new le({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Pg{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ig=new Pg;function Mg(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Wt(t,["challenge","user","excludeCredentials"]),o=Ut(e).buffer,i=Object.assign(Object.assign({},r),{id:Ut(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ut(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Dg(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Wt(t,["challenge","allowCredentials"]),s=Ut(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Ut(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function Lg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:mt(new Uint8Array(t.response.attestationObject)),clientDataJSON:mt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ug(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mt(new Uint8Array(s.authenticatorData)),clientDataJSON:mt(new Uint8Array(s.clientDataJSON)),signature:mt(new Uint8Array(s.signature)),userHandle:s.userHandle?mt(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ti(){var t,e;return!!(pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Fg(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new un("Browser returned unexpected credential type",e)}:{data:null,error:new un("Empty credential response",e)}}catch(e){return{data:null,error:Og({error:e,options:t})}}}async function Bg(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new un("Browser returned unexpected credential type",e)}:{data:null,error:new un("Empty credential response",e)}}catch(e){return{data:null,error:Ng({error:e,options:t})}}}const zg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Vg={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dn(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(e(i)){const a=n[o];e(a)?n[o]=dn(a,i):n[o]=dn(i)}else n[o]=i}return n}function Wg(t,e){return dn(zg,t,e||{})}function qg(t,e){return dn(Vg,t,e||{})}class Kg{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){var i;try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:c};const u=s??Ig.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:h}=a.webauthn.credential_options.publicKey;if(!h.name){const f=n;if(f)h.name=`${h.id}:${f}`;else{const m=(await this.client.getUser()).data.user,y=((i=m==null?void 0:m.user_metadata)===null||i===void 0?void 0:i.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";h.name=`${h.id}:${y}`}}h.displayName||(h.displayName=h.name)}switch(a.webauthn.type){case"create":{const h=Wg(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:p}=await Fg({publicKey:h,signal:u});return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=qg(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:p}=await Bg(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h,signal:u}));return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new ft("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new lr("rpId is required for WebAuthn authentication")};try{if(!Ti())return{data:null,error:new ft("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:c}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return I(i)?{data:null,error:i}:{data:null,error:new ft("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new lr("rpId is required for WebAuthn registration")};try{if(!Ti())return{data:null,error:new ft("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return I(i)?{data:null,error:i}:{data:null,error:new ft("Unexpected error in register",i)}}}}Tg();const Hg={url:V0,storageKey:W0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ri(t,e,r){return await r()}const Rt={};class ur{get jwks(){var e,r;return(r=(e=Rt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Rt[this.storageKey]=Object.assign(Object.assign({},Rt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Rt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Rt[this.storageKey]=Object.assign(Object.assign({},Rt[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Hg),e);if(this.storageKey=o.storageKey,this.instanceID=(r=ur.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ur.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&pe()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new kg({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Hc(o.fetch),this.lock=o.lock||Ri,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&pe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$g:this.lock=Ri,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kg(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Kc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$i(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=$i(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vc}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(pe()&&(r=og(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),pe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Y0(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new ft("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$e}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:h,password:f,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ct(this.storage,this.storageKey)),o=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},xform:$e})}else if("phone"in e){const{phone:h,password:f,options:p}=e;o=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:$e})}else throw new Vr("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki})}else throw new Vr("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new kt;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,i,a,c,u,h,f,p;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:v,wallet:g,statement:b,options:x}=e;let w;if(pe())if(typeof g=="object")w=g;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")w=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),E=await w.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Jc(E[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const N=await w.request({method:"eth_chainId"});k=Rg(N)}const T={domain:_.host,address:C,statement:b,uri:_.href,version:"1",chainId:k,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=x==null?void 0:x.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=jg(T),y=await w.request({method:"personal_sign",params:[Ag(m),C]})}try{const{data:v,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$e});if(g)throw g;if(!v||!v.session||!v.user){const b=new kt;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(I(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,s,o,i,a,c,u,h,f,p,m;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:g,wallet:b,statement:x,options:w}=e;let _;if(pe())if(typeof b=="object")_=b;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const E=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),x?{statement:x}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(h=w==null?void 0:w.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=C}}try{const{data:g,error:b}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:mt(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:$e});if(b)throw b;if(!g||!g.session||!g.user){const x=new kt;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(I(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const r=await ut(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new X0;const{data:o,error:i}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$e});if(await fe(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new kt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$e}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new kt;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:c}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Ct(this.storage,this.storageKey));const{error:f}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Vr("You must provide either an email or phone number.")}catch(a){if(await fe(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:$e});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,o,i;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await Ct(this.storage,this.storageKey));const u=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:_g});return!((o=u.data)===null||o===void 0)&&o.url&&pe()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await fe(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ve;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new Vr("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ut(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<qn:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await ut(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Gn()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=yg(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tt}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ve}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:tt})})}catch(r){if(I(r))return Kn(r)&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ve;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Ct(this.storage,this.storageKey));const{data:u,error:h}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:tt});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await fe(this.storage,`${this.storageKey}-code-verifier`),I(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ve;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=qr(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ve;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!pe())throw new Wr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yi("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=e;if(!o||!a||!i||!u)throw new Wr("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let p=h+f;c&&(p=parseInt(c));const m=p-h;m*1e3<=Nt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=p-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,h);const{data:v,error:g}=await this._getUser(o);if(g)throw g;const b={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ut(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o&&!Kn(o))return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(J0(a)&&(a.status===404||a.status===401||a.status===403)||Kn(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=sg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ct(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,u,h;const{data:f,error:p}=o;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return pe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(I(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:c,access_token:u,nonce:h}=e,f=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:$e}),{data:p,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new kt}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:m}))}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cg(async s=>(s>0&&await ag(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$e})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Hn(o)&&Date.now()+i-n<Nt})}catch(n){if(this._debug(r,"error",n),I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),pe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ut(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ut(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Pt(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Gn()}else if(s&&!s.user&&!s.user){const i=await ut(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await fe(this.storage,this.storageKey+"-user"),await Pt(this.storage,this.storageKey,s)):s.user=Gn()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qn;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${qn}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Hn(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ve;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $n;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new ve;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),I(o)){const i={data:null,error:o};return Hn(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pt(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Ei(s);await Pt(this.storage,this.storageKey,o)}else{const s=Ei(r);await Pt(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fe(this.storage,this.storageKey),await fe(this.storage,this.storageKey+"-code-verifier"),await fe(this.storage,this.storageKey+"-user"),this.userStorage&&await fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Nt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nt}ms, refresh threshold is ${Ss} ticks`),s<=Ss&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Ct(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Lg(e.webauthn.credential_response):Ug(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Mg(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Dg(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,o;if(e)try{const{payload:m}=qr(e);let y=null;m.aal&&(y=m.aal);let v=y;const{data:{user:g},error:b}=await this.getUser(e);if(b)return this._returnResult({data:null,error:b});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const w=m.amr||[];return{data:{currentLevel:y,nextLevel:v,currentAuthenticationMethods:w},error:null}}catch(m){if(I(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=qr(i.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((o=(s=i.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(h="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ve})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ve});const i=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ve});const i=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ve})})}catch(e){if(I(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ve})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+H0>s)return n;const{data:o,error:i}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=qr(n);r!=null&&r.allowExpired||mg(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const h=gg(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,i,rg(`${a}.${c}`)))throw new $s("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}}ur.nextInstanceID={};const Gg=ur,Jg="2.93.3";let Qt="";typeof Deno<"u"?Qt="deno":typeof document<"u"?Qt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qt="react-native":Qt="node";const Yg={"X-Client-Info":`supabase-js-${Qt}/${Jg}`},Xg={headers:Yg},Zg={schema:"public"},Qg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e2={};function dr(t){"@babel/helpers - typeof";return dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(t)}function t2(t,e){if(dr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r2(t){var e=t2(t,"string");return dr(e)=="symbol"?e:e+""}function n2(t,e,r){return(e=r2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ai(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ai(Object(r),!0).forEach(function(n){n2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ai(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const s2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o2=()=>Headers,i2=(t,e,r)=>{const n=s2(r),s=o2();return async(o,i)=>{var a;const c=(a=await e())!==null&&a!==void 0?a:t;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,ce(ce({},i),{},{headers:u}))}};function a2(t){return t.endsWith("/")?t:t+"/"}function c2(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:c,auth:u,realtime:h,global:f}=e,p={db:ce(ce({},c),s),auth:ce(ce({},u),o),realtime:ce(ce({},h),i),storage:{},global:ce(ce(ce({},f),a),{},{headers:ce(ce({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function l2(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a2(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var u2=class extends Gg{constructor(t){super(t)}},d2=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const o=l2(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:Zg,realtime:e2,auth:ce(ce({},Qg),{},{storageKey:i}),global:Xg},c=c2(r??{},a);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=i2(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Jm(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new z0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Wm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:a,debug:c,throwOnError:u},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u2({url:this.authUrl.href,headers:ce(ce({},p),h),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:a,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new h0(this.realtimeUrl.href,ce(ce({},t),{},{params:ce(ce({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const h2=(t,e,r)=>new d2(t,e,r);function f2(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}f2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p2="https://lcjpyzcewtylqbqcmrpe.supabase.co",m2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxjanB5emNld3R5bHFicWNtcnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NDA2MzgsImV4cCI6MjA4NDQxNjYzOH0.bLWVQaB4CXljxpzESB339xSHxU5M_Vnuw4hmkUzsmlw",ie=h2(p2,m2,{auth:{persistSession:!1,autoRefreshToken:!1}}),Ts={github:"gitHub",linkedin:"linkedIn","apple music":"apple music",amazon:"amazon","ko-fi":"ko-fi","buy me a coffee":"buy me a coffee",geeksforgeeks:"geeksforgeeks",accesskey:"accessKey",accessKey:"accessKey",avatar_url:"avatar_url"},Ye=t=>{if(!t)return t;const e={};return Object.keys(t).forEach(r=>{const n=Ts[r]||r;e[n]=t[r]}),e};class De{static async getByUserId(e){try{const{data:r,error:n}=await ie.from("users").select("*").eq("clerk_id",e).maybeSingle();if(n)throw console.error("Error fetching user:",n),n;return Ye(r)}catch(r){throw console.error("Supabase error:",r.message),r}}static async getByUsername(e){try{const{data:r,error:n}=await ie.from("users").select("*").eq("username",e).maybeSingle();if(n)throw console.error("Error fetching user by username:",n),n;return Ye(r)}catch(r){throw console.error("Supabase error:",r.message),r}}static async create(e){try{const{data:r,error:n}=await ie.from("users").insert([e]).select().maybeSingle();if(n)throw console.error("Error creating user:",n),n;return Ye(r)}catch(r){throw console.error("Supabase error:",r.message),r}}static async incrementViews(e){try{let r;try{const{data:n,error:s}=await ie.rpc("increment_user_views",{user_username:e});if(s)throw s;r=n}catch(n){console.warn("RPC function failed, falling back to direct update:",n.message);const{data:s}=await ie.from("users").select("views").eq("username",e).single(),o=(s==null?void 0:s.views)||0,{data:i}=await ie.from("users").update({views:o+1}).eq("username",e).select("views").single();r=(i==null?void 0:i.views)||o+1}return setTimeout(async()=>{try{await this.updateRanksForTopUsers(),console.log("Ranks updated successfully after view increment")}catch(n){console.error("Failed to update ranks after view increment:",n)}},1e3),r}catch(r){throw console.error("Error incrementing views:",r),r}}static async syncAvatarUrl(e,r){try{const{data:n,error:s}=await ie.from("users").update({avatar_url:r}).eq("clerk_id",e).select().maybeSingle();if(s)throw console.error("Error syncing avatar URL:",s),s;return Ye(n)}catch(n){throw console.error("Supabase error:",n.message),n}}static async ensureAvatarUrl(e,r){try{const{data:n}=await ie.from("users").select("avatar_url").eq("clerk_id",e).maybeSingle();return n!=null&&n.avatar_url?n:await this.syncAvatarUrl(e,r)}catch(n){throw console.error("Error ensuring avatar URL:",n),n}}static async getTopUsers(e=3){try{const{data:r,error:n}=await ie.from("users").select("username, name, avatar_url, views, rank").not("views","is",null).not("username","is",null).order("views",{ascending:!1}).limit(e);if(n)throw console.error("Error fetching top users:",n),n;return r.map(s=>Ye(s))}catch(r){throw console.error("Supabase error:",r.message),r}}static async updateRanksForTopUsers(){try{const e=await this.getTopUsers(3),r=e.map(o=>o.username),{data:n,error:s}=await ie.from("users").select("username, rank").like("rank","%%");if(s)throw console.error("Error fetching booster users:",s),s;for(const o of n)r.includes(o.username)||await this.removeRank(o.username,"");for(const o of e)await this.addRank(o.username,"");return{success:!0,updatedUsers:e}}catch(e){throw console.error("Error updating ranks for top users:",e),e}}static async addRank(e,r){try{const{data:n,error:s}=await ie.from("users").select("rank").eq("username",e).single();if(s)throw console.error("Error fetching user for rank addition:",s),s;const i=(n.rank||"").split(",").map(h=>h.trim());if(i.includes(r))return{success:!0,message:"User already has this rank"};i.push(r);const a=[...new Set(i)].join(", "),{data:c,error:u}=await ie.from("users").update({rank:a}).eq("username",e).select().single();if(u)throw console.error("Error adding rank:",u),u;return{success:!0,data:Ye(c)}}catch(n){throw console.error("Supabase error:",n.message),n}}static async removeRank(e,r){try{const{data:n,error:s}=await ie.from("users").select("rank").eq("username",e).single();if(s)throw console.error("Error fetching user for rank removal:",s),s;const a=(n.rank||"").split(",").map(f=>f.trim()).filter(f=>f!==r),c=a.length>0?a.join(", "):"",{data:u,error:h}=await ie.from("users").update({rank:c}).eq("username",e).select().single();if(h)throw console.error("Error removing rank:",h),h;return{success:!0,data:Ye(u)}}catch(n){throw console.error("Supabase error:",n.message),n}}static async update(e,r,n=null){try{const s=ie,o=await s.from("users").select("id").eq("clerk_id",e).maybeSingle();if(o.error)throw console.error("Error checking existing user:",o.error),o.error;const i={};Object.keys(r).forEach(f=>{const p=Object.keys(Ts).find(m=>Ts[m]===f)||f;i[p]=r[f]});const{accesskey:a,accessKey:c,...u}=i;console.log("Final data to update:",u);let h;if(o.data){const{data:f,error:p}=await s.from("users").update(u).eq("clerk_id",e).select().single();if(p)throw console.error("Error updating user:",p),p;h=f}else{const f={clerk_id:e,...u},{data:p,error:m}=await s.from("users").insert([f]).select().single();if(m)throw console.error("Error creating user:",m),m;h=p}return Ye(h)}catch(s){throw console.error("Supabase error:",s.message),s}}}function Ve(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Rs(t){const e=g2(t),r=l.forwardRef((n,s)=>{const{children:o,...i}=n,a=l.Children.toArray(o),c=a.find(y2);if(c){const u=c.props.children,h=a.map(f=>f===c?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:f);return d.jsx(e,{...i,ref:s,children:l.isValidElement(u)?l.cloneElement(u,void 0,h):null})}return d.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function g2(t){const e=l.forwardRef((r,n)=>{const{children:s,...o}=r;if(l.isValidElement(s)){const i=w2(s),a=b2(o,s.props);return s.type!==l.Fragment&&(a.ref=n?gn(n,i):i),l.cloneElement(s,a)}return l.Children.count(s)>1?l.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var v2=Symbol("radix.slottable");function y2(t){return l.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===v2}function b2(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function w2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function x2(t){const e=t+"CollectionProvider",[r,n]=fr(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:g,children:b}=v,x=H.useRef(null),w=H.useRef(new Map).current;return d.jsx(s,{scope:g,itemMap:w,collectionRef:x,children:b})};i.displayName=e;const a=t+"CollectionSlot",c=Rs(a),u=H.forwardRef((v,g)=>{const{scope:b,children:x}=v,w=o(a,b),_=je(g,w.collectionRef);return d.jsx(c,{ref:_,children:x})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Rs(h),m=H.forwardRef((v,g)=>{const{scope:b,children:x,...w}=v,_=H.useRef(null),E=je(g,_),C=o(h,b);return H.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),d.jsx(p,{[f]:"",ref:E,children:x})});m.displayName=h;function y(v){const g=o(t+"CollectionConsumer",v);return H.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((C,k)=>w.indexOf(C.ref.current)-w.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},y,n]}var _2=mn[" useId ".trim().toString()]||(()=>{}),E2=0;function Xc(t){const[e,r]=l.useState(_2());return nt(()=>{r(n=>n??String(E2++))},[t]),t||(e?`radix-${e}`:"")}var S2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=S2.reduce((t,e)=>{const r=Rs(`Primitive.${e}`),n=l.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),k2=l.createContext(void 0);function Zc(t){const e=l.useContext(k2);return t||e||"ltr"}var Yn="rovingFocusGroup.onEntryFocus",C2={bubbles:!1,cancelable:!0},_r="RovingFocusGroup",[As,Qc,$2]=x2(_r),[T2,el]=fr(_r,[$2]),[R2,A2]=T2(_r),tl=l.forwardRef((t,e)=>d.jsx(As.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(As.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(j2,{...t,ref:e})})}));tl.displayName=_r;var j2=l.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,p=l.useRef(null),m=je(e,p),y=Zc(o),[v,g]=Ns({prop:i,defaultProp:a??null,onChange:c,caller:_r}),[b,x]=l.useState(!1),w=rt(u),_=Qc(r),E=l.useRef(!1),[C,k]=l.useState(0);return l.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Yn,w),()=>T.removeEventListener(Yn,w)},[w]),d.jsx(R2,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:v,onItemFocus:l.useCallback(T=>g(T),[g]),onItemShiftTab:l.useCallback(()=>x(!0),[]),onFocusableItemAdd:l.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:l.useCallback(()=>k(T=>T-1),[]),children:d.jsx(Kt.div,{tabIndex:b||C===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{E.current=!0}),onFocus:Ve(t.onFocus,T=>{const N=!E.current;if(T.target===T.currentTarget&&N&&!b){const M=new CustomEvent(Yn,C2);if(T.currentTarget.dispatchEvent(M),!M.defaultPrevented){const W=_().filter(F=>F.focusable),P=W.find(F=>F.active),Z=W.find(F=>F.id===v),z=[P,Z,...W].filter(Boolean).map(F=>F.ref.current);sl(z,h)}}E.current=!1}),onBlur:Ve(t.onBlur,()=>x(!1))})})}),rl="RovingFocusGroupItem",nl=l.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=t,c=Xc(),u=o||c,h=A2(rl,r),f=h.currentTabStopId===u,p=Qc(r),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:v}=h;return l.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),d.jsx(As.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:d.jsx(Kt.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:Ve(t.onMouseDown,g=>{n?h.onItemFocus(u):g.preventDefault()}),onFocus:Ve(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:Ve(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){h.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const b=P2(g,h.orientation,h.dir);if(b!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(g.currentTarget);w=h.loop?I2(w,_+1):w.slice(_+1)}setTimeout(()=>sl(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});nl.displayName=rl;var O2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function N2(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function P2(t,e,r){const n=N2(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return O2[n]}function sl(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function I2(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var M2=tl,D2=nl;function L2(t,e){return l.useReducer((r,n)=>e[r][n]??r,t)}var ol=t=>{const{present:e,children:r}=t,n=U2(e),s=typeof r=="function"?r({present:n.isPresent}):l.Children.only(r),o=je(n.ref,F2(s));return typeof r=="function"||n.isPresent?l.cloneElement(s,{ref:o}):null};ol.displayName="Presence";function U2(t){const[e,r]=l.useState(),n=l.useRef(null),s=l.useRef(t),o=l.useRef("none"),i=t?"mounted":"unmounted",[a,c]=L2(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=Kr(n.current);o.current=a==="mounted"?u:"none"},[a]),nt(()=>{const u=n.current,h=s.current;if(h!==t){const p=o.current,m=Kr(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),nt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=m=>{const v=Kr(n.current).includes(CSS.escape(m.animationName));if(m.target===e&&v&&(c("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=m=>{m.target===e&&(o.current=Kr(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:l.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Kr(t){return(t==null?void 0:t.animationName)||"none"}function F2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Tn="Tabs",[B2]=fr(Tn,[el]),il=el(),[z2,to]=B2(Tn),al=l.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=t,h=Zc(a),[f,p]=Ns({prop:n,onChange:s,defaultProp:o??"",caller:Tn});return d.jsx(z2,{scope:r,baseId:Xc(),value:f,onValueChange:p,orientation:i,dir:h,activationMode:c,children:d.jsx(Kt.div,{dir:h,"data-orientation":i,...u,ref:e})})});al.displayName=Tn;var cl="TabsList",ll=l.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=to(cl,r),i=il(r);return d.jsx(M2,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:d.jsx(Kt.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});ll.displayName=cl;var ul="TabsTrigger",dl=l.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,i=to(ul,r),a=il(r),c=pl(i.baseId,n),u=ml(i.baseId,n),h=n===i.value;return d.jsx(D2,{asChild:!0,...a,focusable:!s,active:h,children:d.jsx(Kt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Ve(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Ve(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Ve(t.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!s&&f&&i.onValueChange(n)})})})});dl.displayName=ul;var hl="TabsContent",fl=l.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=t,a=to(hl,r),c=pl(a.baseId,n),u=ml(a.baseId,n),h=n===a.value,f=l.useRef(h);return l.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(ol,{present:s||h,children:({present:p})=>d.jsx(Kt.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});fl.displayName=hl;function pl(t,e){return`${t}-trigger-${e}`}function ml(t,e){return`${t}-content-${e}`}var V2=al,W2=ll,q2=dl,K2=fl;function H2({className:t,...e}){return d.jsx(V2,{"data-slot":"tabs",className:J("flex flex-col gap-2",t),...e})}function G2({className:t,...e}){return d.jsx(W2,{"data-slot":"tabs-list",className:J("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function At({className:t,...e}){return d.jsx(q2,{"data-slot":"tabs-trigger",className:J("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function jt({className:t,...e}){return d.jsx(K2,{"data-slot":"tabs-content",className:J("flex-1 outline-none",t),...e})}const J2=l.forwardRef(({className:t,children:e,value:r,onValueChange:n,...s},o)=>{const[i,a]=l.useState(!1),[c,u]=l.useState(r||""),h=l.useRef(null);l.useEffect(()=>{u(r||"")},[r]),l.useEffect(()=>{const p=m=>{h.current&&!h.current.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const f=p=>{u(p),a(!1),n&&n(p)};return d.jsxs("div",{className:"relative w-full",ref:h,children:[d.jsxs("button",{type:"button",className:J("flex h-11 w-full items-center justify-between rounded-lg border border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-900 shadow-sm transition-all duration-200 placeholder:text-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 hover:border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder:text-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/20",t),onClick:()=>a(!i),...s,children:[d.jsx("span",{className:"block truncate",children:c?d.jsx("div",{className:"flex items-center gap-2",children:(()=>{var m;const p=e.find(y=>{var v;return((v=y.props)==null?void 0:v.value)===c});if(p&&((m=p.props)!=null&&m.children)){const y=p.props.children;if(y.props&&y.props.children)return d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-lg",children:y.props.children[0]}),d.jsx("span",{children:y.props.children[1]})]})}return c})()}):" "}),d.jsx(Hu,{className:J("h-4 w-4 text-gray-400 transition-transform duration-200",i&&"rotate-180")})]}),i&&d.jsx("div",{className:"absolute top-full z-50 mt-2 w-full rounded-lg border border-gray-200 bg-white shadow-lg ring-1 ring-black/5 transition-all duration-200 dark:border-gray-700 dark:bg-gray-800 dark:ring-white/10",children:d.jsx("div",{className:"max-h-60 overflow-auto rounded-lg py-1",children:l.Children.map(e,p=>p&&p.props?l.cloneElement(p,{onClick:()=>f(p.props.value),className:J("relative flex w-full cursor-pointer select-none items-center rounded-md px-3 py-2.5 text-sm text-gray-700 transition-colors duration-150 hover:bg-gray-50 hover:text-gray-900 focus:bg-gray-50 focus:text-gray-900 focus:outline-none dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-gray-100 dark:focus:bg-gray-700 dark:focus:text-gray-100",c===p.props.value&&"bg-blue-50 text-blue-700 hover:bg-blue-100 hover:text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 dark:hover:bg-blue-900/30 dark:hover:text-blue-200")}):p)})})]})});J2.displayName="Select";const Y2=l.forwardRef(({className:t,children:e,...r},n)=>d.jsx("div",{ref:n,className:J("",t),...r,children:e}));Y2.displayName="SelectTrigger";const X2=l.forwardRef(({className:t,placeholder:e,...r},n)=>d.jsx("span",{ref:n,className:J("block truncate",t),...r,children:e}));X2.displayName="SelectValue";const Z2=l.forwardRef(({className:t,children:e,...r},n)=>d.jsx("div",{ref:n,className:J("p-1",t),...r,children:e}));Z2.displayName="SelectContent";const Q2=l.forwardRef(({className:t,children:e,...r},n)=>d.jsx("div",{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t),...r,children:e}));Q2.displayName="SelectItem";class Zr{static async getByUserId(e){try{console.log("Fetching custom links for userId:",e);const{data:r,error:n}=await ie.from("custom_links").select("*").eq("user_id",e).eq("is_active",!0).order("order_index",{ascending:!0});if(n)throw console.error("Supabase error:",n),n;return console.log("Custom links data received:",r),r}catch(r){throw console.error("Error fetching custom links:",r),r}}static async getByUsername(e){try{const{data:r,error:n}=await ie.from("users").select("clerk_id").eq("username",e).single();if(n)throw n;const{data:s,error:o}=await ie.from("custom_links").select("*").eq("user_id",r.clerk_id).eq("is_active",!0).order("order_index",{ascending:!0});if(o)throw o;return s}catch(r){return console.error("Error fetching custom links by username:",r),null}}static async create(e,r){try{const{data:n}=await ie.from("custom_links").select("order_index").eq("user_id",e).order("order_index",{ascending:!1}).limit(1),s=n&&n.length>0?n[0].order_index+1:0,{data:o,error:i}=await ie.from("custom_links").insert({user_id:e,title:r.title,url:r.url,icon:r.icon||"globe",order_index:r.order_index!==void 0?r.order_index:s}).select().single();if(i)throw i;return o}catch(n){return console.error("Error creating custom link:",n),null}}static async update(e,r){try{const{data:n,error:s}=await ie.from("custom_links").update({title:r.title,url:r.url,icon:r.icon,order_index:r.order_index,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return n}catch(n){return console.error("Error updating custom link:",n),null}}static async delete(e){try{const{data:r,error:n}=await ie.from("custom_links").update({is_active:!1}).eq("id",e).select().single();if(n)throw n;return r}catch(r){return console.error("Error deleting custom link:",r),null}}static async reorder(e,r){try{const n=r.map(({id:i,order_index:a})=>ie.from("custom_links").update({order_index:a}).eq("id",i).eq("user_id",e));if((await Promise.all(n)).some(i=>i.error))throw new Error("Failed to reorder some links");return!0}catch(n){return console.error("Error reordering custom links:",n),!1}}}var gl={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ji=H.createContext&&H.createContext(gl),ev=["attr","size","title"];function tv(t,e){if(t==null)return{};var r=rv(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rv(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hn(){return hn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hn.apply(this,arguments)}function Oi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oi(Object(r),!0).forEach(function(n){nv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oi(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nv(t,e,r){return e=sv(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sv(t){var e=ov(t,"string");return typeof e=="symbol"?e:e+""}function ov(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vl(t){return t&&t.map((e,r)=>H.createElement(e.tag,fn({key:r},e.attr),vl(e.child)))}function X(t){return e=>H.createElement(iv,hn({attr:fn({},t.attr)},e),vl(t.child))}function iv(t){var e=r=>{var{attr:n,size:s,title:o}=t,i=tv(t,ev),a=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),H.createElement("svg",hn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:fn(fn({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&H.createElement("title",null,o),t.children)};return ji!==void 0?H.createElement(ji.Consumer,null,r=>e(r)):e(gl)}function av(t){return X({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.2 162.7c-48.7 1.8-169.5 15.5-169.5 117.5 0 109.5 138.3 114 183.5 43.2 6.5 10.2 35.4 37.5 45.3 46.8l56.8-56S341 288.9 341 261.4V114.3C341 89 316.5 32 228.7 32 140.7 32 94 87 94 136.3l73.5 6.8c16.3-49.5 54.2-49.5 54.2-49.5 40.7-.1 35.5 29.8 35.5 69.1zm0 86.8c0 80-84.2 68-84.2 17.2 0-47.2 50.5-56.7 84.2-57.8v40.6zm136 163.5c-7.7 10-70 67-174.5 67S34.2 408.5 9.7 379c-6.8-7.7 1-11.3 5.5-8.3C88.5 415.2 203 488.5 387.7 401c7.5-3.7 13.3 2 5.5 12zm39.8 2.2c-6.5 15.8-16 26.8-21.2 31-5.5 4.5-9.5 2.7-6.5-3.8s19.3-46.5 12.7-55c-6.5-8.3-37-4.3-48-3.2-10.8 1-13 2-14-.3-2.3-5.7 21.7-15.5 37.5-17.5 15.7-1.8 41-.8 46 5.7 3.7 5.1 0 27.1-6.5 43.1z"},child:[]}]})(t)}function cv(t){return X({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function lv(t){return X({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function uv(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function dv(t){return X({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function hv(t){return X({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function fv(t){return X({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function pv(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 194.8c0 101.3-82.4 183.8-183.8 183.8-101.7 0-184.4-82.4-184.4-183.8 0-101.6 82.7-184.3 184.4-184.3C429.6 10.5 512 93.2 512 194.8zM0 501.5h90v-491H0v491z"},child:[]}]})(t)}function mv(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function gv(t){return X({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M388.32,104.1a4.66,4.66,0,0,0-4.4-4c-2,0-37.23-.8-37.23-.8s-21.61-20.82-29.62-28.83V503.2L442.76,472S388.72,106.5,388.32,104.1ZM288.65,70.47a116.67,116.67,0,0,0-7.21-17.61C271,32.85,255.42,22,237,22a15,15,0,0,0-4,.4c-.4-.8-1.2-1.2-1.6-2C223.4,11.63,213,7.63,200.58,8c-24,.8-48,18-67.25,48.83-13.61,21.62-24,48.84-26.82,70.06-27.62,8.4-46.83,14.41-47.23,14.81-14,4.4-14.41,4.8-16,18-1.2,10-38,291.82-38,291.82L307.86,504V65.67a41.66,41.66,0,0,0-4.4.4S297.86,67.67,288.65,70.47ZM233.41,87.69c-16,4.8-33.63,10.4-50.84,15.61,4.8-18.82,14.41-37.63,25.62-50,4.4-4.4,10.41-9.61,17.21-12.81C232.21,54.86,233.81,74.48,233.41,87.69ZM200.58,24.44A27.49,27.49,0,0,1,215,28c-6.4,3.2-12.81,8.41-18.81,14.41-15.21,16.42-26.82,42-31.62,66.45-14.42,4.41-28.83,8.81-42,12.81C131.33,83.28,163.75,25.24,200.58,24.44ZM154.15,244.61c1.6,25.61,69.25,31.22,73.25,91.66,2.8,47.64-25.22,80.06-65.65,82.47-48.83,3.2-75.65-25.62-75.65-25.62l10.4-44s26.82,20.42,48.44,18.82c14-.8,19.22-12.41,18.81-20.42-2-33.62-57.24-31.62-60.84-86.86-3.2-46.44,27.22-93.27,94.47-97.68,26-1.6,39.23,4.81,39.23,4.81L221.4,225.39s-17.21-8-37.63-6.4C154.15,221,153.75,239.8,154.15,244.61ZM249.42,82.88c0-12-1.6-29.22-7.21-43.63,18.42,3.6,27.22,24,31.23,36.43Q262.63,78.68,249.42,82.88Z"},child:[]}]})(t)}function vv(t){return X({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.7 299.8c2.9-14 4.7-28.9 4.7-43.8 0-113.5-91.9-205.3-205.3-205.3-14.9 0-29.7 1.7-43.8 4.7C161.3 40.7 137.7 32 112 32 50.2 32 0 82.2 0 144c0 25.7 8.7 49.3 23.3 68.2-2.9 14-4.7 28.9-4.7 43.8 0 113.5 91.9 205.3 205.3 205.3 14.9 0 29.7-1.7 43.8-4.7 19 14.6 42.6 23.3 68.2 23.3 61.8 0 112-50.2 112-112 .1-25.6-8.6-49.2-23.2-68.1zm-194.6 91.5c-65.6 0-120.5-29.2-120.5-65 0-16 9-30.6 29.5-30.6 31.2 0 34.1 44.9 88.1 44.9 25.7 0 42.3-11.4 42.3-26.3 0-18.7-16-21.6-42-28-62.5-15.4-117.8-22-117.8-87.2 0-59.2 58.6-81.1 109.1-81.1 55.1 0 110.8 21.9 110.8 55.4 0 16.9-11.4 31.8-30.3 31.8-28.3 0-29.2-33.5-75-33.5-25.7 0-42 7-42 22.5 0 19.8 20.8 21.8 69.1 33 41.4 9.3 90.7 26.8 90.7 77.6 0 59.1-57.1 86.5-112 86.5z"},child:[]}]})(t)}function yv(t){return X({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm169.5 338.9c-3.5 8.1-18.1 14-44.8 18.2-1.4 1.9-2.5 9.8-4.3 15.9-1.1 3.7-3.7 5.9-8.1 5.9h-.2c-6.2 0-12.8-2.9-25.8-2.9-17.6 0-23.7 4-37.4 13.7-14.5 10.3-28.4 19.1-49.2 18.2-21 1.6-38.6-11.2-48.5-18.2-13.8-9.7-19.8-13.7-37.4-13.7-12.5 0-20.4 3.1-25.8 3.1-5.4 0-7.5-3.3-8.3-6-1.8-6.1-2.9-14.1-4.3-16-13.8-2.1-44.8-7.5-45.5-21.4-.2-3.6 2.3-6.8 5.9-7.4 46.3-7.6 67.1-55.1 68-57.1 0-.1.1-.2.2-.3 2.5-5 3-9.2 1.6-12.5-3.4-7.9-17.9-10.7-24-13.2-15.8-6.2-18-13.4-17-18.3 1.6-8.5 14.4-13.8 21.9-10.3 5.9 2.8 11.2 4.2 15.7 4.2 3.3 0 5.5-.8 6.6-1.4-1.4-23.9-4.7-58 3.8-77.1C183.1 100 230.7 96 244.7 96c.6 0 6.1-.1 6.7-.1 34.7 0 68 17.8 84.3 54.3 8.5 19.1 5.2 53.1 3.8 77.1 1.1.6 2.9 1.3 5.7 1.4 4.3-.2 9.2-1.6 14.7-4.2 4-1.9 9.6-1.6 13.6 0 6.3 2.3 10.3 6.8 10.4 11.9.1 6.5-5.7 12.1-17.2 16.6-1.4.6-3.1 1.1-4.9 1.7-6.5 2.1-16.4 5.2-19 11.5-1.4 3.3-.8 7.5 1.6 12.5.1.1.1.2.2.3.9 2 21.7 49.5 68 57.1 4 1 7.1 5.5 4.9 10.8z"},child:[]}]})(t)}function bv(t){return X({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M111.4 256.3l5.8 65-5.8 68.3c-.3 2.5-2.2 4.4-4.4 4.4s-4.2-1.9-4.2-4.4l-5.6-68.3 5.6-65c0-2.2 1.9-4.2 4.2-4.2 2.2 0 4.1 2 4.4 4.2zm21.4-45.6c-2.8 0-4.7 2.2-5 5l-5 105.6 5 68.3c.3 2.8 2.2 5 5 5 2.5 0 4.7-2.2 4.7-5l5.8-68.3-5.8-105.6c0-2.8-2.2-5-4.7-5zm25.5-24.1c-3.1 0-5.3 2.2-5.6 5.3l-4.4 130 4.4 67.8c.3 3.1 2.5 5.3 5.6 5.3 2.8 0 5.3-2.2 5.3-5.3l5.3-67.8-5.3-130c0-3.1-2.5-5.3-5.3-5.3zM7.2 283.2c-1.4 0-2.2 1.1-2.5 2.5L0 321.3l4.7 35c.3 1.4 1.1 2.5 2.5 2.5s2.2-1.1 2.5-2.5l5.6-35-5.6-35.6c-.3-1.4-1.1-2.5-2.5-2.5zm23.6-21.9c-1.4 0-2.5 1.1-2.5 2.5l-6.4 57.5 6.4 56.1c0 1.7 1.1 2.8 2.5 2.8s2.5-1.1 2.8-2.5l7.2-56.4-7.2-57.5c-.3-1.4-1.4-2.5-2.8-2.5zm25.3-11.4c-1.7 0-3.1 1.4-3.3 3.3L47 321.3l5.8 65.8c.3 1.7 1.7 3.1 3.3 3.1 1.7 0 3.1-1.4 3.1-3.1l6.9-65.8-6.9-68.1c0-1.9-1.4-3.3-3.1-3.3zm25.3-2.2c-1.9 0-3.6 1.4-3.6 3.6l-5.8 70 5.8 67.8c0 2.2 1.7 3.6 3.6 3.6s3.6-1.4 3.9-3.6l6.4-67.8-6.4-70c-.3-2.2-2-3.6-3.9-3.6zm241.4-110.9c-1.1-.8-2.8-1.4-4.2-1.4-2.2 0-4.2.8-5.6 1.9-1.9 1.7-3.1 4.2-3.3 6.7v.8l-3.3 176.7 1.7 32.5 1.7 31.7c.3 4.7 4.2 8.6 8.9 8.6s8.6-3.9 8.6-8.6l3.9-64.2-3.9-177.5c-.4-3-2-5.8-4.5-7.2zm-26.7 15.3c-1.4-.8-2.8-1.4-4.4-1.4s-3.1.6-4.4 1.4c-2.2 1.4-3.6 3.9-3.6 6.7l-.3 1.7-2.8 160.8s0 .3 3.1 65.6v.3c0 1.7.6 3.3 1.7 4.7 1.7 1.9 3.9 3.1 6.4 3.1 2.2 0 4.2-1.1 5.6-2.5 1.7-1.4 2.5-3.3 2.5-5.6l.3-6.7 3.1-58.6-3.3-162.8c-.3-2.8-1.7-5.3-3.9-6.7zm-111.4 22.5c-3.1 0-5.8 2.8-5.8 6.1l-4.4 140.6 4.4 67.2c.3 3.3 2.8 5.8 5.8 5.8 3.3 0 5.8-2.5 6.1-5.8l5-67.2-5-140.6c-.2-3.3-2.7-6.1-6.1-6.1zm376.7 62.8c-10.8 0-21.1 2.2-30.6 6.1-6.4-70.8-65.8-126.4-138.3-126.4-17.8 0-35 3.3-50.3 9.4-6.1 2.2-7.8 4.4-7.8 9.2v249.7c0 5 3.9 8.6 8.6 9.2h218.3c43.3 0 78.6-35 78.6-78.3.1-43.6-35.2-78.9-78.5-78.9zm-296.7-60.3c-4.2 0-7.5 3.3-7.8 7.8l-3.3 136.7 3.3 65.6c.3 4.2 3.6 7.5 7.8 7.5 4.2 0 7.5-3.3 7.5-7.5l3.9-65.6-3.9-136.7c-.3-4.5-3.3-7.8-7.5-7.8zm-53.6-7.8c-3.3 0-6.4 3.1-6.4 6.7l-3.9 145.3 3.9 66.9c.3 3.6 3.1 6.4 6.4 6.4 3.6 0 6.4-2.8 6.7-6.4l4.4-66.9-4.4-145.3c-.3-3.6-3.1-6.7-6.7-6.7zm26.7 3.4c-3.9 0-6.9 3.1-6.9 6.9L227 321.3l3.9 66.4c.3 3.9 3.1 6.9 6.9 6.9s6.9-3.1 6.9-6.9l4.2-66.4-4.2-141.7c0-3.9-3-6.9-6.9-6.9z"},child:[]}]})(t)}function wv(t){return X({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"},child:[]}]})(t)}function xv(t){return X({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"},child:[]}]})(t)}function _v(t){return X({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function Ev(t){return X({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function Sv(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z"},child:[]}]})(t)}function kv(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Cv(t){return X({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function $v(t){return X({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function Tv(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M172.2 226.8c-14.6-2.9-28.2 8.9-28.2 23.8V301c0 10.2 7.1 18.4 16.7 22 18.2 6.8 31.3 24.4 31.3 45 0 26.5-21.5 48-48 48s-48-21.5-48-48V120c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v248c0 89.5 82.1 160.2 175 140.7 54.4-11.4 98.3-55.4 109.7-109.7 17.4-82.9-37-157.2-112.5-172.2zM209 0c-9.2-.5-17 6.8-17 16v31.6c0 8.5 6.6 15.5 15 15.9 129.4 7 233.4 112 240.9 241.5.5 8.4 7.5 15 15.9 15h32.1c9.2 0 16.5-7.8 16-17C503.4 139.8 372.2 8.6 209 0zm.3 96c-9.3-.7-17.3 6.7-17.3 16.1v32.1c0 8.4 6.5 15.3 14.8 15.9 76.8 6.3 138 68.2 144.9 145.2.8 8.3 7.6 14.7 15.9 14.7h32.2c9.3 0 16.8-8 16.1-17.3-8.4-110.1-96.5-198.2-206.6-206.7z"},child:[]}]})(t)}function Rv(t){return X({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Av(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Ni(t){return X({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(t)}function jv(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Ov(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Nv(t){return X({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Pi(t){return X({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function Pv(t){return X({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"},child:[]}]})(t)}function Iv(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Mv(t){return X({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Dv(t){return X({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Lv(t){return X({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Uv(t){return X({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.2574.0039c-.37.0101-.7353.041-1.1003.095C9.6164.153 9.0766.4236 8.482.694c-.757.3244-1.5147.6486-2.2176.7027-1.1896.3785-1.568.919-1.8925 1.3516 0 .054-.054.1079-.054.1079-.4325.865-.4873 1.73-.325 2.5952.1621.5407.3786 1.0282.5408 1.5148.3785 1.0274.7578 2.0007.92 3.1362.1622.3244.3235.7571.4316 1.1897.2704.8651.542 1.8383 1.353 2.5952l.0057-.0028c.0175.0183.0301.0387.0482.0568.0072-.0036.0141-.0063.0213-.0099l-.0213-.5849c.6489-.9733 1.5673-1.6221 2.865-1.8925.5195-.1093 1.081-.1497 1.6625-.1278a8.7733 8.7733 0 0 1 1.7988.2357c1.4599.3785 2.595 1.1358 2.6492 1.7846.0273.3549.0398.6952.0326 1.0364-.001.064-.0046.1285-.007.193l.1362.0682c.075-.0375.1424-.107.2059-.1902.0008-.001.002-.002.0028-.0028.0018-.0023.0039-.0061.0057-.0085.0396-.0536.0747-.1236.1107-.1931.0188-.0377.0372-.0866.0554-.1292.2048-.4622.362-1.1536.538-1.9635.0541-.2703.1092-.4864.1633-.7027.4326-.9733 1.0266-1.8382 1.6213-2.6492.9733-1.3518 1.8928-2.5962 1.7846-4.0561-1.784-3.4608-4.2718-4.0017-5.5695-4.272-.2163-.0541-.3233-.0539-.4856-.108-1.3382-.2433-2.4945-.3953-3.6046-.3648zm5.0428 14.3788a9.8602 9.8602 0 0 0-.0326-.9824c-.0541-.703-1.1892-1.46-2.7032-1.8386-.588-.1336-1.1764-.2142-1.7448-.2356-.539-.0137-1.0657.0248-1.5546.1277-1.2436.2704-2.2162.9193-2.811 1.8925l.0511 1.431c.6672-.3558 1.7326-.8747 3.139-.9994.0662-.0059.1368-.0059.2044-.0099.1177-.013.2667-.044.4444-.044 1.6075 0 3.2682.5336 4.8767 1.6483.039-.2744.0611-.549.071-.8234l.044.0227c.0028-.0622.0143-.1268.0156-.1888zM11.256.0578c.1239-.0034.2538.01.379.0114-.23-.0022-.4588.0026-.6871.0156.103-.0061.2046-.0242.308-.027zm.4983.0156c.6552.014 1.3255.0711 2.0387.1803-.6834-.0987-1.3646-.1671-2.0387-.1803zm-1.3147.0554c-.076.0087-.1527.0133-.2285.0241-.8168.1167-1.7742.7015-2.75 1.045.3545-.1323.7143-.2957 1.0747-.4501C9.0765.4774 9.6705.207 10.1571.1529c.0939-.0139.1886-.0133.2825-.0241zm-.2285.24c.1622 0 .3787-.0002.5409.0539-.1425-.0357-.2595-.026-.3706-.0142a1.174 1.174 0 0 1 .3166.0681c.5796 1.0012-.4264 5.2791-.6786 8.1492.1559 1.0276.3138 1.9963.4628 2.7201-.7029-1.7843-1.4067-4.921-1.5148-7.354-.054-.9733.001-1.8386.2172-2.4874C9.401.8557 9.7244.4228 10.2111.3687zm3.1361.271c-.811 2.1088-.9184 6.1092-.9725 7.3528-.054.5407-.0001 1.73.054 2.5952 0 .2163.054.4325.054.6488 0-.2163-.054-.3786-.054-.5948-.4326-3.2442-.974-7.1362.9185-10.002zm3.352.3777c-.2704 2.1628-1.4047 3.191-1.7832 5.2998-.1081 1.6762-.325 3.6222-.379 5.2984-.0541-1.6762-.0007-3.4601.2697-5.2444.2703-1.8384.8651-3.6776 1.8925-5.3538zm-10.381.433c-.3581.1194-.632.248-.8575.3805.2317-.1358.4996-.2666.8575-.3805zm.2101.1974c.2155.0025.4384.0734.6006.2357-.0067-.004-.0078-.0033-.0142-.0071.1331.0929.2666.2093.3932.3847-.2036.9673.2553 3.0317.0398 4.6694.0763 1.5485.0717 3.1804.849 4.4594-.9796-1.5107-1.176-3.4375-1.3218-5.236-.1128-1.0907-.2035-2.0969-.4642-2.9033-.144-.3047-.2684-.5745-.3833-.822-.0247-.0369-.0447-.0784-.071-.1135-.1082-.1082-.1619-.2696-.1619-.3777 0-.054.0539-.1618.108-.1618.054-.0541.1616-.0553.2157-.1094a1.013 1.013 0 0 1 .2101-.0184zm-1.3459.6133c-.0604.0201-.0923.041-.1405.061.1768-.034.3617.0339.5196.318-.1877.8916.4364 3.3685.4288 5.104.3124 1.8478.5496 3.8498 1.5716 5.1152C6.3723 11.5076 5.886 9.1286 5.5076 7.128 5.183 5.56 4.9125 4.2086 4.3718 3.776c-.054-.1081-.1079-.163-.1079-.2711 0-.1622-.0002-.3786.1079-.5949-.2772.6337-.4047 1.2673-.3706 1.901-.0445-.6487.0857-1.2905.3706-1.901 0-.054.054-.0538.054-.1079.012-.016.0314-.0349.044-.0511.0618-.0983.1308-.189.2257-.257.0557-.0615.0965-.1191.159-.1817-.0526.0555-.0872.1092-.1335.1647.0273-.018.0523-.0368.0838-.0525.1081-.1082.2154-.1633.3776-.1633zm-.3776.1633c-.0038.0075-.0076.0111-.0114.0184.0125-.0099.0242-.0208.037-.0298-.0074.0037-.0182.0077-.0256.0114zm14.7608 1.1343c-.0017.0052-.004.0104-.0057.0156.0378-.005.0751-.0173.1135-.0156-.0378-.0022-.0763.0103-.115.0199-.8634 2.6418-1.8874 5.2844-2.9118 7.9262a.0184.0184 0 0 1-.0015.0028c-.0874.4652-.234.8842-.5395 1.1898.4326-.4867.4854-1.1907.5395-2.0558.054-.811.0544-1.6761.487-2.5413 0-.0531.0012-.1058.0525-.159.0003-.0009.0012-.0019.0015-.0028.0973-.3524.202-.6885.3166-1.018.4183-1.2896 1.1396-3.1653 2.0131-3.3405.0163-.0052.034-.018.0497-.0213zM8.3726 16.2113l-.3238.1079c.1623.2163.2696.379.3777.433.1081.054.2168.108.379.108.0541 0 .1618 0 .2159-.054l.812-.2698c.0541 0 .1078-.054.1619-.054.1081 0 .1616 0 .2697.054l.2712.2698.2697-.054c-.1081-.1622-.2695-.3236-.3776-.3776-.1082-.0541-.2169-.1094-.379-.1094h-.108l-.866.3252h-.1618c-.1082 0-.2157 0-.2698-.054-.054-.054-.163-.1629-.2712-.3251zm-2.5953.541c-.2703.1621-.649.4324-1.1897.6487-.5407.2163-.9734.4325-1.1897.6488-.2163.2163-.3237.4326-.3237.6488 0 .1082.0537.1632.1618.2172.054.0541.1632.0539.2172.108.757.3244 1.5133.7019 2.2162 1.0803.1082.0541.2171.1632.2712.2173.054.054.1078.054.1618.054.1082 0 .2695-.0538.3777-.162.1081-.108.1632-.217.1632-.325 0-.1082-.055-.1618-.1632-.2158 0 0-.4328-.2165-1.1898-.541-.4866-.2162-.9179-.4326-1.1883-.5948.1623-.2704.486-.4865.9726-.7028.5407-.2163.9196-.4326 1.0818-.5948.054-.0541.054-.1078.054-.1619 0-.054-.0539-.1631-.108-.2172-.054-.054-.163-.1079-.2711-.1079zm11.247 0c-.054 0-.1618.0537-.2158.1078-.0541.1081-.1093.1632-.1093.2172v.054c.1622.1622.3797.2695.7041.3776.2704.054.5403.1632.8107.2172.3244.1082.5407.2693.6488.4856v.0553c0 .0541-.1088.1616-.3251.2698-.1082.054-.3245.2167-.5949.433-.2703.1622-.4326.3236-.5948.3776-.2163.1082-.3776.217-.4316.3252-.0541.054-.054.1077-.054.1618 0 .1081.0539.1077.108.2158.054.1081.1616.1093.2157.1093.054 0 .1078-.0554.1619-.0554.2703-.1622.6492-.3782 1.0818-.7567.4866-.3784.8655-.6484 1.0818-.8106.2163-.1082.3237-.2169.3237-.379 0-.0541.0002-.1618-.1079-.2159-.3785-.4325-.9185-.7022-1.5674-.9185-.1081-.0541-.2704-.1092-.5948-.1633-.1622-.054-.3249-.1079-.433-.1079zm-2.9743.8106c-.2704 0-.4866.055-.6488.2172-.2163.1622-.2699.4323-.2158.7567 0 .2703.1075.4865.2697.7027.1622.2163.3786.3252.5949.3252.1622 0 .2708-.0553.433-.1094.2703-.1622.379-.4319.379-.9185 0-.3785-.109-.6485-.2711-.8107-.1622-.1081-.3246-.1632-.541-.1632zm-4.4877.054c-.2704 0-.4866.055-.6488.2171-.2163.1622-.27.4323-.2158.7567 0 .2704.1075.4865.2697.7028s.3786.3251.5949.3251c.1622 0 .2708-.0552.433-.1093.2703-.1622.3776-.432.3776-.9186 0-.4325-.1075-.7025-.2697-.8106-.1622-.1082-.3247-.1633-.541-.1633zm0 .6501c.1622 0 .2711.1076.2711.2698 0 .1622-.163.2697-.2711.2697-.1622 0-.2698-.1075-.2698-.2697s.1076-.2698.2698-.2698zm4.3798.054c.1622 0 .2711.1075.2711.2697 0 .1082-.109.2698-.2711.2698-.1622 0-.2698-.1076-.2698-.2698 0-.1622.1076-.2697.2698-.2697zm-2.7032 2.1083l.1619.3237c.054.1081.1076.163.2158.2711.054.054.163.1619.2712.1619h.1078c.1082 0 .1618 0 .2158-.054.0541-.054.1632-.0538.2173-.1079l.1618-.1618c.054-.054.108-.1092.108-.1633.054-.054.0537-.1078.1078-.1618 0-.0541.054-.108.054-.108-.0541.1082-.1618.2156-.2158.3238-.1082.054-.1616.1632-.2698.1632-.1081.0541-.217.054-.3251.054s-.2157.0001-.2697-.054c-.1082 0-.1632-.0538-.2173-.1079l-.1618-.1632c-.054-.0541-.1078-.1618-.1619-.2158zm-.866 1.0278c-1.1355 0-1.8377 1.5136-3.4598.1619-.4326 2.6494 2.7583 2.866 4.11 1.7306.9192-.811.6475-1.9465-.6502-1.8925zm2.8664 0c-1.2977-.054-1.568 1.0815-.6488 1.8925 1.3518 1.1355 4.5412.9188 4.1087-1.7306-1.6221 1.3517-2.2703-.1619-3.4599-.1619z"},child:[]}]})(t)}function Fv(t){return X({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4.5 7.5C5.328 7.5 6 8.172 6 9v10.5c0 .828-.672 1.5-1.5 1.5h-3C.673 21 0 20.328 0 19.5V9c0-.828.673-1.5 1.5-1.5h3zm9-4.5c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-3c-.827 0-1.5-.672-1.5-1.5v-15c0-.828.673-1.5 1.5-1.5h3zm9 7.5c.828 0 1.5.672 1.5 1.5v7.5c0 .828-.672 1.5-1.5 1.5h-3c-.828 0-1.5-.672-1.5-1.5V12c0-.828.672-1.5 1.5-1.5h3z"},child:[]}]})(t)}function Bv(t){return X({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.45 14.315c-.143.28-.334.532-.565.745a3.691 3.691 0 0 1-1.104.695 4.51 4.51 0 0 1-3.116-.016 3.79 3.79 0 0 1-2.135-2.078 3.571 3.571 0 0 1-.13-.353h7.418a4.26 4.26 0 0 1-.368 1.008zm-11.99-.654a3.793 3.793 0 0 1-2.134 2.078 4.51 4.51 0 0 1-3.117.016 3.7 3.7 0 0 1-1.104-.695 2.652 2.652 0 0 1-.564-.745 4.221 4.221 0 0 1-.368-1.006H9.59c-.038.12-.08.238-.13.352zm14.501-1.758a3.849 3.849 0 0 0-.082-.475l-9.634-.008a3.932 3.932 0 0 1 1.143-2.348c.363-.35.79-.625 1.26-.809a3.97 3.97 0 0 1 4.484.957l1.521-1.49a5.7 5.7 0 0 0-1.922-1.357 6.283 6.283 0 0 0-2.544-.49 6.35 6.35 0 0 0-2.405.457 6.007 6.007 0 0 0-1.963 1.276 6.142 6.142 0 0 0-1.325 1.94 5.862 5.862 0 0 0-.466 1.864h-.063a5.857 5.857 0 0 0-.467-1.865 6.13 6.13 0 0 0-1.325-1.939A6 6 0 0 0 8.21 6.34a6.698 6.698 0 0 0-4.949.031A5.708 5.708 0 0 0 1.34 7.73l1.52 1.49a4.166 4.166 0 0 1 4.484-.958c.47.184.898.46 1.26.81.368.36.66.792.859 1.268.146.344.242.708.285 1.08l-9.635.008A4.714 4.714 0 0 0 0 12.457a6.493 6.493 0 0 0 .345 2.127 4.927 4.927 0 0 0 1.08 1.783c.528.56 1.17 1 1.88 1.293a6.454 6.454 0 0 0 2.504.457c.824.005 1.64-.15 2.404-.457a5.986 5.986 0 0 0 1.964-1.277 6.116 6.116 0 0 0 1.686-3.076h.273a6.13 6.13 0 0 0 1.686 3.077 5.99 5.99 0 0 0 1.964 1.276 6.345 6.345 0 0 0 2.405.457 6.45 6.45 0 0 0 2.502-.457 5.42 5.42 0 0 0 1.882-1.293 4.928 4.928 0 0 0 1.08-1.783A6.52 6.52 0 0 0 24 12.457a4.757 4.757 0 0 0-.039-.554z"},child:[]}]})(t)}function zv(t){return X({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0v24h24V0zm9.95 8.002h1.805c.061 0 .111.05.111.111v7.767c0 .061-.05.111-.11.111H9.95c-.061 0-.111-.05-.111-.11v-2.87H7.894v2.87c0 .06-.05.11-.11.11H5.976a.11.11 0 01-.11-.11V8.112c0-.06.05-.11.11-.11h1.806c.061 0 .11.05.11.11v2.869H9.84v-2.87c0-.06.05-.11.11-.11zm2.999 0h5.778c.061 0 .111.05.111.11v7.767a.11.11 0 01-.11.112h-5.78a.11.11 0 01-.11-.11V8.111c0-.06.05-.11.11-.11z"},child:[]}]})(t)}function Vv(t){return X({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.483 0a1.374 1.374 0 0 0-.961.438L7.116 6.226l-3.854 4.126a5.266 5.266 0 0 0-1.209 2.104 5.35 5.35 0 0 0-.125.513 5.527 5.527 0 0 0 .062 2.362 5.83 5.83 0 0 0 .349 1.017 5.938 5.938 0 0 0 1.271 1.818l4.277 4.193.039.038c2.248 2.165 5.852 2.133 8.063-.074l2.396-2.392c.54-.54.54-1.414.003-1.955a1.378 1.378 0 0 0-1.951-.003l-2.396 2.392a3.021 3.021 0 0 1-4.205.038l-.02-.019-4.276-4.193c-.652-.64-.972-1.469-.948-2.263a2.68 2.68 0 0 1 .066-.523 2.545 2.545 0 0 1 .619-1.164L9.13 8.114c1.058-1.134 3.204-1.27 4.43-.278l3.501 2.831c.593.48 1.461.387 1.94-.207a1.384 1.384 0 0 0-.207-1.943l-3.5-2.831c-.8-.647-1.766-1.045-2.774-1.202l2.015-2.158A1.384 1.384 0 0 0 13.483 0zm-2.866 12.815a1.38 1.38 0 0 0-1.38 1.382 1.38 1.38 0 0 0 1.38 1.382H20.79a1.38 1.38 0 0 0 1.38-1.382 1.38 1.38 0 0 0-1.38-1.382z"},child:[]}]})(t)}const pn={youtube:$v,instagram:hv,facebook:uv,snapchat:yv,twitter:kv,threads:Pv,reddit:mv,linkedIn:fv,gitHub:dv,stackoverflow:xv,leetcode:Vv,codeforces:Fv,hackerrank:zv,codechef:Uv,geeksforgeeks:Bv,twitch:Sv,soundcloud:bv,spotify:wv,"apple music":cv,discord:lv,telegram:_v,whatsapp:Cv,skype:vv,"amazon storefront":av,shopify:gv,"ko-fi":Ni,"buy me a coffee":Ni,patreon:pv,website:Pi,blog:Tv,email:Ov,phone:Dv,globe:Pi,mapPin:Mv,calendar:Rv,fileText:Nv,download:jv,shoppingCart:Lv,heart:Iv,tiktok:Ev},Wv=[{value:"globe",label:" ",emoji:""},{value:"instagram",label:" Instagram",emoji:""},{value:"facebook",label:" Facebook",emoji:""},{value:"twitter",label:" Twitter",emoji:""},{value:"youtube",label:" YouTube",emoji:""},{value:"github",label:" GitHub",emoji:""},{value:"linkedin",label:" LinkedIn",emoji:""},{value:"tiktok",label:" TikTok",emoji:""},{value:"spotify",label:" Spotify",emoji:""},{value:"discord",label:" Discord",emoji:""},{value:"telegram",label:" Telegram",emoji:""},{value:"whatsapp",label:" WhatsApp",emoji:""},{value:"email",label:" Email",emoji:""},{value:"phone",label:" Phone",emoji:""},{value:"mapPin",label:" Location",emoji:""},{value:"calendar",label:" Calendar",emoji:""},{value:"fileText",label:" Document",emoji:""},{value:"download",label:" Download",emoji:""},{value:"shoppingCart",label:" Shop",emoji:""},{value:"heart",label:" Donate",emoji:""}];function qv(){const{toast:t}=mr(),{user:e}=at(),[r,n]=l.useState([]),[s,o]=l.useState(!0),[i,a]=l.useState(!1),[c,u]=l.useState({title:"",url:"",icon:"globe"}),[h,f]=l.useState(!1);l.useEffect(()=>{p()},[e==null?void 0:e.id]);const p=async()=>{if(!(e!=null&&e.id)){console.log("No user ID available");return}o(!0);try{console.log("Loading custom links for user:",e.id);const g=await Zr.getByUserId(e.id);console.log("Loaded custom links:",g),n(g||[])}catch(g){console.error("Error loading custom links:",g),t({title:"",description:"   : "+(g.message||" "),variant:"destructive"})}finally{o(!1)}},m=async()=>{if(!c.title||!c.url){t({title:"",description:"   ",variant:"destructive"});return}a(!0);try{const g=await Zr.create(e.id,c);g&&(n([...r,g]),u({title:"",url:"",icon:"globe"}),f(!1),t({title:"",description:"  "}))}catch(g){console.error("Error adding custom link:",g),t({title:"",description:"   ",variant:"destructive"})}finally{a(!1)}},y=async g=>{a(!0);try{await Zr.delete(g)&&(n(r.filter(x=>x.id!==g)),t({title:"",description:"  "}))}catch(b){console.error("Error deleting custom link:",b),t({title:"",description:"   ",variant:"destructive"})}finally{a(!1)}},v=g=>pn[g]||pn.globe;return s?d.jsxs("div",{className:"space-y-4 flex flex-col items-center justify-center min-h-[200px]",children:[d.jsx("div",{className:"relative w-12 h-12",children:d.jsx(ye,{})}),d.jsx("p",{className:"text-sm text-muted-foreground",children:" ..."})]}):d.jsxs(Xs,{children:[d.jsx(Oc,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Nc,{children:" "}),d.jsxs(se,{onClick:()=>f(!h),variant:"outline",size:"sm",children:[d.jsx(td,{className:"w-4 h-4 mr-2"})," "]})]})}),d.jsxs(Zs,{className:"space-y-4",children:[h&&d.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"link-title",children:""}),d.jsx(Y,{id:"link-title",value:c.title,onChange:g=>u({...c,title:g.target.value}),placeholder:":  "})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"link-url",children:"URL"}),d.jsx(Y,{id:"link-url",value:c.url,onChange:g=>u({...c,url:g.target.value}),placeholder:"https://example.com"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"link-icon",children:""}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-40 overflow-y-auto p-2 border rounded-lg bg-gray-50 dark:bg-gray-800",children:Wv.map(g=>d.jsxs("button",{type:"button",onClick:()=>u({...c,icon:g.value}),className:J("flex flex-col items-center justify-center p-2 rounded-md border transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:border-blue-300 dark:hover:border-blue-600",c.icon===g.value?"bg-blue-50 border-blue-500 dark:bg-blue-900/30 dark:border-blue-400":"bg-white border-gray-200 dark:bg-gray-700 dark:border-gray-600"),children:[d.jsx("span",{className:"text-lg mb-1",children:g.emoji}),d.jsx("span",{className:"text-xs text-center text-gray-600 dark:text-gray-300",children:g.label.replace(/[^\w\s-]/gi,"")})]},g.value))})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(se,{onClick:m,disabled:i,children:i?d.jsxs(d.Fragment,{children:[d.jsx(Zu,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""}),d.jsx(se,{variant:"outline",onClick:()=>{f(!1),u({title:"",url:"",icon:"globe"})},children:""})]})]}),r.length===0?d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("p",{children:"      "}),d.jsx("p",{className:"text-sm mt-2",children:' " "-   '})]}):d.jsx("div",{className:"space-y-2",children:r.map(g=>{const b=v(g.icon);return d.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50",children:[d.jsx(Xu,{className:"w-4 h-4 text-gray-400"}),d.jsx(b,{className:"w-5 h-5 text-gray-600"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium",children:g.title}),d.jsx("div",{className:"text-sm text-gray-500 truncate",children:g.url})]}),d.jsx(se,{variant:"ghost",size:"sm",onClick:()=>y(g.id),disabled:i,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:d.jsx(id,{className:"w-4 h-4"})})]},g.id)})})]})]})}const Kv=()=>{const{user:t}=at(),e=l.useRef(null),r=l.useRef(null);return l.useEffect(()=>{if(!(t!=null&&t.id))return;const n=async()=>{try{const s=t.imageUrl;await De.ensureAvatarUrl(t.id,s),s!==r.current&&(await De.syncAvatarUrl(t.id,s),r.current=s,console.log("Avatar URL synced:",s))}catch(s){console.error("Error syncing avatar URL:",s)}};return n(),e.current=setInterval(n,5e3),()=>{e.current&&clearInterval(e.current)}},[t]),null};function Hv(){const{toast:t}=mr(),{user:e}=at(),{getToken:r}=Dl();Kv();const[n,s]=l.useState(""),[o,i]=l.useState(""),[a,c]=l.useState(""),[u,h]=l.useState(""),[f,p]=l.useState(""),[m,y]=l.useState(""),[v,g]=l.useState(""),[b,x]=l.useState(""),[w,_]=l.useState(""),[E,C]=l.useState(""),[k,T]=l.useState(""),[N,M]=l.useState(""),[W,P]=l.useState(""),[Z,R]=l.useState(""),[z,F]=l.useState(""),[ee,D]=l.useState(""),[A,G]=l.useState(""),[te,oe]=l.useState(""),[de,me]=l.useState(""),[Se,ae]=l.useState(""),[$,O]=l.useState(""),[S,ge]=l.useState(""),[bt,wt]=l.useState(""),[Er,Sr]=l.useState(""),[He,Ht]=l.useState(""),[kr,Cr]=l.useState(""),[$r,Tr]=l.useState(""),[ct,ro]=l.useState(""),[no,so]=l.useState(""),[oo,io]=l.useState(""),[ao,co]=l.useState(""),[lo,uo]=l.useState(""),[ho,fo]=l.useState(""),[_l,po]=l.useState(""),[mo,go]=l.useState(""),[vo,yo]=l.useState(""),[bo,wo]=l.useState(!1),[El,Sl]=l.useState(!0);l.useEffect(()=>{(async()=>{if(e!=null&&e.id)try{const V=await De.getByUserId(e.id);V&&(s(V.username||""),i(V.name||""),c(V.bio||""),h(V.instagram||""),p(V.facebook||""),y(V.gitHub||""),g(V.snapchat||""),x(V.youtube||""),_(V.linkedIn||""),C(V.twitter||""),T(V.threads||""),M(V.reddit||""),P(V.stackoverflow||""),R(V.leetcode||""),F(V.codeforces||""),D(V.hackerrank||""),G(V.codechef||""),oe(V.geeksforgeeks||""),me(V.twitch||""),ae(V.soundcloud||""),O(V.spotify||""),ge(V["apple music"]||""),wt(V.discord||""),Sr(V.telegram||""),Ht(V.whatsapp||""),Cr(V.skype||""),Tr(V.amazon||""),ro(V.shopify||""),so(V["ko-fi"]||""),io(V["buy me a coffee"]||""),co(V.patreon||""),uo(V.website||""),fo(V.blog||""),po(V.email||""),go(V.phone||""),yo(V.accessKey||""),!V.avatar_url&&e.imageUrl&&await De.syncAvatarUrl(e.id,e.imageUrl))}catch(V){console.error("Error loading user data:",V)}finally{Sl(!1)}})()},[e]);const kl=async j=>{var V,xo;j.preventDefault(),wo(!0);try{const Gt={username:n,name:o,bio:a,email:((V=e.primaryEmailAddress)==null?void 0:V.emailAddress)||((xo=e.emailAddresses[0])==null?void 0:xo.emailAddress)||"",avatar_url:e.imageUrl,instagram:u,facebook:f,gitHub:m,snapchat:v,youtube:b,linkedIn:w,twitter:E,threads:k,reddit:N,stackoverflow:W,leetcode:Z,codeforces:z,hackerrank:ee,codechef:A,geeksforgeeks:te,twitch:de,soundcloud:Se,spotify:$,"apple music":S,discord:bt,telegram:Er,whatsapp:He,skype:kr,amazon:$r,shopify:ct,"ko-fi":no,"buy me a coffee":oo,patreon:ao,website:lo,blog:ho,phone:mo,accessKey:vo};console.log("Sending userData:",Gt);const Cl=await De.update(e.id,Gt);t(Cl?{title:"",description:"  !"}:{title:"Error",description:"Failed to update profile",variant:"destructive"})}catch(Gt){console.error("Error updating profile:",Gt),t({title:"Error",description:Gt.message||"Failed to update profile",variant:"destructive"})}finally{wo(!1)}};return El?d.jsxs("div",{className:"space-y-4 flex flex-col items-center justify-center min-h-[200px]",children:[d.jsx("div",{className:"relative w-12 h-12",children:d.jsx(ye,{})}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"..."})]}):d.jsxs("form",{onSubmit:kl,className:"manage-form space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"username",children:" "}),d.jsx(Y,{id:"username",value:n,onChange:j=>s(j.target.value),placeholder:"Enter your username",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"name",children:""}),d.jsx(Y,{id:"name",value:o,onChange:j=>i(j.target.value),placeholder:"Enter your name",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"bio",children:" "}),d.jsx(Pc,{id:"bio",value:a,onChange:j=>c(j.target.value),placeholder:"Tell us about yourself",rows:3})]})]}),d.jsxs(H2,{defaultValue:"social",className:"w-full",children:[d.jsxs(G2,{className:"grid w-full grid-cols-6",children:[d.jsx(At,{className:"hello",value:"social",children:""}),d.jsx(At,{className:"hello",value:"professional",children:""}),d.jsx(At,{className:"hello",value:"creative",children:""}),d.jsx(At,{className:"hello",value:"messaging",children:""}),d.jsx(At,{className:"hello",value:"other",children:""}),d.jsx(At,{className:"hello",value:"custom",children:""})]}),d.jsxs("div",{className:"tabs-content",children:[d.jsx(jt,{value:"social",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"instagram",children:"Instagram"}),d.jsx(Y,{id:"instagram",value:u,onChange:j=>h(j.target.value),placeholder:"Instagram username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"facebook",children:"Facebook"}),d.jsx(Y,{id:"facebook",value:f,onChange:j=>p(j.target.value),placeholder:"Facebook username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"twitter",children:"Twitter"}),d.jsx(Y,{id:"twitter",value:E,onChange:j=>C(j.target.value),placeholder:"Twitter username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"threads",children:"Threads"}),d.jsx(Y,{id:"threads",value:k,onChange:j=>T(j.target.value),placeholder:"Threads username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"youtube",children:"YouTube"}),d.jsx(Y,{id:"youtube",value:b,onChange:j=>x(j.target.value),placeholder:"YouTube channel"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"snapchat",children:"Snapchat"}),d.jsx(Y,{id:"snapchat",value:v,onChange:j=>g(j.target.value),placeholder:"Snapchat username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"reddit",children:"Reddit"}),d.jsx(Y,{id:"reddit",value:N,onChange:j=>M(j.target.value),placeholder:"Reddit username"})]})]})}),d.jsx(jt,{value:"professional",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"github",children:"GitHub"}),d.jsx(Y,{id:"github",value:m,onChange:j=>y(j.target.value),placeholder:"GitHub username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"linkedin",children:"LinkedIn"}),d.jsx(Y,{id:"linkedin",value:w,onChange:j=>_(j.target.value),placeholder:"LinkedIn username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"stackoverflow",children:"Stack Overflow"}),d.jsx(Y,{id:"stackoverflow",value:W,onChange:j=>P(j.target.value),placeholder:"Stack Overflow username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"leetcode",children:"LeetCode"}),d.jsx(Y,{id:"leetcode",value:Z,onChange:j=>R(j.target.value),placeholder:"LeetCode username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"codeforces",children:"Codeforces"}),d.jsx(Y,{id:"codeforces",value:z,onChange:j=>F(j.target.value),placeholder:"Codeforces username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"hackerrank",children:"HackerRank"}),d.jsx(Y,{id:"hackerrank",value:ee,onChange:j=>D(j.target.value),placeholder:"HackerRank username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"codechef",children:"CodeChef"}),d.jsx(Y,{id:"codechef",value:A,onChange:j=>G(j.target.value),placeholder:"CodeChef username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"geeksforgeeks",children:"GeeksforGeeks"}),d.jsx(Y,{id:"geeksforgeeks",value:te,onChange:j=>oe(j.target.value),placeholder:"GeeksforGeeks username"})]})]})}),d.jsx(jt,{value:"creative",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"twitch",children:"Twitch"}),d.jsx(Y,{id:"twitch",value:de,onChange:j=>me(j.target.value),placeholder:"Twitch username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"soundcloud",children:"SoundCloud"}),d.jsx(Y,{id:"soundcloud",value:Se,onChange:j=>ae(j.target.value),placeholder:"SoundCloud username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"spotify",children:"Spotify"}),d.jsx(Y,{id:"spotify",value:$,onChange:j=>O(j.target.value),placeholder:"Spotify profile"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"applemusic",children:"Apple Music"}),d.jsx(Y,{id:"applemusic",value:S,onChange:j=>ge(j.target.value),placeholder:"Apple Music profile"})]})]})}),d.jsx(jt,{value:"messaging",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"discord",children:"Discord"}),d.jsx(Y,{id:"discord",value:bt,onChange:j=>wt(j.target.value),placeholder:"Discord username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"telegram",children:"Telegram"}),d.jsx(Y,{id:"telegram",value:Er,onChange:j=>Sr(j.target.value),placeholder:"Telegram username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"whatsapp",children:"WhatsApp"}),d.jsx(Y,{id:"whatsapp",value:He,onChange:j=>Ht(j.target.value),placeholder:"WhatsApp number"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"skype",children:"Skype"}),d.jsx(Y,{id:"skype",value:kr,onChange:j=>Cr(j.target.value),placeholder:"Skype username"})]})]})}),d.jsx(jt,{value:"other",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"website",children:"Website"}),d.jsx(Y,{id:"website",value:lo,onChange:j=>uo(j.target.value),placeholder:"Your website URL"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"blog",children:"Blog"}),d.jsx(Y,{id:"blog",value:ho,onChange:j=>fo(j.target.value),placeholder:"Your blog URL"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"email",children:"Email"}),d.jsx(Y,{id:"email",type:"email",value:_l,onChange:j=>po(j.target.value),placeholder:"Your email address"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"phone",children:"Phone"}),d.jsx(Y,{id:"phone",value:mo,onChange:j=>go(j.target.value),placeholder:"Your phone number"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"amazon",children:"Amazon Storefront"}),d.jsx(Y,{id:"amazon",value:$r,onChange:j=>Tr(j.target.value),placeholder:"Amazon storefront URL"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"shopify",children:"Shopify"}),d.jsx(Y,{id:"shopify",value:ct,onChange:j=>ro(j.target.value),placeholder:"Shopify store URL"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"kofi",children:"Ko-fi"}),d.jsx(Y,{id:"kofi",value:no,onChange:j=>so(j.target.value),placeholder:"Ko-fi username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"buymeacoffee",children:"Buy Me a Coffee"}),d.jsx(Y,{id:"buymeacoffee",value:oo,onChange:j=>io(j.target.value),placeholder:"Buy Me a Coffee username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"patreon",children:"Patreon"}),d.jsx(Y,{id:"patreon",value:ao,onChange:j=>co(j.target.value),placeholder:"Patreon username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(K,{htmlFor:"accessKey",children:"Access Key (for private links)"}),d.jsx(Y,{id:"accessKey",value:vo,onChange:j=>yo(j.target.value),placeholder:"Access key for private links",type:"password"})]})]})}),d.jsx(jt,{value:"custom",className:"space-y-4",children:d.jsx(qv,{})})]})]}),d.jsx(se,{type:"submit",disabled:bo,className:"w-full",children:bo?d.jsxs(d.Fragment,{children:[d.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):" "})]})}const Gv=yn("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yl=l.forwardRef(({className:t,variant:e,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:J(Gv({variant:e}),t),...r}));yl.displayName="Alert";const bl=l.forwardRef(({className:t,...e},r)=>d.jsx("h5",{ref:r,className:J("mb-1 font-medium leading-none tracking-tight",t),...e}));bl.displayName="AlertTitle";const wl=l.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:J("text-sm [&_p]:leading-relaxed",t),...e}));wl.displayName="AlertDescription";function Jv(){const{user:t}=at(),[e,r]=l.useState(!1),[n,s]=l.useState(""),[o,i]=l.useState("");return l.useEffect(()=>{(async()=>{if(t!=null&&t.id&&!n)try{const c=await De.getByUserId(t.id);c&&(s(c.username),i(c.name))}catch(c){console.error("Error loading user data:",c)}finally{r(!0)}})()},[t,n]),d.jsx("div",{className:"manage-link px-6 md:px-20 lg:px-32",children:e&&n&&d.jsxs(yl,{className:"mb-6",children:[d.jsx(bl,{children:"  "}),d.jsxs(wl,{children:["   :"," ",d.jsxs(Mt,{to:`/${n}`,className:"link-my text-primary hover:underline font-medium",children:[window.location.origin,"/",n]})]})]})})}function Ii(){var f;const{user:t}=at(),{toast:e}=mr(),[r,n]=l.useState(!1);if(!t)return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"relative w-12 h-12",children:d.jsx(ye,{})})});const{imageUrl:s,firstName:o,lastName:i,emailAddresses:a,createdAt:c}=t,u=`${o||""} ${i||""}`.trim()||o||"User";(f=a[0])==null||f.emailAddress;const h=async()=>{n(!0);try{const p=await De.updateRanksForTopUsers();e({title:" ",description:" 3    "})}catch{e({title:"",description:"   ",variant:"destructive"})}finally{n(!1)}};return d.jsxs("div",{children:[d.jsx(Jv,{}),d.jsx("div",{className:"py-5 px-6 md:px-20 lg:px-32 mb-16",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col items-center justify-center gap-4  mt-10 mb-10 ",children:[d.jsx("div",{className:"relative",children:d.jsx("img",{className:"w-24 h-24 rounded-full",src:s,alt:u})}),d.jsxs("div",{className:"text-center",children:[d.jsx(K,{className:"text-sm font-medium",children:" "}),d.jsxs("p",{className:"text-xs dark:text-gray-400 text-gray-600 mt-1",children:["  "," ",d.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:""}),d.jsx("span",{className:"text-red-600",children:" *"})]})]})]}),d.jsxs(Xs,{className:"admin-card mb-8",children:[d.jsx(Oc,{children:d.jsxs(Nc,{className:"flex items-center gap-2",children:[d.jsx(ha,{className:"w-5 h-5"}),""]})}),d.jsx(Zs,{children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium mb-2",children:" "}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:' 3    "" '}),d.jsxs(se,{onClick:h,disabled:r,className:"flex items-center gap-2",children:[d.jsx(rd,{className:`w-4 h-4 ${r?"animate-spin":""}`}),r?"...":" "]})]})})})]}),d.jsx(Hv,{})]})})]})}const Yv=l.createContext({isSignedIn:!1,user:null,isLoaded:!0}),Xv=()=>{try{return at()}catch{return l.useContext(Yv)}};H.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));H.forwardRef(({className:t,src:e,alt:r,...n},s)=>{const[o,i]=H.useState(!1);return o?null:d.jsx("img",{ref:s,src:e,alt:r,className:J("aspect-square h-full w-full object-cover",t),onError:()=>i(!0),...n})});H.forwardRef(({className:t,children:e,...r},n)=>d.jsx("div",{ref:n,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r,children:e}));const Xe=t=>pn[t]||pn.globe,xl=t=>{const e={:"/rank-img/member.png",:"/rank-img/booster.png",:"/rank-img/administrator.png",:"/rank-img/moderator.png",owner:"/rank-img/owner.png",:"/rank-img/owner.png",sponsor:"/rank-img/sponsor.png",:"/rank-img/sponsor.png",:"/rank-img/partner.png"};return e[t]||e.},Zv=t=>t.split(",").map(r=>r.trim()).map(r=>({icon:xl(r),name:r})).filter(r=>r.icon);function Qv({userDataName:t}){const[e,r]=l.useState(!0),{user:n,isSignedIn:s}=Xv(),{toast:o}=mr(),[i,a]=l.useState(""),[c,u]=l.useState(""),[h,f]=l.useState(""),[p,m]=l.useState([]),[y,v]=l.useState([]),[g,b]=l.useState(!1),[x,w]=l.useState(!1),[_,E]=l.useState(""),[C,k]=l.useState(!1),[T,N]=l.useState(!1),[M,W]=l.useState(0),[P,Z]=l.useState(!1),[R,z]=l.useState(""),[F,ee]=l.useState([{icon:xl(""),name:""}]),D=()=>{_&&(_===(p==null?void 0:p.accessKey)?(w(!0),N(!1)):(N(!0),w(!1)))};l.useEffect(()=>{let $=t;(async()=>{try{const S=await De.getByUsername($);if(S){console.log("User data loaded for:",$),a(S.avatar_url||S.image),f(S.name),u(S.bio),m(S),W(S.views||0),z(S.rank||"");const ge=Zv(S.rank||"");ee(ge),console.log("User rank:",S.rank,"Rank data:",ge);const bt=await Zr.getByUsername($);v(bt||[]),setTimeout(()=>{De.incrementViews($).catch(wt=>{console.error("Error incrementing views:",wt)})},100),r(!1)}else console.log("User not found:",$),b(!0),r(!1)}catch(S){console.error("Error fetching user data:",S),r(!1),b(!0)}})()},[t]);const A=["linkedIn","gitHub","stackoverflow","leetcode","codeforces","hackerrank","codechef","geeksforgeeks"],G=["youtube","instagram","facebook","snapchat","twitter","threads","reddit"],te=["twitch","soundcloud","spotify","apple music"],oe=["discord","telegram","whatsapp","skype"],de=["amazon storefront","shopify","ko-fi","buy me a coffee","patreon"],me=["website","blog","email","phone"],Se=$=>{navigator.clipboard.writeText($).then(()=>{o({title:" !",description:`${$}   `,duration:3e3})}).catch(O=>{console.error("Failed to copy email:",O),o({title:"",description:"   ",variant:"destructive",duration:3e3})})},ae=($,O)=>{if(!O||typeof O!="string")return"";const S=O.trim();return S.startsWith("http://")||S.startsWith("https://")?S:{instagram:`https://instagram.com/${S}`,facebook:`https://facebook.com/${S}`,twitter:`https://twitter.com/${S}`,threads:`https://threads.net/${S}`,youtube:`https://youtube.com/${S}`,snapchat:`https://snapchat.com/add/${S}`,reddit:`https://reddit.com/user/${S}`,linkedIn:`https://linkedin.com/in/${S}`,gitHub:`https://github.com/${S}`,stackoverflow:`https://stackoverflow.com/users/${S}`,leetcode:`https://leetcode.com/${S}`,codeforces:`https://codeforces.com/profile/${S}`,hackerrank:`https://hackerrank.com/${S}`,codechef:`https://codechef.com/users/${S}`,geeksforgeeks:`https://auth.geeksforgeeks.org/user/${S}`,twitch:`https://twitch.tv/${S}`,soundcloud:`https://soundcloud.com/${S}`,spotify:S.includes("spotify.com")?S:`https://open.spotify.com/user/${S}`,"apple music":S.includes("music.apple.com")?S:`https://music.apple.com/profile/${S}`,discord:S.includes("discord.gg")?S:`https://discord.com/users/${S}`,telegram:S.includes("t.me")?S:`https://t.me/${S}`,whatsapp:S.includes("wa.me")?S:`https://wa.me/${S}`,skype:S.includes("skype:")?S:`skype:${S}?chat`,amazon:S.includes("amazon.com")?S:`https://amazon.com/stores/${S}`,shopify:S.includes("shopify.com")?S:`https://${S}.myshopify.com`,"ko-fi":S.includes("ko-fi.com")?S:`https://ko-fi.com/${S}`,"buy me a coffee":S.includes("buymeacoffee.com")?S:`https://buymeacoffee.com/${S}`,patreon:S.includes("patreon.com")?S:`https://patreon.com/${S}`,website:S.startsWith("http")?S:`https://${S}`,blog:S.startsWith("http")?S:`https://${S}`,email:S.includes("@")?S:`mailto:${S}`,phone:S.startsWith("+")||/^\d+$/.test(S)?`tel:${S}`:S}[$]||S};return d.jsxs("div",{className:"relative px-6 md:px-20 lg:px-32 py-20 grid place-content-center min-h-screen",children:[d.jsx("div",{className:"absolute top-0 z-[-2] w-full h-full dark:bg-neutral-950 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.3),rgba(255,255,255,0))]"}),d.jsxs("div",{className:"fixed top-5 right-5 md:top-10 md:right-32 flex gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-background/80 backdrop-blur-sm px-3 py-2 rounded-full border",children:[d.jsx(Yu,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-medium",children:M})]}),!e&&!g&&d.jsx("div",{className:"user-ranks flex items-center justify-center bg-background/80 backdrop-blur-sm p-2 rounded-full border gap-1",children:F.map(($,O)=>d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:$.icon,alt:$.name,className:"w-7 h-7 filter grayscale hover:grayscale-0 transition-all duration-300 hover:scale-110",onLoad:()=>console.log("Rank icon loaded:",$.icon),onError:S=>{console.error("Failed to load rank icon:",$.icon),S.target.style.display="none"}}),d.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50",children:$.name})]},O))}),d.jsx("div",{onClick:()=>{navigator.share({url:window.location.href,title:h,text:h})},children:d.jsx(se,{variant:"pulseBtn",className:"w-10 h-10 rounded-full p-0 flex items-center justify-center",children:d.jsx(nd,{className:"w-4 h-4"})})})]}),d.jsxs("div",{className:"grid place-content-center mb-5 mt-14",children:[e&&d.jsx("div",{className:"relative w-24 h-24",children:d.jsx(ye,{})}),!e&&!g&&i&&d.jsxs("div",{className:"avatar-user rounded-full overflow-hidden",children:[d.jsx("img",{src:i,alt:h||"User",className:"w-full h-full object-cover",onError:$=>{$.target.style.display="none",$.target.nextSibling.style.display="flex"}}),d.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold",style:{display:"none"},children:h?h.charAt(0).toUpperCase():"?"})]}),!e&&!g&&!i&&d.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold",children:h?h.charAt(0).toUpperCase():"?"})]}),!e&&!g&&d.jsxs("div",{className:"grid place-content-center mb-6 text-center gap-3 px-2",children:[d.jsxs("h1",{className:"text-3xl font-bold flex justify-center items-center text-center",children:[h,h&&d.jsx(Av,{className:"!h-4 !w-4 opacity-50 ml-2"})]}),d.jsx("p",{className:"text-base dark:text-gray-400 text-foreground/80 max-w-[320px] mx-auto",children:c?d.jsxs(d.Fragment,{children:[P?c:c.length>70?c.slice(0,70)+"...":c,c.length>70&&d.jsx("button",{onClick:()=>Z(!P),className:"moer-btn text-sm hover:underline",children:P?"":""})]}):"    !"})]}),e&&d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"relative w-40 h-8",children:d.jsx(ye,{})}),d.jsx("div",{className:"relative w-[300px] h-14",children:d.jsx(ye,{})}),d.jsxs("div",{className:"grid gap-3 max-w-[600px] w-full",children:[d.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:d.jsx(ye,{})}),d.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:d.jsx(ye,{})}),d.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:d.jsx(ye,{})}),d.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:d.jsx(ye,{})})]})]}),!e&&!g&&d.jsxs("div",{className:"mt-10 flex flex-col items-center gap-3",children:[Object.entries(p||{}).filter(([$,O])=>(G.includes($)||A.includes($)||te.includes($)||oe.includes($)||de.includes($)||me.includes($))&&O&&typeof O=="string"&&O.trim()!=="").length===0&&y.length===0&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx("p",{className:"text-foreground/60",children:"  "}),d.jsx("p",{className:"text-foreground/40 text-sm mt-2",children:"      "})]}),Object.entries(p||{}).filter(([$,O])=>G.includes($)&&O&&typeof O=="string"&&O.trim()!=="").map(([$,O])=>{const S=Xe($);return d.jsx(se,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:d.jsxs("a",{href:ae($,O),target:"_blank",rel:"noopener noreferrer",children:[S&&d.jsx(S,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),Object.entries(p||{}).filter(([$,O])=>A.includes($)&&O&&typeof O=="string"&&O.trim()!=="").map(([$,O])=>{const S=Xe($);return d.jsx(se,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:d.jsxs("a",{href:ae($,O),target:"_blank",rel:"noopener noreferrer",children:[S&&d.jsx(S,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),Object.entries(p||{}).filter(([$,O])=>te.includes($)&&O&&typeof O=="string"&&O.trim()!=="").map(([$,O])=>{const S=Xe($);return d.jsx(se,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:d.jsxs("a",{href:ae($,O),target:"_blank",rel:"noopener noreferrer",children:[S&&d.jsx(S,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),Object.entries(p||{}).filter(([$,O])=>oe.includes($)&&O&&typeof O=="string"&&O.trim()!=="").map(([$,O])=>{const S=Xe($);return d.jsx(se,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:d.jsxs("a",{href:ae($,O),target:"_blank",rel:"noopener noreferrer",children:[S&&d.jsx(S,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),Object.entries(p||{}).filter(([$,O])=>de.includes($)&&O&&typeof O=="string"&&O.trim()!=="").map(([$,O])=>{const S=Xe($);return d.jsx(se,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:d.jsxs("a",{href:ae($,O),target:"_blank",rel:"noopener noreferrer",children:[S&&d.jsx(S,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),y.map($=>{const O=Xe($.icon);return d.jsx(se,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:d.jsxs("a",{href:$.url.startsWith("http")?$.url:`https://${$.url}`,target:"_blank",rel:"noopener noreferrer",children:[O&&d.jsx(O,{className:"w-6 h-6"}),$.title]})},$.id)}),Object.entries(p||{}).filter(([$,O])=>me.includes($)&&O&&typeof O=="string"&&O.trim()!=="").map(([$,O])=>{const S=Xe($),ge=$==="email";return d.jsx(se,{variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",onClick:ge?()=>Se(O):void 0,asChild:!ge,children:ge?d.jsxs("div",{className:"flex items-center gap-3 w-full",children:[S&&d.jsx(S,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]}):d.jsxs("a",{href:ae($,O),target:"_blank",rel:"noopener noreferrer",children:[S&&d.jsx(S,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),(p==null?void 0:p.accessKey)&&d.jsxs("div",{className:"border mt-10 px-4 py-3 rounded-lg mx-auto max-w-[420px]",children:[d.jsx("p",{className:"text-sm text-foreground/80 mb-2",children:"Private Links"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Y,{value:_,onChange:$=>E($.target.value),placeholder:"Enter Access Key"}),d.jsx(se,{onClick:D,children:"Unlock"})]}),T&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Invalid Access Key"}),x&&d.jsx("div",{className:"mt-4 grid gap-3",children:Object.entries(p||{}).filter(([$,O])=>me.includes($)&&O&&(typeof O=="string"||typeof O=="number")&&String(O).trim()!=="").map(([$,O])=>{const S=Xe($);return d.jsx(se,{asChild:!0,variant:"outline",className:"w-full max-w-[420px] mx-auto justify-start gap-3 h-12 rounded-[15px]",children:d.jsxs("a",{href:ae($,String(O)),target:"_blank",rel:"noopener noreferrer",children:[S&&d.jsx(S,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)})})]})]}),g&&d.jsxs("div",{className:"flex flex-col items-center justify-center px-4 -mt-[200px]",children:[d.jsx("div",{className:"max-w-[800px] w-full mx-auto",children:d.jsx("img",{src:"/404-numbers-bro.png",alt:"404 - User Not Found",className:"w-full h-auto max-w-[800px] mx-auto block",style:{maxHeight:"600px",objectFit:"contain"}})}),d.jsxs("div",{className:"text-center mt-4",children:[d.jsxs("h1",{className:"font-bold text-3xl mb-2",children:["  ",d.jsx("span",{className:"text-blue-600",children:"!"})]}),d.jsxs("p",{className:"text-sm text-foreground/70 mb-6",children:["   ",d.jsx("br",{}),"   "]}),d.jsx(se,{asChild:!0,className:"border-rad w-full max-w-xs mx-auto",children:d.jsx("a",{href:"/",children:"  "})})]})]})]})}function ey(){const{username:t}=Al();return d.jsx("div",{children:d.jsx(Qv,{userDataName:t})})}const ty=t=>{const e={:"/rank-img/member.png",:"/rank-img/booster.png",:"/rank-img/administrator.png",:"/rank-img/moderator.png",owner:"/rank-img/owner.png",:"/rank-img/owner.png",sponsor:"/rank-img/sponsor.png",:"/rank-img/sponsor.png",:"/rank-img/partner.png"};return e[t]||e.},ry=t=>{switch(t){case 1:return d.jsx(ha,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"});case 2:return d.jsx(en,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"});case 3:return d.jsx(Qu,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"});default:return d.jsx(en,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}},ny=t=>{switch(t){case 1:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-2 border-gray-300 dark:border-gray-600";case 2:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-2 border-gray-300 dark:border-gray-600";case 3:return"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-400 border-2 border-gray-300 dark:border-gray-600";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-2 border-gray-300 dark:border-gray-600"}};function sy(){const[t,e]=l.useState([]),[r,n]=l.useState(!0),s=jl();return l.useEffect(()=>{(async()=>{console.log("Starting to load top users...");try{const i=await De.getTopUsers(3);console.log("Top users loaded:",i),e(i)}catch(i){console.error("Error loading top users:",i)}finally{n(!1)}})()},[]),r?d.jsxs("div",{className:"relative min-h-screen flex items-center justify-center",children:[d.jsx("div",{className:"absolute top-0 z-[-2] w-full h-full dark:bg-neutral-950 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.3),rgba(255,255,255,0))]"}),d.jsx("div",{className:"relative",children:d.jsx("div",{className:"w-24 h-24",children:d.jsx(ye,{})})})]}):d.jsxs("div",{className:"relative min-h-screen w-full px-4 py-20",children:[d.jsxs("div",{className:"relative z-10 text-center mb-12 max-w-4xl mx-auto px-4",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx(en,{className:"w-12 h-12 text-yellow-500"})}),d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:" 3 "}),d.jsx("p",{className:"text-lg text-foreground/70",children:"    "})]}),d.jsx("div",{className:"relative z-10 w-full max-w-6xl mx-auto px-4",children:t.length===0?d.jsx("div",{className:"text-center py-20",children:d.jsx("p",{className:"text-foreground/60 text-lg",children:"    "})}):d.jsx("div",{className:"top-card grid grid-cols-1 md:grid-cols-3 gap-6 items-start justify-center",children:t.map((o,i)=>{const a=i+1,c=ty(o.rank||"");return d.jsxs("div",{className:"relative group w-full max-w-sm mx-auto",children:[d.jsx("div",{className:"card-badge absolute -top-2 left-1/2 transform -translate-x-1/2 z-20",children:d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${ny(a)}`,children:ry(a)})}),d.jsx(Xs,{className:`relative pt-8 pb-4 transition-all duration-200 hover:shadow-md w-full ${a===1?"ring-1 ring-gray-200 dark:ring-gray-700":""}`,children:d.jsxs(Zs,{className:"p-4 text-center",children:[d.jsxs("div",{className:"relative mb-3 mx-auto w-16 h-16",children:[o.avatar_url?d.jsx("img",{src:o.avatar_url,alt:o.name||o.username,className:"top-avatar w-full h-full rounded-full object-cover border-2 border-gray-200 dark:border-gray-700",onError:u=>{u.target.style.display="none",u.target.nextSibling.style.display="flex"}}):null,d.jsx("div",{className:"w-full h-full rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 text-lg font-medium",style:{display:o.avatar_url?"none":"flex"},children:(o.name||o.username||"?").charAt(0).toUpperCase()}),d.jsx("div",{className:"rank-icon absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 flex items-center justify-center",children:d.jsx("img",{src:c,alt:"Rank",className:"w-4 h-4",onError:u=>{u.target.style.display="none"}})})]}),d.jsx("h3",{className:"text-lg font-bold mb-1 text-foreground",children:o.name||o.username}),d.jsxs("p",{className:"text-sm text-foreground/60 mb-3",children:["@",o.username]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx("span",{className:"text-xl font-bold text-foreground",children:o.views||0}),d.jsx("span",{className:"text-foreground/40 text-xs",children:""})]}),d.jsx(se,{onClick:()=>s(`/${o.username}`),variant:"outline",className:"view-btn w-full border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 font-medium transition-colors duration-200",children:" "})]})})]},o.username)})})}),d.jsx("div",{className:"relative z-10 text-center mt-12",children:d.jsx(se,{onClick:()=>s("/"),variant:"outline",className:"px-6 py-2 border-2 border-foreground/20 hover:border-foreground/40 transition-all duration-200",children:"  "})})]})}function oy(){const t=Di(),e=t.pathname!=="/"&&!t.pathname.startsWith("/auth")&&!t.pathname.startsWith("/dashboard")&&!t.pathname.startsWith("/top3");return d.jsx(Zl,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!1,children:d.jsxs("div",{className:"min-h-screen flex flex-col",children:[!e&&d.jsx(Am,{}),!e&&d.jsx($m,{}),d.jsx("main",{className:"flex-1",children:d.jsxs(Li,{children:[d.jsx(Qe,{path:"/",element:d.jsx(jm,{})}),d.jsx(Qe,{path:"/auth/*",element:d.jsx(Om,{})}),d.jsx(Qe,{path:"/dashboard",element:d.jsx(Ii,{})}),d.jsx(Qe,{path:"/dashboard/manage",element:d.jsx(Ii,{})}),d.jsx(Qe,{path:"/:username",element:d.jsx(ey,{})}),d.jsx(Qe,{path:"/top3",element:d.jsx(sy,{})})]})}),d.jsx(Tm,{}),d.jsx(Gd,{position:"bottom-right"})]})})}const iy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CLERK_AFTER_SIGN_IN_URL:"/dashboard/manage",VITE_CLERK_AFTER_SIGN_UP_URL:"/dashboard/manage",VITE_CLERK_PUBLISHABLE_KEY:"pk_test_Y3V0ZS1jYXQtOTkuY2xlcmsuYWNjb3VudHMuZGV2JA",VITE_CLERK_SECRET_KEY:"sk_test_8oaUHSBAVZ3SX22oUaM4HuelaCxB7jR2bBkVTg4Qed",VITE_CLERK_SIGN_IN_URL:"/auth/sign-in",VITE_CLERK_SIGN_UP_URL:"/auth/sign-up",VITE_MONGO_URI:"",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxjanB5emNld3R5bHFicWNtcnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NDA2MzgsImV4cCI6MjA4NDQxNjYzOH0.bLWVQaB4CXljxpzESB339xSHxU5M_Vnuw4hmkUzsmlw",VITE_SUPABASE_URL:"https://lcjpyzcewtylqbqcmrpe.supabase.co"},ay="pk_test_Y3V0ZS1jYXQtOTkuY2xlcmsuYWNjb3VudHMuZGV2JA";console.log("Environment variables loaded:",{PUBLISHABLE_KEY:"Found",allEnv:iy});Vl.createRoot(document.getElementById("root")).render(d.jsx(H.StrictMode,{children:d.jsx(Ll,{publishableKey:ay,children:d.jsx(Ol,{children:d.jsx(oy,{})})})}));
