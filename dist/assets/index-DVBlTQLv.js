import{r as Nl,c as Ol,g as Pl,a as u,R as G,b as mr,$ as Ba,d as xn,L as tr,u as za,e as Ds,f as Va,h as Ze,i as Il,B as Ml}from"./router-BOPp_ggg.js";import{u as at,U as Nr,C as Dl,S as Ll,a as Ul,b as Fl,c as Bl}from"./clerk-D-DYsX-Z.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var In={exports:{}},Yt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o;function zl(){if($o)return Yt;$o=1;var t=Nl(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(i,c,d){var h,f={},p=null,m=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(m=c.ref);for(h in c)n.call(c,h)&&!o.hasOwnProperty(h)&&(f[h]=c[h]);if(i&&i.defaultProps)for(h in c=i.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:i,key:p,ref:m,props:f,_owner:s.current}}return Yt.Fragment=r,Yt.jsx=a,Yt.jsxs=a,Yt}var To;function Vl(){return To||(To=1,In.exports=zl()),In.exports}var l=Vl(),Or={},Ro;function Wl(){if(Ro)return Or;Ro=1;var t=Ol();return Or.createRoot=t.createRoot,Or.hydrateRoot=t.hydrateRoot,Or}var Kl=Wl();const ql=Pl(Kl),nn=["light","dark"],Ls="(prefers-color-scheme: dark)",Hl=typeof window>"u",Us=u.createContext(void 0),Gl={setTheme:t=>{},themes:[]},Jl=()=>{var t;return(t=u.useContext(Us))!==null&&t!==void 0?t:Gl},Yl=t=>u.useContext(Us)?G.createElement(u.Fragment,null,t.children):G.createElement(Zl,t),Xl=["light","dark"],Zl=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:o=Xl,defaultTheme:a=r?"system":"light",attribute:i="data-theme",value:c,children:d,nonce:h})=>{const[f,p]=u.useState(()=>jo(s,a)),[m,y]=u.useState(()=>jo(s)),v=c?Object.values(c):o,g=u.useCallback(_=>{let E=_;if(!E)return;_==="system"&&r&&(E=Ao());const C=c?c[E]:E,S=e?eu():null,T=document.documentElement;if(i==="class"?(T.classList.remove(...v),C&&T.classList.add(C)):C?T.setAttribute(i,C):T.removeAttribute(i),n){const N=nn.includes(a)?a:null,D=nn.includes(E)?E:N;T.style.colorScheme=D}S==null||S()},[]),b=u.useCallback(_=>{p(_);try{localStorage.setItem(s,_)}catch{}},[t]),x=u.useCallback(_=>{const E=Ao(_);y(E),f==="system"&&r&&!t&&g("system")},[f,t]);u.useEffect(()=>{const _=window.matchMedia(Ls);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),u.useEffect(()=>{const _=E=>{E.key===s&&b(E.newValue||a)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[b]),u.useEffect(()=>{g(t??f)},[t,f]);const w=u.useMemo(()=>({theme:f,setTheme:b,forcedTheme:t,resolvedTheme:f==="system"?m:f,themes:r?[...o,"system"]:o,systemTheme:r?m:void 0}),[f,b,t,m,r,o]);return G.createElement(Us.Provider,{value:w},G.createElement(Ql,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:o,defaultTheme:a,attribute:i,value:c,children:d,attrs:v,nonce:h}),d)},Ql=u.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:a,attrs:i,nonce:c})=>{const d=o==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;c.remove(${i.map(y=>`'${y}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?nn.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,v=!1,g=!0)=>{const b=a?a[y]:y,x=v?y+"|| ''":`'${b}'`;let w="";return s&&g&&!v&&nn.includes(y)&&(w+=`d.style.colorScheme = '${y}';`),r==="class"?w+=v||b?`c.add(${x})`:"null":b&&(w+=`d[s](n,${x})`),w},m=t?`!function(){${h}${p(t)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${Ls}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${d?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return G.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})},()=>!0),jo=(t,e)=>{if(Hl)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},eu=()=>{const t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Ao=t=>(t||(t=window.matchMedia(Ls)),t.matches?"dark":"light");function tu({children:t,...e}){return l.jsx(Yl,{...e,children:t})}function xe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function No(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _n(...t){return e=>{let r=!1;const n=t.map(s=>{const o=No(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():No(t[s],null)}}}}function Ne(...t){return u.useCallback(_n(...t),t)}function gr(t,e=[]){let r=[];function n(o,a){const i=u.createContext(a),c=r.length;r=[...r,a];const d=f=>{var b;const{scope:p,children:m,...y}=f,v=((b=p==null?void 0:p[t])==null?void 0:b[c])||i,g=u.useMemo(()=>y,Object.values(y));return l.jsx(v.Provider,{value:g,children:m})};d.displayName=o+"Provider";function h(f,p){var v;const m=((v=p==null?void 0:p[t])==null?void 0:v[c])||i,y=u.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[d,h]}const s=()=>{const o=r.map(a=>u.createContext(a));return function(i){const c=(i==null?void 0:i[t])||o;return u.useMemo(()=>({[`__scope${t}`]:{...i,[t]:c}}),[i,c])}};return s.scopeName=t,[n,ru(s,...e)]}function ru(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((i,{useScope:c,scopeName:d})=>{const f=c(o)[`__scope${d}`];return{...i,...f}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function ns(t){const e=nu(t),r=u.forwardRef((n,s)=>{const{children:o,...a}=n,i=u.Children.toArray(o),c=i.find(ou);if(c){const d=c.props.children,h=i.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...a,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return l.jsx(e,{...a,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function nu(t){const e=u.forwardRef((r,n)=>{const{children:s,...o}=r;if(u.isValidElement(s)){const a=iu(s),i=au(o,s.props);return s.type!==u.Fragment&&(i.ref=n?_n(n,a):a),u.cloneElement(s,i)}return u.Children.count(s)>1?u.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var su=Symbol("radix.slottable");function ou(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===su}function au(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...i)=>{const c=o(...i);return s(...i),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function iu(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function cu(t){const e=t+"CollectionProvider",[r,n]=gr(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:g,children:b}=v,x=G.useRef(null),w=G.useRef(new Map).current;return l.jsx(s,{scope:g,itemMap:w,collectionRef:x,children:b})};a.displayName=e;const i=t+"CollectionSlot",c=ns(i),d=G.forwardRef((v,g)=>{const{scope:b,children:x}=v,w=o(i,b),_=Ne(g,w.collectionRef);return l.jsx(c,{ref:_,children:x})});d.displayName=i;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=ns(h),m=G.forwardRef((v,g)=>{const{scope:b,children:x,...w}=v,_=G.useRef(null),E=Ne(g,_),C=o(h,b);return G.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),l.jsx(p,{[f]:"",ref:E,children:x})});m.displayName=h;function y(v){const g=o(t+"CollectionConsumer",v);return G.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((C,S)=>w.indexOf(C.ref.current)-w.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:d,ItemSlot:m},y,n]}var lu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=lu.reduce((t,e)=>{const r=ns(`Primitive.${e}`),n=u.forwardRef((s,o)=>{const{asChild:a,...i}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Wa(t,e){t&&mr.flushSync(()=>t.dispatchEvent(e))}function tt(t){const e=u.useRef(t);return u.useEffect(()=>{e.current=t}),u.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function uu(t,e=globalThis==null?void 0:globalThis.document){const r=tt(t);u.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var du="DismissableLayer",ss="dismissableLayer.update",hu="dismissableLayer.pointerDownOutside",fu="dismissableLayer.focusOutside",Oo,Ka=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qa=u.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:i,...c}=t,d=u.useContext(Ka),[h,f]=u.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=u.useState({}),y=Ne(e,S=>f(S)),v=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(g),x=h?v.indexOf(h):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,E=mu(S=>{const T=S.target,N=[...d.branches].some(D=>D.contains(T));!_||N||(s==null||s(S),a==null||a(S),S.defaultPrevented||i==null||i())},p),C=gu(S=>{const T=S.target;[...d.branches].some(D=>D.contains(T))||(o==null||o(S),a==null||a(S),S.defaultPrevented||i==null||i())},p);return uu(S=>{x===d.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&i&&(S.preventDefault(),i()))},p),u.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Oo=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Po(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Oo)}},[h,p,r,d]),u.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Po())},[h,d]),u.useEffect(()=>{const S=()=>m({});return document.addEventListener(ss,S),()=>document.removeEventListener(ss,S)},[]),l.jsx(Ue.div,{...c,ref:y,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,C.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,E.onPointerDownCapture)})});qa.displayName=du;var pu="DismissableLayerBranch",Ha=u.forwardRef((t,e)=>{const r=u.useContext(Ka),n=u.useRef(null),s=Ne(e,n);return u.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(Ue.div,{...t,ref:s})});Ha.displayName=pu;function mu(t,e=globalThis==null?void 0:globalThis.document){const r=tt(t),n=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const o=i=>{if(i.target&&!n.current){let c=function(){Ga(hu,r,d,{discrete:!0})};const d={originalEvent:i};i.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function gu(t,e=globalThis==null?void 0:globalThis.document){const r=tt(t),n=u.useRef(!1);return u.useEffect(()=>{const s=o=>{o.target&&!n.current&&Ga(fu,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Po(){const t=new CustomEvent(ss);document.dispatchEvent(t)}function Ga(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Wa(s,o):s.dispatchEvent(o)}var vu=qa,yu=Ha,rt=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},bu="Portal",Ja=u.forwardRef((t,e)=>{var i;const{container:r,...n}=t,[s,o]=u.useState(!1);rt(()=>o(!0),[]);const a=r||s&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return a?Ba.createPortal(l.jsx(Ue.div,{...n,ref:e}),a):null});Ja.displayName=bu;function wu(t,e){return u.useReducer((r,n)=>e[r][n]??r,t)}var Ya=t=>{const{present:e,children:r}=t,n=xu(e),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),o=Ne(n.ref,_u(s));return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:o}):null};Ya.displayName="Presence";function xu(t){const[e,r]=u.useState(),n=u.useRef(null),s=u.useRef(t),o=u.useRef("none"),a=t?"mounted":"unmounted",[i,c]=wu(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Pr(n.current);o.current=i==="mounted"?d:"none"},[i]),rt(()=>{const d=n.current,h=s.current;if(h!==t){const p=o.current,m=Pr(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),rt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=m=>{const v=Pr(n.current).includes(CSS.escape(m.animationName));if(m.target===e&&v&&(c("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=m=>{m.target===e&&(o.current=Pr(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:u.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Pr(t){return(t==null?void 0:t.animationName)||"none"}function _u(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Eu=xn[" useInsertionEffect ".trim().toString()]||rt;function Fs({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,a]=Su({defaultProp:e,onChange:r}),i=t!==void 0,c=i?t:s;{const h=u.useRef(t!==void 0);u.useEffect(()=>{const f=h.current;f!==i&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=i},[i,n])}const d=u.useCallback(h=>{var f;if(i){const p=ku(h)?h(t):h;p!==t&&((f=a.current)==null||f.call(a,p))}else o(h)},[i,t,o,a]);return[c,d]}function Su({defaultProp:t,onChange:e}){const[r,n]=u.useState(t),s=u.useRef(r),o=u.useRef(e);return Eu(()=>{o.current=e},[e]),u.useEffect(()=>{var a;s.current!==r&&((a=o.current)==null||a.call(o,r),s.current=r)},[r,s]),[r,n,o]}function ku(t){return typeof t=="function"}var Cu=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$u="VisuallyHidden",Bs=u.forwardRef((t,e)=>l.jsx(Ue.span,{...t,ref:e,style:{...Cu,...t.style}}));Bs.displayName=$u;var zs="ToastProvider",[Vs,Tu,Ru]=cu("Toast"),[Xa]=gr("Toast",[Ru]),[ju,En]=Xa(zs),Za=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=t,[i,c]=u.useState(null),[d,h]=u.useState(0),f=u.useRef(!1),p=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${zs}\`. Expected non-empty \`string\`.`),l.jsx(Vs.Provider,{scope:e,children:l.jsx(ju,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:d,viewport:i,onViewportChange:c,onToastAdd:u.useCallback(()=>h(m=>m+1),[]),onToastRemove:u.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:a})})};Za.displayName=zs;var Qa="ToastViewport",Au=["F8"],os="toast.viewportPause",as="toast.viewportResume",ei=u.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Au,label:s="Notifications ({hotkey})",...o}=t,a=En(Qa,r),i=Tu(r),c=u.useRef(null),d=u.useRef(null),h=u.useRef(null),f=u.useRef(null),p=Ne(e,f,a.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;u.useEffect(()=>{const g=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),u.useEffect(()=>{const g=c.current,b=f.current;if(y&&g&&b){const x=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(os);b.dispatchEvent(C),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(as);b.dispatchEvent(C),a.isClosePausedRef.current=!1}},_=C=>{!g.contains(C.relatedTarget)&&w()},E=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",x),g.addEventListener("focusout",_),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[y,a.isClosePausedRef]);const v=u.useCallback(({tabbingDirection:g})=>{const x=i().map(w=>{const _=w.ref.current,E=[_,...Wu(_)];return g==="forwards"?E:E.reverse()});return(g==="forwards"?x.reverse():x).flat()},[i]);return u.useEffect(()=>{const g=f.current;if(g){const b=x=>{var E,C,S;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const T=document.activeElement,N=x.shiftKey;if(x.target===g&&N){(E=d.current)==null||E.focus();return}const O=v({tabbingDirection:N?"backwards":"forwards"}),Q=O.findIndex(R=>R===T);Mn(O.slice(Q+1))?x.preventDefault():N?(C=d.current)==null||C.focus():(S=h.current)==null||S.focus()}};return g.addEventListener("keydown",b),()=>g.removeEventListener("keydown",b)}},[i,v]),l.jsxs(yu,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&l.jsx(is,{ref:d,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"forwards"});Mn(g)}}),l.jsx(Vs.Slot,{scope:r,children:l.jsx(Ue.ol,{tabIndex:-1,...o,ref:p})}),y&&l.jsx(is,{ref:h,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"backwards"});Mn(g)}})]})});ei.displayName=Qa;var ti="ToastFocusProxy",is=u.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=En(ti,r);return l.jsx(Bs,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const i=a.relatedTarget;!((d=o.viewport)!=null&&d.contains(i))&&n()}})});is.displayName=ti;var vr="Toast",Nu="toast.swipeStart",Ou="toast.swipeMove",Pu="toast.swipeCancel",Iu="toast.swipeEnd",ri=u.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...a}=t,[i,c]=Fs({prop:n,defaultProp:s??!0,onChange:o,caller:vr});return l.jsx(Ya,{present:r||i,children:l.jsx(Lu,{open:i,...a,ref:e,onClose:()=>c(!1),onPause:tt(t.onPause),onResume:tt(t.onResume),onSwipeStart:xe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});ri.displayName=vr;var[Mu,Du]=Xa(vr,{onClose(){}}),Lu=u.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:i,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...y}=t,v=En(vr,r),[g,b]=u.useState(null),x=Ne(e,R=>b(R)),w=u.useRef(null),_=u.useRef(null),E=s||v.duration,C=u.useRef(0),S=u.useRef(E),T=u.useRef(0),{onToastAdd:N,onToastRemove:D}=v,V=tt(()=>{var z;(g==null?void 0:g.contains(document.activeElement))&&((z=v.viewport)==null||z.focus()),a()}),O=u.useCallback(R=>{!R||R===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(V,R))},[V]);u.useEffect(()=>{const R=v.viewport;if(R){const z=()=>{O(S.current),d==null||d()},P=()=>{const J=new Date().getTime()-C.current;S.current=S.current-J,window.clearTimeout(T.current),c==null||c()};return R.addEventListener(os,P),R.addEventListener(as,z),()=>{R.removeEventListener(os,P),R.removeEventListener(as,z)}}},[v.viewport,E,c,d,O]),u.useEffect(()=>{o&&!v.isClosePausedRef.current&&O(E)},[o,E,v.isClosePausedRef,O]),u.useEffect(()=>(N(),()=>D()),[N,D]);const Q=u.useMemo(()=>g?li(g):null,[g]);return v.viewport?l.jsxs(l.Fragment,{children:[Q&&l.jsx(Uu,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:Q}),l.jsx(Mu,{scope:r,onClose:V,children:mr.createPortal(l.jsx(Vs.ItemSlot,{scope:r,children:l.jsx(vu,{asChild:!0,onEscapeKeyDown:xe(i,()=>{v.isFocusedToastEscapeKeyDownRef.current||V(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Ue.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,R=>{R.key==="Escape"&&(i==null||i(R.nativeEvent),R.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:xe(t.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:xe(t.onPointerMove,R=>{if(!w.current)return;const z=R.clientX-w.current.x,P=R.clientY-w.current.y,J=!!_.current,L=["left","right"].includes(v.swipeDirection),j=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=L?j(0,z):0,te=L?0:j(0,P),ae=R.pointerType==="touch"?10:2,de={x:Y,y:te},ge={originalEvent:R,delta:de};J?(_.current=de,Ir(Ou,f,ge,{discrete:!1})):Io(de,v.swipeDirection,ae)?(_.current=de,Ir(Nu,h,ge,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(z)>ae||Math.abs(P)>ae)&&(w.current=null)}),onPointerUp:xe(t.onPointerUp,R=>{const z=_.current,P=R.target;if(P.hasPointerCapture(R.pointerId)&&P.releasePointerCapture(R.pointerId),_.current=null,w.current=null,z){const J=R.currentTarget,L={originalEvent:R,delta:z};Io(z,v.swipeDirection,v.swipeThreshold)?Ir(Iu,m,L,{discrete:!0}):Ir(Pu,p,L,{discrete:!0}),J.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Uu=t=>{const{__scopeToast:e,children:r,...n}=t,s=En(vr,e),[o,a]=u.useState(!1),[i,c]=u.useState(!1);return zu(()=>a(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),i?null:l.jsx(Ja,{asChild:!0,children:l.jsx(Bs,{...n,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},Fu="ToastTitle",ni=u.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Ue.div,{...n,ref:e})});ni.displayName=Fu;var Bu="ToastDescription",si=u.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Ue.div,{...n,ref:e})});si.displayName=Bu;var oi="ToastAction",ai=u.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?l.jsx(ci,{altText:r,asChild:!0,children:l.jsx(Ws,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${oi}\`. Expected non-empty \`string\`.`),null)});ai.displayName=oi;var ii="ToastClose",Ws=u.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Du(ii,r);return l.jsx(ci,{asChild:!0,children:l.jsx(Ue.button,{type:"button",...n,ref:e,onClick:xe(t.onClick,s.onClose)})})});Ws.displayName=ii;var ci=u.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return l.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function li(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Vu(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...li(n))}}),e}function Ir(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Wa(s,o):s.dispatchEvent(o)}var Io=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function zu(t=()=>{}){const e=tt(t);rt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Vu(t){return t.nodeType===t.ELEMENT_NODE}function Wu(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Mn(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Ku=Za,ui=ei,di=ri,hi=ni,fi=si,pi=ai,mi=Ws;function gi(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=gi(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function qu(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=gi(t))&&(n&&(n+=" "),n+=e);return n}const Mo=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Do=qu,Sn=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Do(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(d=>{const h=r==null?void 0:r[d],f=o==null?void 0:o[d];if(h===null)return null;const p=Mo(h)||Mo(f);return s[d][p]}),i=r&&Object.entries(r).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(y=>{let[v,g]=y;return Array.isArray(g)?g.includes({...o,...i}[v]):{...o,...i}[v]===g})?[...d,f,p]:d},[]);return Do(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(t,e)=>{const r=u.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:i="",children:c,...d},h)=>u.createElement("svg",{ref:h,...Hu,width:s,height:s,stroke:n,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${Gu(t)}`,i].join(" "),...d},[...e.map(([f,p])=>u.createElement(f,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=se("CornerRightDown",[["polyline",{points:"10 15 15 20 20 15",key:"axus6l"}],["path",{d:"M4 4h7a4 4 0 0 1 4 4v12",key:"wcbgct"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=se("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=se("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=se("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=se("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=se("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function wi(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=wi(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pd(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=wi(t))&&(n&&(n+=" "),n+=e);return n}const Ks="-";function md(t){const e=vd(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;function s(a){const i=a.split(Ks);return i[0]===""&&i.length!==1&&i.shift(),xi(i,e)||gd(a)}function o(a,i){const c=r[a]||[];return i&&n[a]?[...c,...n[a]]:c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function xi(t,e){var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?xi(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Ks);return(a=e.validators.find(({validator:i})=>i(o)))==null?void 0:a.classGroupId}const Uo=/^\[(.+)\]$/;function gd(t){if(Uo.test(t)){const e=Uo.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function vd(t){const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return bd(Object.entries(t.classGroups),r).forEach(([o,a])=>{ls(a,n,o,e)}),n}function ls(t,e,r,n){t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Fo(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(yd(s)){ls(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{ls(a,Fo(e,o),r,n)})})}function Fo(t,e){let r=t;return e.split(Ks).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function yd(t){return t.isThemeGetter}function bd(t,e){return e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,i])=>[e+a,i])):o);return[r,s]}):t}function wd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;function s(o,a){r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)}return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}}const _i="!";function xd(t){const e=t.separator,r=e.length===1,n=e[0],s=e.length;return function(a){const i=[];let c=0,d=0,h;for(let v=0;v<a.length;v++){let g=a[v];if(c===0){if(g===n&&(r||a.slice(v,v+s)===e)){i.push(a.slice(d,v)),d=v+s;continue}if(g==="/"){h=v;continue}}g==="["?c++:g==="]"&&c--}const f=i.length===0?a:a.substring(d),p=f.startsWith(_i),m=p?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}}}function _d(t){if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e}function Ed(t){return{cache:wd(t.cacheSize),splitModifiers:xd(t),...md(t)}}const Sd=/\s+/;function kd(t,e){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=new Set;return t.trim().split(Sd).map(a=>{const{modifiers:i,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:h}=r(a);let f=n(h?d.substring(0,h):d),p=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:a};if(f=n(d),!f)return{isTailwindClass:!1,originalClassName:a};p=!1}const m=_d(i).join(":");return{isTailwindClass:!0,modifierId:c?m+_i:m,classGroupId:f,originalClassName:a,hasPostfixModifier:p}}).reverse().filter(a=>{if(!a.isTailwindClass)return!0;const{modifierId:i,classGroupId:c,hasPostfixModifier:d}=a,h=i+c;return o.has(h)?!1:(o.add(h),s(c,d).forEach(f=>o.add(i+f)),!0)}).reverse().map(a=>a.originalClassName).join(" ")}function Cd(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Ei(e))&&(n&&(n+=" "),n+=r);return n}function Ei(t){if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Ei(t[n]))&&(r&&(r+=" "),r+=e);return r}function $d(t,...e){let r,n,s,o=a;function a(c){const d=e.reduce((h,f)=>f(h),t());return r=Ed(d),n=r.cache.get,s=r.cache.set,o=i,i(c)}function i(c){const d=n(c);if(d)return d;const h=kd(c,r);return s(c,h),h}return function(){return o(Cd.apply(null,arguments))}}function oe(t){const e=r=>r[t]||[];return e.isThemeGetter=!0,e}const Si=/^\[(?:([a-z-]+):)?(.+)\]$/i,Td=/^\d+\/\d+$/,Rd=new Set(["px","full","screen"]),jd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ad=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nd=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Od=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Be(t){return pt(t)||Rd.has(t)||Td.test(t)}function Je(t){return zt(t,"length",Bd)}function pt(t){return!!t&&!Number.isNaN(Number(t))}function Mr(t){return zt(t,"number",pt)}function Xt(t){return!!t&&Number.isInteger(Number(t))}function Pd(t){return t.endsWith("%")&&pt(t.slice(0,-1))}function K(t){return Si.test(t)}function Ye(t){return jd.test(t)}const Id=new Set(["length","size","percentage"]);function Md(t){return zt(t,Id,ki)}function Dd(t){return zt(t,"position",ki)}const Ld=new Set(["image","url"]);function Ud(t){return zt(t,Ld,Vd)}function Fd(t){return zt(t,"",zd)}function Zt(){return!0}function zt(t,e,r){const n=Si.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1}function Bd(t){return Ad.test(t)}function ki(){return!1}function zd(t){return Nd.test(t)}function Vd(t){return Od.test(t)}function Wd(){const t=oe("colors"),e=oe("spacing"),r=oe("blur"),n=oe("brightness"),s=oe("borderColor"),o=oe("borderRadius"),a=oe("borderSpacing"),i=oe("borderWidth"),c=oe("contrast"),d=oe("grayscale"),h=oe("hueRotate"),f=oe("invert"),p=oe("gap"),m=oe("gradientColorStops"),y=oe("gradientColorStopPositions"),v=oe("inset"),g=oe("margin"),b=oe("opacity"),x=oe("padding"),w=oe("saturate"),_=oe("scale"),E=oe("sepia"),C=oe("skew"),S=oe("space"),T=oe("translate"),N=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",K,e],O=()=>[K,e],Q=()=>["",Be,Je],R=()=>["auto",pt,K],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],L=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",K],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[pt,Mr],ae=()=>[pt,K];return{cacheSize:500,separator:":",theme:{colors:[Zt],spacing:[Be,Je],blur:["none","",Ye,K],brightness:te(),borderColor:[t],borderRadius:["none","","full",Ye,K],borderSpacing:O(),borderWidth:Q(),contrast:te(),grayscale:j(),hueRotate:ae(),invert:j(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Pd,Je],inset:V(),margin:V(),opacity:te(),padding:O(),saturate:te(),scale:te(),sepia:j(),skew:ae(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[Ye]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),K]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xt,K]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Xt,K]}],"grid-cols":[{"grid-cols":[Zt]}],"col-start-end":[{col:["auto",{span:["full",Xt,K]},K]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Zt]}],"row-start-end":[{row:["auto",{span:[Xt,K]},K]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,e]}],"min-w":[{"min-w":[K,e,"min","max","fit"]}],"max-w":[{"max-w":[K,e,"none","full","min","max","fit","prose",{screen:[Ye]},Ye]}],h:[{h:[K,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ye,Je]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mr]}],"font-family":[{font:[Zt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",pt,Mr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Be,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Be,Je]}],"underline-offset":[{"underline-offset":["auto",Be,K]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),Dd]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Md]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ud]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:P()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[Be,K]}],"outline-w":[{outline:[Be,Je]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Be,Je]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ye,Fd]}],"shadow-color":[{shadow:[Zt]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":J()}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ye,K]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Xt,K]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Be,Je,Mr]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Kd=$d(Wd);function X(...t){return Kd(pd(t))}const qd=Ku,Ci=u.forwardRef(({className:t,...e},r)=>l.jsx(ui,{ref:r,className:X("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ci.displayName=ui.displayName;const Hd=Sn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full sm:data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$i=u.forwardRef(({className:t,variant:e,...r},n)=>l.jsx(di,{ref:n,className:X(Hd({variant:e}),t),...r}));$i.displayName=di.displayName;const Gd=u.forwardRef(({className:t,...e},r)=>l.jsx(pi,{ref:r,className:X("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 hover:group-[.destructive]:border-destructive/30 hover:group-[.destructive]:bg-destructive hover:group-[.destructive]:text-destructive-foreground focus:group-[.destructive]:ring-destructive",t),...e}));Gd.displayName=pi.displayName;const Ti=u.forwardRef(({className:t,...e},r)=>l.jsx(mi,{ref:r,className:X("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-hidden focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 hover:group-[.destructive]:text-red-50 focus:group-[.destructive]:ring-red-400 focus:group-[.destructive]:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(bi,{className:"h-4 w-4"})}));Ti.displayName=mi.displayName;const Ri=u.forwardRef(({className:t,...e},r)=>l.jsx(hi,{ref:r,className:X("text-sm font-semibold",t),...e}));Ri.displayName=hi.displayName;const ji=u.forwardRef(({className:t,...e},r)=>l.jsx(fi,{ref:r,className:X("text-sm opacity-90",t),...e}));ji.displayName=fi.displayName;const Jd=1,Yd=1e6;let Dn=0;function Xd(){return Dn=(Dn+1)%Number.MAX_SAFE_INTEGER,Dn.toString()}const Ln=new Map,Bo=t=>{if(Ln.has(t))return;const e=setTimeout(()=>{Ln.delete(t),nr({type:"REMOVE_TOAST",toastId:t})},Yd);Ln.set(t,e)},Zd=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Jd)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Bo(r):t.toasts.forEach(n=>{Bo(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Xr=[];let Zr={toasts:[]};function nr(t){Zr=Zd(Zr,t),Xr.forEach(e=>{e(Zr)})}function Qd({...t}){const e=Xd(),r=s=>nr({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>nr({type:"DISMISS_TOAST",toastId:e});return nr({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function yr(){const[t,e]=u.useState(Zr);return u.useEffect(()=>(Xr.push(e),()=>{const r=Xr.indexOf(e);r>-1&&Xr.splice(r,1)}),[t]),{...t,toast:Qd,dismiss:r=>nr({type:"DISMISS_TOAST",toastId:r})}}function eh(){const{toasts:t}=yr();return l.jsxs(qd,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return l.jsxs($i,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(Ri,{children:r}),n&&l.jsx(ji,{children:n})]}),s,l.jsx(Ti,{})]},e)}),l.jsx(Ci,{})]})}var th=Symbol.for("react.lazy"),on=xn[" use ".trim().toString()];function rh(t){return typeof t=="object"&&t!==null&&"then"in t}function Ai(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===th&&"_payload"in t&&rh(t._payload)}function nh(t){const e=oh(t),r=u.forwardRef((n,s)=>{let{children:o,...a}=n;Ai(o)&&typeof on=="function"&&(o=on(o._payload));const i=u.Children.toArray(o),c=i.find(ih);if(c){const d=c.props.children,h=i.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...a,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return l.jsx(e,{...a,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var sh=nh("Slot");function oh(t){const e=u.forwardRef((r,n)=>{let{children:s,...o}=r;if(Ai(s)&&typeof on=="function"&&(s=on(s._payload)),u.isValidElement(s)){const a=lh(s),i=ch(o,s.props);return s.type!==u.Fragment&&(i.ref=n?_n(n,a):a),u.cloneElement(s,i)}return u.Children.count(s)>1?u.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ah=Symbol("radix.slottable");function ih(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ah}function ch(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...i)=>{const c=o(...i);return s(...i),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function lh(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const uh=Sn("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",pulseBtn:"bg-primary text-primary-foreground hover:bg-primary/90 animate-pulse-glow",spinner:"inline-flex border border-4 animate-spinner rounded-full border-r-primary",skeleton:"bg-skeleton bg-size-[400%_100%] animate-skeleton text-transparent",hover1:"bg-primary text-primary-foreground border-b-4 border-b-border-secondary hover:bg-primary/90 border-t-0 transition-all duration-100 ease-in-out hover:border-b-0 hover:border-t-4",clickIn:"bg-primary hover:scale-[1.05] text-primary-foreground active:scale-[0.95] hover:bg-primary/90 transition",ringHover:"bg-primary text-primary-foreground transition-all duration-300 hover:bg-primary/90 hover:ring-2 hover:ring-primary/90 hover:ring-offset-2",popUp:"bg-primary text-primary-foreground transition-all hover:shadow-[4px_4px_0px_1px] hover:shadow-primary/50 dark:shadow-gray-600 hover:-translate-x-1 hover:-translate-y-1",popIn:"bg-primary text-primary-foreground transition-all shadow-[4px_4px_0px_1px] shadow-primary/50 dark:shadow-gray-600 hover:translate-x-1 hover:translate-y-1 hover:shadow-[0px_0px_0px_0px]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=u.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const a=n?sh:"button";return l.jsx(a,{className:X(uh({variant:e,size:r,className:t})),ref:o,...s})});re.displayName="Button";function dh(){return l.jsxs(tr,{to:"/",className:"logo-full select-none hover:bg-secondary py-1 px-3 rounded-md flex items-center gap-1.5",children:[l.jsxs("picture",{children:[l.jsx("source",{media:"(max-width: 768px)",srcSet:"https://i.imgur.com/ES8tURJ.png"}),l.jsx("img",{src:"https://i.imgur.com/ES8tURJ.png",width:200,alt:"LinkShot Logo",className:"logo logo-img max-w-[50px] mt-1 md:max-w-none"})]}),l.jsx("h1",{className:"logo-text",style:{fontSize:"20px",fontWeight:"bolder !important"},children:"linkshot.lol"})]})}var Ie=function(){return Ie=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ie.apply(this,arguments)};function Vt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function hh(t,e,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function i(h){try{d(n.next(h))}catch(f){a(f)}}function c(h){try{d(n.throw(h))}catch(f){a(f)}}function d(h){h.done?o(h.value):s(h.value).then(i,c)}d((n=n.apply(t,e||[])).next())})}function fh(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}const ph=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class qs extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class mh extends qs{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zo extends qs{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vo extends qs{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var us;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(us||(us={}));class gh{constructor(e,{headers:r={},customFetch:n,region:s=us.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=ph(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return hh(this,arguments,void 0,function*(r,n={}){var s;let o,a;try{const{headers:i,method:c,body:d,signal:h,timeout:f}=n;let p={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(p["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let v;d&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(p["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(p["Content-Type"]="application/json",v=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?v=JSON.stringify(d):v=d;let g=h;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),h?(g=a.signal,h.addEventListener("abort",()=>a.abort())):g=a.signal);const b=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),i),body:v,signal:g}).catch(E=>{throw new mh(E)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new zo(b);if(!b.ok)throw new Vo(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(i){return{data:null,error:i,response:i instanceof Vo||i instanceof zo?i.context:void 0}}finally{o&&clearTimeout(o)}})}}var vh=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},yh=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,i=null,c=null,d=o.status,h=o.statusText;if(o.ok){var f,p;if(r.method!=="HEAD"){var m;const b=await o.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?i=b:i=JSON.parse(b))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");v&&g&&g.length>1&&(c=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(i)&&(i.length>1?(a={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,c=null,d=406,h="Not Acceptable"):i.length===1?i=i[0]:i=null)}else{var y;const v=await o.text();try{a=JSON.parse(v),Array.isArray(a)&&o.status===404&&(i=[],a=null,d=200,h="OK")}catch{o.status===404&&v===""?(d=204,h="No Content"):a={message:v}}if(a&&r.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,d=200,h="OK"),a&&r.shouldThrowOnError)throw new vh(a)}return{error:a,data:i,count:c,status:d,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var a;let i="";const c=o==null?void 0:o.cause;if(c){var d,h,f,p;const y=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",v=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";i=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,i+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${y}`,v&&(i+=` (${v})`),c!=null&&c.stack&&(i+=`
${c.stack}`)}else{var m;i=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:i,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},bh=class extends yh{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var a;const i=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${i};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Wo=new RegExp("[,()]");var Nt=class extends bh{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Wo.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Wo.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},wh=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join(""),{url:i,headers:c}=this.cloneRequestState();return i.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Nt({method:s,url:i,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(i.length>0){const c=[...new Set(i)].map(d=>`"${d}"`);o.searchParams.set("columns",c.join(","))}}return new Nt({method:s,url:o,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const a="POST",{url:i,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&i.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);i.searchParams.set("columns",h.join(","))}}return new Nt({method:a,url:i,headers:c,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Nt({method:n,url:s,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Nt({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},xh=class Ni{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new wh(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ni(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var a;let i;const c=new URL(`${this.url}/rpc/${e}`);let d;const h=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(h)),f=n&&Object.values(r).some(h);f?(i="POST",d=r):n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(i="POST",d=r);const p=new Headers(this.headers);return f?p.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&p.set("Prefer",`count=${o}`),new Nt({method:i,url:c,headers:p,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class _h{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Eh="2.93.3",Sh=`realtime-js/${Eh}`,kh="1.0.0",Oi="2.0.0",Ko=Oi,ds=1e4,Ch=1e3,$h=100;var Qe;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qe||(Qe={}));var he;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(he||(he={}));var je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(je||(je={}));var hs;(function(t){t.websocket="websocket"})(hs||(hs={}));var ht;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ht||(ht={}));class Th{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,o;const a=e.topic,i=(s=e.ref)!==null&&s!==void 0?s:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",d=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`ref length ${i.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+i.length+a.length+d.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(m),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,c.length),y.setUint8(v++,i.length),y.setUint8(v++,a.length),y.setUint8(v++,d.length),y.setUint8(v++,f.length),y.setUint8(v++,r),Array.from(c,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(i,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(d,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(f,b=>y.setUint8(v++,b.charCodeAt(0)));var g=new Uint8Array(m.byteLength+n.byteLength);return g.set(new Uint8Array(m),0),g.set(new Uint8Array(n),m.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,o,a,i,c]=n;return r({join_ref:s,ref:o,topic:a,event:i,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3),i=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(e.slice(c,c+s));c=c+s;const h=n.decode(e.slice(c,c+o));c=c+o;const f=n.decode(e.slice(c,c+a));c=c+a;const p=e.slice(c,e.byteLength),m=i===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST_EVENT,event:h,payload:m};return a>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Pi{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ne||(ne={}));const qo=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Rh(a,t,e,s),o),{}):{}},Rh=(t,e,r,n)=>{const s=e.find(i=>i.name===t),o=s==null?void 0:s.type,a=r[t];return o&&!n.includes(o)?Ii(o,a):fs(a)},Ii=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Oh(e,r)}switch(t){case ne.bool:return jh(e);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return Ah(e);case ne.json:case ne.jsonb:return Nh(e);case ne.timestamp:return Ph(e);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return fs(e);default:return fs(e)}},fs=t=>t,jh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ah=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Nh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Oh=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(i=>Ii(e,i))}return t},Ph=t=>typeof t=="string"?t.replace(" ","T"):t,Mi=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Un{constructor(e,r,n={},s=ds){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ho;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ho||(Ho={}));class sr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sr.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=sr.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],i()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=sr.syncDiff(this.state,s,o,a),i())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),a=this.transformState(r),i={},c={};return this.map(o,(d,h)=>{a[d]||(c[d]=h)}),this.map(a,(d,h)=>{const f=o[d];if(f){const p=h.map(g=>g.presence_ref),m=f.map(g=>g.presence_ref),y=h.filter(g=>m.indexOf(g.presence_ref)<0),v=f.filter(g=>p.indexOf(g.presence_ref)<0);y.length>0&&(i[d]=y),v.length>0&&(c[d]=v)}else i[d]=h}),this.syncDiff(o,{joins:i,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(i,c)=>{var d;const h=(d=e[i])!==null&&d!==void 0?d:[];if(e[i]=this.cloneDeep(c),h.length>0){const f=e[i].map(m=>m.presence_ref),p=h.filter(m=>f.indexOf(m.presence_ref)<0);e[i].unshift(...p)}n(i,h,c)}),this.map(a,(i,c)=>{let d=e[i];if(!d)return;const h=c.map(f=>f.presence_ref);d=d.filter(f=>h.indexOf(f.presence_ref)<0),e[i]=d,s(i,d,c),d.length===0&&delete e[i]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Go;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Go||(Go={}));var or;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(or||(or={}));var Ve;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ve||(Ve={}));class It{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Un(this,je.join,this.params,this.timeout),this.rejoinTimer=new Pi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(je.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new sr(this),this.broadcastEndpointURL=Mi(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:a,presence:i,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[or.PRESENCE]&&this.bindings[or.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Ve.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Ve.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Ve.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,g=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,b=[];for(let x=0;x<g;x++){const w=v[x],{filter:{event:_,schema:E,table:C,filter:S}}=w,T=m&&m[x];if(T&&T.event===_&&It.isFilterValueEqual(T.schema,E)&&It.isFilterValueEqual(T.table,C)&&It.isFilterValueEqual(T.filter,S))b.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=he.errored,e==null||e(Ve.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Ve.SUBSCRIBED);return}}).receive("error",m=>{this.state=he.errored,e==null||e(Ve.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ve.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===he.joined&&e===or.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(i.status===202)return{success:!0};let c=i.statusText;try{const d=await i.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,i,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(i=(a=this.params)===null||a===void 0?void 0:a.config)===null||i===void 0?void 0:i.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=he.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Un(this,je.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Un(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$h){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const a=e.toLocaleLowerCase(),{close:i,error:c,leave:d,join:h}=je;if(n&&[i,c,d,h].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,v,g;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(v=m.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===a}).map(m=>m.callback(p,n)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var y,v,g,b,x,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,E=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(x=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:v,table:g,commit_timestamp:b,type:x,errors:w}=y;p=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(y))}m.callback(p,n)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&It.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(je.close,{},e)}_onError(e){this._on(je.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=qo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=qo(e.columns,e.old_record)),r}}const Fn=()=>{},Dr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ih=[1e3,2e3,5e3,1e4],Mh=1e4,Dh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lh{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ds,this.transport=null,this.heartbeatIntervalMs=Dr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fn,this.ref=0,this.reconnectTimer=null,this.vsn=Ko,this.logger=Fn,this.conn=null,this.sendBuffer=[],this.serializer=new Th,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${hs.websocket}`,this.httpEndpoint=Mi(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_h.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qe.connecting:return ht.Connecting;case Qe.open:return ht.Open;case Qe.closing:return ht.Closing;default:return ht.Closed}}isConnected(){return this.connectionState()===ht.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new It(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,a=()=>{this.encode(e,i=>{var c;(c=this.conn)===null||c===void 0||c.send(i)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ch,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Dr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",d)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:a}=r,i=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${i}`.trim(),o),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Qe.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qe.open||this.conn.readyState===Qe.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(je.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Dh],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:Sh};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(je.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Pi(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,a,i,c,d,h,f,p,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ds,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Dr.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(i=e==null?void 0:e.heartbeatCallback)!==null&&i!==void 0?i:Fn,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Ko,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(y=>Ih[y-1]||Mh),this.vsn){case kh:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((y,v)=>v(JSON.stringify(y))),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:((y,v)=>v(JSON.parse(y)));break;case Oi:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ar=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Uh(t,e,r){const n=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function Fh(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Bh(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:a}){const i=Uh(t.baseUrl,n,s),c=await Fh(t.auth),d=await e(i,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...a},body:o?JSON.stringify(o):void 0}),h=await d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),p=f&&h?JSON.parse(h):h;if(!d.ok){const m=f?p:void 0,y=m==null?void 0:m.error;throw new ar((y==null?void 0:y.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:d.status,headers:d.headers,data:p}}}}function Lr(t){return t.join("")}var zh=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Lr(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lr(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lr(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lr(t.namespace)}`}),!0}catch(e){if(e instanceof ar&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ar&&r.status===409)return;throw r}}};function xt(t){return t.join("")}var Vh=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xt(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xt(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xt(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xt(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xt(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xt(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ar&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ar&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Wh=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Bh({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new zh(this.client,e),this.tableOps=new Vh(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},kn=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ur=class extends kn{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Di=class extends kn{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Kh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qh=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ps=t=>{if(Array.isArray(t))return t.map(r=>ps(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=ps(n)}),e},Hh=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ir(t){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(t)}function Gh(t,e){if(ir(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ir(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jh(t){var e=Gh(t,"string");return ir(e)=="symbol"?e:e+""}function Yh(t,e,r){return(e=Jh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jo(Object(r),!0).forEach(function(n){Yh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jo(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Yo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Xh=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,o=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const i=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";e(new Ur(Yo(a),o,i,n))}).catch(()=>{if(n==="vectors"){const a=o+"";e(new Ur(s.statusText||`HTTP ${o} error`,o,a,n))}else{const a=o+"";e(new Ur(s.statusText||`HTTP ${o} error`,o,a,n))}});else{const a=o+"";e(new Ur(s.statusText||`HTTP ${o} error`,o,a,n))}}else e(new Di(Yo(t),t,n))},Zh=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?B(B({},s),r):(qh(n)?(s.headers=B({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),B(B({},s),r))};async function Qt(t,e,r,n,s,o,a){return new Promise((i,c)=>{t(r,Zh(e,n,s,o)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;if(a==="vectors"){const h=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!h||!h.includes("application/json"))return{}}return d.json()}).then(d=>i(d)).catch(d=>Xh(d,c,n,a))})}function Li(t="storage"){return{get:async(e,r,n,s)=>Qt(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,o)=>Qt(e,"POST",r,s,o,n,t),put:async(e,r,n,s,o)=>Qt(e,"PUT",r,s,o,n,t),head:async(e,r,n,s)=>Qt(e,"HEAD",r,B(B({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,o)=>Qt(e,"DELETE",r,s,o,n,t)}}const Qh=Li("storage"),{get:cr,post:Re,put:ms,head:ef,remove:Hs}=Qh,_e=Li("vectors");var Wt=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Kh(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}}},tf=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}}};let Ui;Ui=Symbol.toStringTag;var rf=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Ui]="BlobDownloadBuilder",this.promise=null}asStream(){return new tf(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}}};const nf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sf=class extends Wt{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let o;const a=B(B({},Xo),n);let i=B(B({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=r,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,c&&(i["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(i=B(B({},i),n.headers));const d=s._removeEmptyFolders(e),h=s._getFinalPath(d),f=await(t=="PUT"?ms:Re)(s.fetch,`${s.url}/object/${h}`,o,B({headers:i},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:d,id:f.Id,fullPath:f.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const o=s._removeEmptyFolders(t),a=s._getFinalPath(o),i=new URL(s.url+`/object/upload/sign/${a}`);return i.searchParams.set("token",e),s.handleOperation(async()=>{let c;const d=B({upsert:Xo.upsert},n),h=B(B({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType),{path:o,fullPath:(await ms(s.fetch,i.toString(),c,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=B({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const o=await Re(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+o.url),i=a.searchParams.get("token");if(!i)throw new kn("No token returned by API");return{signedUrl:a.toString(),path:t,token:i}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Re(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),o=await Re(n.fetch,`${n.url}/object/sign/${s}`,B({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${o.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await Re(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>B(B({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${o}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(t),a=()=>cr(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new rf(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>ps(await cr(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await ef(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cn(n)&&n instanceof Di){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let i=n.join("&");return i!==""&&(i=`?${i}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${i}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Hs(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=B(B(B({},nf),e),{},{prefix:t||""});return await Re(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=B({},t);return await Re(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const of="2.93.3",br={"X-Client-Info":`storage-js/${of}`};var af=class extends Wt{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),a=B(B({},br),e);super(o,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await cr(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await cr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Re(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await ms(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Re(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Hs(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},cf=class extends Wt{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},br),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Re(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await cr(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Hs(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Hh(t))throw new kn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Wh({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const a=s[o];return typeof a!="function"?a:async(...i)=>{try{return{data:await a.apply(s,i),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},lf=class extends Wt{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},br),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await _e.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await _e.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},uf=class extends Wt{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},br),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},df=class extends Wt{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},br),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await _e.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},hf=class extends df{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new ff(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},ff=class extends lf{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new pf(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},pf=class extends uf{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},mf=class extends af{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new sf(this.url,this.headers,t,this.fetch)}get vectors(){return new hf(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cf(this.url+"/iceberg",this.headers,this.fetch)}};const Fi="2.93.3",Ot=30*1e3,gs=3,Bn=gs*Ot,gf="http://localhost:9999",vf="supabase.auth.token",yf={"X-Client-Info":`gotrue-js/${Fi}`},vs="X-Supabase-Api-Version",Bi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wf=600*1e3;class lr extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xf extends lr{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _f(t){return M(t)&&t.name==="AuthApiError"}class ft extends lr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class He extends lr{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ye extends He{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zn(t){return M(t)&&t.name==="AuthSessionMissingError"}class _t extends He{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fr extends He{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Br extends He{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ef(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class Zo extends He{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sf extends He{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ys extends He{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Vn(t){return M(t)&&t.name==="AuthRetryableFetchError"}class Qo extends He{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bs extends He{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ea=` 	
\r=`.split(""),kf=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ea.length;e+=1)t[ea[e].charCodeAt(0)]=-2;for(let e=0;e<an.length;e+=1)t[an[e].charCodeAt(0)]=e;return t})();function ta(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(an[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(an[n]),e.queuedBits-=6}}function zi(t,e,r){const n=kf[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ra(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{Tf(a,n,r)};for(let a=0;a<t.length;a+=1)zi(t.charCodeAt(a),s,o);return e.join("")}function Cf(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $f(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Cf(n,e)}}function Tf(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Mt(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)zi(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Rf(t){const e=[];return $f(t,r=>e.push(r)),new Uint8Array(e)}function mt(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>ta(s,r,n)),ta(null,r,n),e.join("")}function jf(t){return Math.round(Date.now()/1e3)+t}function Af(){return Symbol("auth-callback")}const pe=()=>typeof window<"u"&&typeof document<"u",ct={tested:!1,writable:!1},Vi=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ct.tested)return ct.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ct.tested=!0,ct.writable=!0}catch{ct.tested=!0,ct.writable=!1}return ct.writable};function Nf(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Wi=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Of=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pt=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},lt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fe=async(t,e)=>{await t.removeItem(e)};class $n{constructor(){this.promise=new $n.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$n.promiseConstructor=Promise;function zr(t){const e=t.split(".");if(e.length!==3)throw new bs("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!bf.test(e[n]))throw new bs("JWT not in base64url format");return{header:JSON.parse(ra(e[0])),payload:JSON.parse(ra(e[1])),signature:Mt(e[2]),raw:{header:e[0],payload:e[1]}}}async function Pf(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function If(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){s(a);return}}})()})}function Mf(t){return("0"+t.toString(16)).substr(-2)}function Df(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Mf).join("")}async function Lf(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Uf(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Lf(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Et(t,e,r=!1){const n=Df();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Pt(t,`${e}-code-verifier`,s);const o=await Uf(n);return[o,n===o?"plain":"s256"]}const Ff=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bf(t){const e=t.headers.get(vs);if(!e||!e.match(Ff))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zf(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Vf(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function St(t){if(!Wf.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wn(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kf(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function na(t){return JSON.parse(JSON.stringify(t))}const dt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qf=[502,503,504];async function sa(t){var e;if(!Of(t))throw new ys(dt(t),0);if(qf.includes(t.status))throw new ys(dt(t),t.status);let r;try{r=await t.json()}catch(o){throw new ft(dt(o),o)}let n;const s=Bf(t);if(s&&s.getTime()>=Bi["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Qo(dt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ye}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Qo(dt(r),t.status,r.weak_password.reasons);throw new xf(dt(r),t.status||500,n)}const Hf=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[vs]||(o[vs]=Bi["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const i=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Gf(t,e,r+i,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Gf(t,e,r,n,s,o){const a=Hf(e,n,s,o);let i;try{i=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new ys(dt(c),0)}if(i.ok||await sa(i),n!=null&&n.noResolveJson)return i;try{return await i.json()}catch(c){await sa(c)}}function Te(t){var e;let r=null;Xf(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=jf(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function oa(t){const e=Te(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function et(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jf(t){return{data:t,error:null}}function Yf(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,a=Vt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:i,user:c},error:null}}function aa(t){return t}function Xf(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kn=["global","local","others"];class Zf{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Wi(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Kn[0]){if(Kn.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kn.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:et})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Vt(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yf,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:et})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,a,i,c;try{const d={nextPage:null,lastPage:0,total:0},h=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:aa});if(h.error)throw h.error;const f=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(i=h.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);d[`${g}Page`]=v}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(M(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){St(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:et})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){St(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:et})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){St(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:et})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){St(e.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(e){St(e.userId),St(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,a,i,c;try{const d={nextPage:null,lastPage:0,total:0},h=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:aa});if(h.error)throw h.error;const f=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(i=h.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);d[`${g}Page`]=v}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(M(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}}function ia(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const kt={debug:!!(globalThis&&Vi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ki extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Qf extends Ki{}async function ep(t,e,r){kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),kt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Qf(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kt.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function tp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qi(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function rp(t){return parseInt(t,16)}function np(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function sp(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:a,notBefore:i,requestId:c,resources:d,scheme:h,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=qi(t.address),y=h?`${h}://${n}`:n,v=t.statement?`${t.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${m}

${v}`;let b=`URI: ${f}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),i&&(b+=`
Not Before: ${i.toISOString()}`),c&&(b+=`
Request ID: ${c}`),d){let x=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${g}
${b}`}class ue extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class cn extends ue{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function op({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(i=>i.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Hi(a)){if(o.rp.id!==a)return new ue({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ap({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Hi(n)){if(r.rpId!==n)return new ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ip{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cp=new ip;function lp(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Vt(t,["challenge","user","excludeCredentials"]),o=Mt(e).buffer,a=Object.assign(Object.assign({},r),{id:Mt(r.id).buffer}),i=Object.assign(Object.assign({},s),{challenge:o,user:a});if(n&&n.length>0){i.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];i.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Mt(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return i}function up(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Vt(t,["challenge","allowCredentials"]),s=Mt(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const i=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},i),{id:Mt(i.id).buffer,type:i.type||"public-key",transports:i.transports})}}return o}function dp(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:mt(new Uint8Array(t.response.attestationObject)),clientDataJSON:mt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hp(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mt(new Uint8Array(s.authenticatorData)),clientDataJSON:mt(new Uint8Array(s.clientDataJSON)),signature:mt(new Uint8Array(s.signature)),userHandle:s.userHandle?mt(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hi(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ca(){var t,e;return!!(pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fp(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cn("Browser returned unexpected credential type",e)}:{data:null,error:new cn("Empty credential response",e)}}catch(e){return{data:null,error:op({error:e,options:t})}}}async function pp(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cn("Browser returned unexpected credential type",e)}:{data:null,error:new cn("Empty credential response",e)}}catch(e){return{data:null,error:ap({error:e,options:t})}}}const mp={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gp={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ln(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const a=s[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(e(a)){const i=n[o];e(i)?n[o]=ln(i,a):n[o]=ln(a)}else n[o]=a}return n}function vp(t,e){return ln(mp,t,e||{})}function yp(t,e){return ln(gp,t,e||{})}class bp{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){var a;try{const{data:i,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!i)return{data:null,error:c};const d=s??cp.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:h}=i.webauthn.credential_options.publicKey;if(!h.name){const f=n;if(f)h.name=`${h.id}:${f}`;else{const m=(await this.client.getUser()).data.user,y=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";h.name=`${h.id}:${y}`}}h.displayName||(h.displayName=h.name)}switch(i.webauthn.type){case"create":{const h=vp(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:p}=await fp({publicKey:h,signal:d});return f?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=yp(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:p}=await pp(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:h,signal:d}));return f?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(i){return M(i)?{data:null,error:i}:{data:null,error:new ft("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new lr("rpId is required for WebAuthn authentication")};try{if(!ca())return{data:null,error:new ft("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!a)return{data:null,error:i};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new ft("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new lr("rpId is required for WebAuthn registration")};try{if(!ca())return{data:null,error:new ft("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:i};const{data:c,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new ft("Unexpected error in register",a)}}}}tp();const wp={url:gf,storageKey:vf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function la(t,e,r){return await r()}const Ct={};class ur{get jwks(){var e,r;return(r=(e=Ct[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ct[this.storageKey]=Object.assign(Object.assign({},Ct[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ct[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ct[this.storageKey]=Object.assign(Object.assign({},Ct[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},wp),e);if(this.storageKey=o.storageKey,this.instanceID=(r=ur.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ur.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&pe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Zf({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Wi(o.fetch),this.lock=o.lock||la,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&pe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ep:this.lock=la,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bp(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Vi()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ia(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ia(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(i){this._debug("#broadcastChannel","error",i)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Fi}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(pe()&&(r=Nf(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),pe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Ef(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?this._returnResult({error:r}):this._returnResult({error:new ft("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Te}),{data:a,error:i}=o;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(o){if(M(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:h,password:f,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Et(this.storage,this.storageKey)),o=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},xform:Te})}else if("phone"in e){const{phone:h,password:f,options:p}=e;o=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Te})}else throw new Fr("You must provide either an email or phone number and a password");const{data:a,error:i}=o;if(i||!a)return await fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:i});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:a,options:i}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:oa})}else if("phone"in e){const{phone:o,password:a,options:i}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:oa})}else throw new Fr("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new _t;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,a,i,c,d,h,f,p;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:v,wallet:g,statement:b,options:x}=e;let w;if(pe())if(typeof g=="object")w=g;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")w=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),E=await w.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=qi(E[0]);let S=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const N=await w.request({method:"eth_chainId"});S=rp(N)}const T={domain:_.host,address:C,statement:b,uri:_.href,version:"1",chainId:S,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=x==null?void 0:x.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=sp(T),y=await w.request({method:"personal_sign",params:[np(m),C]})}try{const{data:v,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Te});if(g)throw g;if(!v||!v.session||!v.user){const b=new _t;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(M(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,s,o,a,i,c,d,h,f,p,m;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:g,wallet:b,statement:x,options:w}=e;let _;if(pe())if(typeof b=="object")_=b;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const E=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),x?{statement:x}:null));let S;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")S=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)S=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(h=w==null?void 0:w.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=C}}try{const{data:g,error:b}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:mt(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Te});if(b)throw b;if(!g||!g.session||!g.user){const x=new _t;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(M(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const r=await lt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Sf;const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Te});if(await fe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const i=new _t;return this._returnResult({data:{user:null,session:null,redirectType:null},error:i})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=e,i=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Te}),{data:c,error:d}=i;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new _t;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,o,a;try{if("email"in e){const{email:i,options:c}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Et(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:i,options:c}=e,{data:d,error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Fr("You must provide either an email or phone number.")}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),M(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:i}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Te});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,o,a;try{let i=null,c=null;this.flowType==="pkce"&&([i,c]=await Et(this.storage,this.storageKey));const d=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:c}),headers:this.headers,xform:Jf});return!((o=d.data)===null||o===void 0)&&o.url&&pe()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),M(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ye;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(M(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:a,error:i}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:i})}throw new Fr("You must provide either an email or phone number and a type")}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await lt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Bn:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await lt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Wn()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Kf(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:et}):await this._useSession(async r=>{var n,s,o;const{data:a,error:i}=r;if(i)throw i;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ye}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:et})})}catch(r){if(M(r))return zn(r)&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ye;const a=s.session;let i=null,c=null;this.flowType==="pkce"&&e.email!=null&&([i,c]=await Et(this.storage,this.storageKey));const{data:d,error:h}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:c}),jwt:a.access_token,xform:et});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await fe(this.storage,`${this.storageKey}-code-verifier`),M(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ye;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=zr(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:i,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i)return{data:{user:null,session:null},error:null};o=i}else{const{data:i,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});o={access_token:e.access_token,refresh_token:e.refresh_token,user:i.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(M(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:i}=r;if(i)throw i;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ye;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!pe())throw new Br("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Br(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Br("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zo("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:i,expires_at:c,token_type:d}=e;if(!o||!i||!a||!d)throw new Br("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(i);let p=h+f;c&&(p=parseInt(c));const m=p-h;m*1e3<=Ot&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=p-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,h);const{data:v,error:g}=await this._getUser(o);if(g)throw g;const b={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:a,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(M(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await lt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o&&!zn(o))return this._returnResult({error:o});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:i}=await this.admin.signOut(a,e);if(i&&!(_f(i)&&(i.status===404||i.status===401||i.status===403)||zn(i)))return this._returnResult({error:i})}return e!=="others"&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Af(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Et(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,i,c,d,h;const{data:f,error:p}=o;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return pe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(M(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:a,provider:i,token:c,access_token:d,nonce:h}=e,f=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:i,id_token:c,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Te}),{data:p,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new _t}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:m}))}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await If(async s=>(s>0&&await Pf(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Te})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Vn(o)&&Date.now()+a-n<Ot})}catch(n){if(this._debug(r,"error",n),M(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),pe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await lt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await lt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Pt(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Wn()}else if(s&&!s.user&&!s.user){const a=await lt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await fe(this.storage,this.storageKey+"-user"),await Pt(this.storage,this.storageKey,s)):s.user=Wn()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bn;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Bn}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Vn(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:i}=await this._getUser(s.access_token);!i&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ye;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $n;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new ye;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const i={data:o.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(o){if(this._debug(s,"error",o),M(o)){const a={data:null,error:o};return Vn(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let i=0;i<o.length;i+=1)console.error(o[i]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pt(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=na(s);await Pt(this.storage,this.storageKey,o)}else{const s=na(r);await Pt(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fe(this.storage,this.storageKey),await fe(this.storage,this.storageKey+"-code-verifier"),await fe(this.storage,this.storageKey+"-user"),this.userStorage&&await fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ot);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ot);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ot}ms, refresh threshold is ${gs} ticks`),s<=gs&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ki)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await Et(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(i.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?dp(e.webauthn.credential_response):hp(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:c}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:c}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:i}=a;if(i.type!=="webauthn")return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:lp(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:up(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,o;if(e)try{const{payload:m}=zr(e);let y=null;m.aal&&(y=m.aal);let v=y;const{data:{user:g},error:b}=await this.getUser(e);if(b)return this._returnResult({data:null,error:b});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const w=m.amr||[];return{data:{currentLevel:y,nextLevel:v,currentAuthenticationMethods:w},error:null}}catch(m){if(M(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=zr(a.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(h="aal2");const p=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ye})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ye});const a=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:i=>({data:i,error:null})});return a.data&&a.data.redirect_url&&pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ye});const a=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:i=>({data:i,error:null})});return a.data&&a.data.redirect_url&&pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ye})})}catch(e){if(M(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ye})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(i=>i.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(i=>i.kid===e),n&&this.jwks_cached_at+wf>s)return n;const{data:o,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(i=>i.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:s,payload:o,signature:a,raw:{header:i,payload:c}}=zr(n);r!=null&&r.allowExpired||zf(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:s,signature:a},error:null}}const h=Vf(s.alg),f=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,Rf(`${i}.${c}`)))throw new bs("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}}ur.nextInstanceID={};const xp=ur,_p="2.93.3";let er="";typeof Deno<"u"?er="deno":typeof document<"u"?er="web":typeof navigator<"u"&&navigator.product==="ReactNative"?er="react-native":er="node";const Ep={"X-Client-Info":`supabase-js-${er}/${_p}`},Sp={headers:Ep},kp={schema:"public"},Cp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$p={};function dr(t){"@babel/helpers - typeof";return dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(t)}function Tp(t,e){if(dr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rp(t){var e=Tp(t,"string");return dr(e)=="symbol"?e:e+""}function jp(t,e,r){return(e=Rp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ua(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ua(Object(r),!0).forEach(function(n){jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Ap=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Np=()=>Headers,Op=(t,e,r)=>{const n=Ap(r),s=Np();return async(o,a)=>{var i;const c=(i=await e())!==null&&i!==void 0?i:t;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(o,ce(ce({},a),{},{headers:d}))}};function Pp(t){return t.endsWith("/")?t:t+"/"}function Ip(t,e){var r,n;const{db:s,auth:o,realtime:a,global:i}=t,{db:c,auth:d,realtime:h,global:f}=e,p={db:ce(ce({},c),s),auth:ce(ce({},d),o),realtime:ce(ce({},h),a),storage:{},global:ce(ce(ce({},f),i),{},{headers:ce(ce({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=i==null?void 0:i.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Mp(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Pp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Dp=class extends xp{constructor(t){super(t)}},Lp=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const o=Mp(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,i={db:kp,realtime:$p,auth:ce(ce({},Cp),{},{storageKey:a}),global:Sp},c=Ip(r??{},i);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=Op(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new xh(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new mf(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new gh(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:a,lock:i,debug:c,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dp({url:this.authUrl.href,headers:ce(ce({},p),h),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:i,debug:c,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Lh(this.realtimeUrl.href,ce(ce({},t),{},{params:ce(ce({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Up=(t,e,r)=>new Lp(t,e,r);function Fp(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Fp()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bp="https://lcjpyzcewtylqbqcmrpe.supabase.co",zp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxjanB5emNld3R5bHFicWNtcnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NDA2MzgsImV4cCI6MjA4NDQxNjYzOH0.bLWVQaB4CXljxpzESB339xSHxU5M_Vnuw4hmkUzsmlw",ie=Up(Bp,zp,{auth:{persistSession:!1,autoRefreshToken:!1}}),ws={github:"gitHub",linkedin:"linkedIn","apple music":"apple music",amazon:"amazon","ko-fi":"ko-fi","buy me a coffee":"buy me a coffee",geeksforgeeks:"geeksforgeeks",accesskey:"accessKey",accessKey:"accessKey",avatar_url:"avatar_url"},ze=t=>{if(!t)return t;const e={};return Object.keys(t).forEach(r=>{const n=ws[r]||r;e[n]=t[r]}),e};class ve{static async getByUserId(e){try{const{data:r,error:n}=await ie.from("users").select("*").eq("clerk_id",e).maybeSingle();if(n)throw console.error("Error fetching user:",n),n;return ze(r)}catch(r){throw console.error("Supabase error:",r.message),r}}static async getByUsername(e){try{const{data:r,error:n}=await ie.from("users").select("*").eq("username",e).maybeSingle();if(n)throw console.error("Error fetching user by username:",n),n;return ze(r)}catch(r){throw console.error("Supabase error:",r.message),r}}static async create(e){try{const{data:r,error:n}=await ie.from("users").insert([e]).select().maybeSingle();if(n)throw console.error("Error creating user:",n),n;return ze(r)}catch(r){throw console.error("Supabase error:",r.message),r}}static async incrementViews(e){try{let r;try{const{data:n,error:s}=await ie.rpc("increment_user_views",{user_username:e});if(s)throw s;r=n}catch(n){console.warn("RPC function failed, falling back to direct update:",n.message);const{data:s}=await ie.from("users").select("views").eq("username",e).single(),o=(s==null?void 0:s.views)||0,{data:a}=await ie.from("users").update({views:o+1}).eq("username",e).select("views").single();r=(a==null?void 0:a.views)||o+1}return setTimeout(async()=>{try{await this.updateRanksForTopUsers(),console.log("Ranks updated successfully after view increment")}catch(n){console.error("Failed to update ranks after view increment:",n)}},1e3),r}catch(r){throw console.error("Error incrementing views:",r),r}}static async syncAvatarUrl(e,r){try{const{data:n,error:s}=await ie.from("users").update({avatar_url:r}).eq("clerk_id",e).select().maybeSingle();if(s)throw console.error("Error syncing avatar URL:",s),s;return ze(n)}catch(n){throw console.error("Supabase error:",n.message),n}}static async ensureAvatarUrl(e,r){try{const{data:n}=await ie.from("users").select("avatar_url").eq("clerk_id",e).maybeSingle();return n!=null&&n.avatar_url?n:await this.syncAvatarUrl(e,r)}catch(n){throw console.error("Error ensuring avatar URL:",n),n}}static async getTopUsers(e=3){try{const{data:r,error:n}=await ie.from("users").select("username, name, avatar_url, views, rank").not("views","is",null).not("username","is",null).order("views",{ascending:!1}).limit(e);if(n)throw console.error("Error fetching top users:",n),n;return r.map(s=>ze(s))}catch(r){throw console.error("Supabase error:",r.message),r}}static async updateRanksForTopUsers(){try{const e=await this.getTopUsers(3),r=e.map(o=>o.username),{data:n,error:s}=await ie.from("users").select("username, rank").like("rank","%%");if(s)throw console.error("Error fetching booster users:",s),s;for(const o of n)r.includes(o.username)||await this.removeRank(o.username,"");for(const o of e)await this.addRank(o.username,"");return{success:!0,updatedUsers:e}}catch(e){throw console.error("Error updating ranks for top users:",e),e}}static async addRank(e,r){try{const{data:n,error:s}=await ie.from("users").select("rank").eq("username",e).single();if(s)throw console.error("Error fetching user for rank addition:",s),s;const a=(n.rank||"").split(",").map(h=>h.trim());if(a.includes(r))return{success:!0,message:"User already has this rank"};a.push(r);const i=[...new Set(a)].join(", "),{data:c,error:d}=await ie.from("users").update({rank:i}).eq("username",e).select().single();if(d)throw console.error("Error adding rank:",d),d;return{success:!0,data:ze(c)}}catch(n){throw console.error("Supabase error:",n.message),n}}static async removeRank(e,r){try{const{data:n,error:s}=await ie.from("users").select("rank").eq("username",e).single();if(s)throw console.error("Error fetching user for rank removal:",s),s;const i=(n.rank||"").split(",").map(f=>f.trim()).filter(f=>f!==r),c=i.length>0?i.join(", "):"",{data:d,error:h}=await ie.from("users").update({rank:c}).eq("username",e).select().single();if(h)throw console.error("Error removing rank:",h),h;return{success:!0,data:ze(d)}}catch(n){throw console.error("Supabase error:",n.message),n}}static async updateAccessKey(e,r){try{const{data:n,error:s}=await ie.from("users").update({accesskey:r}).eq("clerk_id",e).select().maybeSingle();if(s)throw console.error("Error updating access key:",s),s;return ze(n)}catch(n){throw console.error("Supabase error:",n.message),n}}static async update(e,r,n=null){try{const s=ie,o=await s.from("users").select("id").eq("clerk_id",e).maybeSingle();if(o.error)throw console.error("Error checking existing user:",o.error),o.error;const a={};Object.keys(r).forEach(f=>{const p=Object.keys(ws).find(m=>ws[m]===f)||f;a[p]=r[f]});const{accesskey:i,accessKey:c,...d}=a;console.log("Final data to update:",d);let h;if(o.data){const{data:f,error:p}=await s.from("users").update(d).eq("clerk_id",e).select().single();if(p)throw console.error("Error updating user:",p),p;h=f}else{const f={clerk_id:e,...d},{data:p,error:m}=await s.from("users").insert([f]).select().single();if(m)throw console.error("Error creating user:",m),m;h=p}return ze(h)}catch(s){throw console.error("Supabase error:",s.message),s}}}function F(){return F=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F.apply(this,arguments)}function ee(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Vp(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function wr(...t){return e=>t.forEach(r=>Vp(r,e))}function Se(...t){return u.useCallback(wr(...t),t)}function xr(t,e=[]){let r=[];function n(o,a){const i=u.createContext(a),c=r.length;r=[...r,a];function d(f){const{scope:p,children:m,...y}=f,v=(p==null?void 0:p[t][c])||i,g=u.useMemo(()=>y,Object.values(y));return u.createElement(v.Provider,{value:g},m)}function h(f,p){const m=(p==null?void 0:p[t][c])||i,y=u.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,h]}const s=()=>{const o=r.map(a=>u.createContext(a));return function(i){const c=(i==null?void 0:i[t])||o;return u.useMemo(()=>({[`__scope${t}`]:{...i,[t]:c}}),[i,c])}};return s.scopeName=t,[n,Wp(s,...e)]}function Wp(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((i,{useScope:c,scopeName:d})=>{const f=c(o)[`__scope${d}`];return{...i,...f}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Gi(t){const e=u.useRef(t);return u.useEffect(()=>{e.current=t}),u.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function Ji({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=Kp({defaultProp:e,onChange:r}),o=t!==void 0,a=o?t:n,i=Gi(r),c=u.useCallback(d=>{if(o){const f=typeof d=="function"?d(t):d;f!==t&&i(f)}else s(d)},[o,t,s,i]);return[a,c]}function Kp({defaultProp:t,onChange:e}){const r=u.useState(t),[n]=r,s=u.useRef(n),o=Gi(e);return u.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}const Yi=u.forwardRef((t,e)=>{const{children:r,...n}=t,s=u.Children.toArray(r),o=s.find(Hp);if(o){const a=o.props.children,i=s.map(c=>c===o?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(xs,F({},n,{ref:e}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(xs,F({},n,{ref:e}),r)});Yi.displayName="Slot";const xs=u.forwardRef((t,e)=>{const{children:r,...n}=t;return u.isValidElement(r)?u.cloneElement(r,{...Gp(n,r.props),ref:e?wr(e,r.ref):r.ref}):u.Children.count(r)>1?u.Children.only(null):null});xs.displayName="SlotClone";const qp=({children:t})=>u.createElement(u.Fragment,null,t);function Hp(t){return u.isValidElement(t)&&t.type===qp}function Gp(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...i)=>{o(...i),s(...i)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}const Jp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=Jp.reduce((t,e)=>{const r=u.forwardRef((n,s)=>{const{asChild:o,...a}=n,i=o?Yi:e;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,F({},a,{ref:s}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Xi(t,e){t&&mr.flushSync(()=>t.dispatchEvent(e))}const un=u.forwardRef((t,e)=>{const{children:r,...n}=t,s=u.Children.toArray(r),o=s.find(Xp);if(o){const a=o.props.children,i=s.map(c=>c===o?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(_s,F({},n,{ref:e}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(_s,F({},n,{ref:e}),r)});un.displayName="Slot";const _s=u.forwardRef((t,e)=>{const{children:r,...n}=t;return u.isValidElement(r)?u.cloneElement(r,{...Zp(n,r.props),ref:e?wr(e,r.ref):r.ref}):u.Children.count(r)>1?u.Children.only(null):null});_s.displayName="SlotClone";const Yp=({children:t})=>u.createElement(u.Fragment,null,t);function Xp(t){return u.isValidElement(t)&&t.type===Yp}function Zp(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...i)=>{o(...i),s(...i)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function Zi(t){const e=t+"CollectionProvider",[r,n]=xr(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:y,children:v}=m,g=G.useRef(null),b=G.useRef(new Map).current;return G.createElement(s,{scope:y,itemMap:b,collectionRef:g},v)},i=t+"CollectionSlot",c=G.forwardRef((m,y)=>{const{scope:v,children:g}=m,b=o(i,v),x=Se(y,b.collectionRef);return G.createElement(un,{ref:x},g)}),d=t+"CollectionItemSlot",h="data-radix-collection-item",f=G.forwardRef((m,y)=>{const{scope:v,children:g,...b}=m,x=G.useRef(null),w=Se(y,x),_=o(d,v);return G.useEffect(()=>(_.itemMap.set(x,{ref:x,...b}),()=>void _.itemMap.delete(x))),G.createElement(un,{[h]:"",ref:w},g)});function p(m){const y=o(t+"CollectionConsumer",m);return G.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((_,E)=>b.indexOf(_.ref.current)-b.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},p,n]}const Qp=u.createContext(void 0);function Qi(t){const e=u.useContext(Qp);return t||e||"ltr"}function nt(t){const e=u.useRef(t);return u.useEffect(()=>{e.current=t}),u.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function em(t,e=globalThis==null?void 0:globalThis.document){const r=nt(t);u.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)},[r,e])}const Es="dismissableLayer.update",tm="dismissableLayer.pointerDownOutside",rm="dismissableLayer.focusOutside";let da;const nm=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sm=u.forwardRef((t,e)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:c,...d}=t,h=u.useContext(nm),[f,p]=u.useState(null),m=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,y]=u.useState({}),v=Se(e,T=>p(T)),g=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),w=f?g.indexOf(f):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,E=w>=x,C=om(T=>{const N=T.target,D=[...h.branches].some(V=>V.contains(N));!E||D||(o==null||o(T),i==null||i(T),T.defaultPrevented||c==null||c())},m),S=am(T=>{const N=T.target;[...h.branches].some(V=>V.contains(N))||(a==null||a(T),i==null||i(T),T.defaultPrevented||c==null||c())},m);return em(T=>{w===h.layers.size-1&&(s==null||s(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},m),u.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(da=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),ha(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=da)}},[f,m,n,h]),u.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),ha())},[f,h]),u.useEffect(()=>{const T=()=>y({});return document.addEventListener(Es,T),()=>document.removeEventListener(Es,T)},[]),u.createElement(Ce.div,F({},d,{ref:v,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,C.onPointerDownCapture)}))});function om(t,e=globalThis==null?void 0:globalThis.document){const r=nt(t),n=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const o=i=>{if(i.target&&!n.current){let d=function(){ec(tm,r,c,{discrete:!0})};const c={originalEvent:i};i.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function am(t,e=globalThis==null?void 0:globalThis.document){const r=nt(t),n=u.useRef(!1);return u.useEffect(()=>{const s=o=>{o.target&&!n.current&&ec(rm,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ha(){const t=new CustomEvent(Es);document.dispatchEvent(t)}function ec(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Xi(s,o):s.dispatchEvent(o)}let qn=0;function im(){u.useEffect(()=>{var t,e;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=r[0])!==null&&t!==void 0?t:fa()),document.body.insertAdjacentElement("beforeend",(e=r[1])!==null&&e!==void 0?e:fa()),qn++,()=>{qn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),qn--}},[])}function fa(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Hn="focusScope.autoFocusOnMount",Gn="focusScope.autoFocusOnUnmount",pa={bubbles:!1,cancelable:!0},cm=u.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[i,c]=u.useState(null),d=nt(s),h=nt(o),f=u.useRef(null),p=Se(e,v=>c(v)),m=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let v=function(w){if(m.paused||!i)return;const _=w.target;i.contains(_)?f.current=_:Xe(f.current,{select:!0})},g=function(w){if(m.paused||!i)return;const _=w.relatedTarget;_!==null&&(i.contains(_)||Xe(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Xe(i)};document.addEventListener("focusin",v),document.addEventListener("focusout",g);const x=new MutationObserver(b);return i&&x.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",g),x.disconnect()}}},[n,i,m.paused]),u.useEffect(()=>{if(i){ga.add(m);const v=document.activeElement;if(!i.contains(v)){const b=new CustomEvent(Hn,pa);i.addEventListener(Hn,d),i.dispatchEvent(b),b.defaultPrevented||(lm(pm(tc(i)),{select:!0}),document.activeElement===v&&Xe(i))}return()=>{i.removeEventListener(Hn,d),setTimeout(()=>{const b=new CustomEvent(Gn,pa);i.addEventListener(Gn,h),i.dispatchEvent(b),b.defaultPrevented||Xe(v??document.body,{select:!0}),i.removeEventListener(Gn,h),ga.remove(m)},0)}}},[i,d,h,m]);const y=u.useCallback(v=>{if(!r&&!n||m.paused)return;const g=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(g&&b){const x=v.currentTarget,[w,_]=um(x);w&&_?!v.shiftKey&&b===_?(v.preventDefault(),r&&Xe(w,{select:!0})):v.shiftKey&&b===w&&(v.preventDefault(),r&&Xe(_,{select:!0})):b===x&&v.preventDefault()}},[r,n,m.paused]);return u.createElement(Ce.div,F({tabIndex:-1},a,{ref:p,onKeyDown:y}))});function lm(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Xe(n,{select:e}),document.activeElement!==r)return}function um(t){const e=tc(t),r=ma(e,t),n=ma(e.reverse(),t);return[r,n]}function tc(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ma(t,e){for(const r of t)if(!dm(r,{upTo:e}))return r}function dm(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function hm(t){return t instanceof HTMLInputElement&&"select"in t}function Xe(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&hm(t)&&e&&t.select()}}const ga=fm();function fm(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=va(t,e),t.unshift(e)},remove(e){var r;t=va(t,e),(r=t[0])===null||r===void 0||r.resume()}}}function va(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function pm(t){return t.filter(e=>e.tagName!=="A")}const mm=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},gm=xn.useId||(()=>{});let vm=0;function Ss(t){const[e,r]=u.useState(gm());return mm(()=>{r(n=>n??String(vm++))},[t]),e?`radix-${e}`:""}const ym=["top","right","bottom","left"],st=Math.min,we=Math.max,dn=Math.round,Vr=Math.floor,De=t=>({x:t,y:t}),bm={left:"right",right:"left",bottom:"top",top:"bottom"},wm={start:"end",end:"start"};function ks(t,e,r){return we(t,st(e,r))}function Ke(t,e){return typeof t=="function"?t(e):t}function qe(t){return t.split("-")[0]}function Kt(t){return t.split("-")[1]}function Gs(t){return t==="x"?"y":"x"}function Js(t){return t==="y"?"height":"width"}const xm=new Set(["top","bottom"]);function Me(t){return xm.has(qe(t))?"y":"x"}function Ys(t){return Gs(Me(t))}function _m(t,e,r){r===void 0&&(r=!1);const n=Kt(t),s=Ys(t),o=Js(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=hn(a)),[a,hn(a)]}function Em(t){const e=hn(t);return[Cs(t),e,Cs(e)]}function Cs(t){return t.replace(/start|end/g,e=>wm[e])}const ya=["left","right"],ba=["right","left"],Sm=["top","bottom"],km=["bottom","top"];function Cm(t,e,r){switch(t){case"top":case"bottom":return r?e?ba:ya:e?ya:ba;case"left":case"right":return e?Sm:km;default:return[]}}function $m(t,e,r,n){const s=Kt(t);let o=Cm(qe(t),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(Cs)))),o}function hn(t){return t.replace(/left|right|bottom|top/g,e=>bm[e])}function Tm(t){return{top:0,right:0,bottom:0,left:0,...t}}function rc(t){return typeof t!="number"?Tm(t):{top:t,right:t,bottom:t,left:t}}function fn(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function wa(t,e,r){let{reference:n,floating:s}=t;const o=Me(e),a=Ys(e),i=Js(a),c=qe(e),d=o==="y",h=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[i]/2-s[i]/2;let m;switch(c){case"top":m={x:h,y:n.y-s.height};break;case"bottom":m={x:h,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Kt(e)){case"start":m[a]-=p*(r&&d?-1:1);break;case"end":m[a]+=p*(r&&d?-1:1);break}return m}async function Rm(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:a,elements:i,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Ke(e,t),y=rc(m),g=i[p?f==="floating"?"reference":"floating":f],b=fn(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(g)))==null||r?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:d,rootBoundary:h,strategy:c})),x=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},E=fn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-E.top+y.top)/_.y,bottom:(E.bottom-b.bottom+y.bottom)/_.y,left:(b.left-E.left+y.left)/_.x,right:(E.right-b.right+y.right)/_.x}}const jm=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,i=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=wa(d,n,c),p=n,m={},y=0;for(let g=0;g<i.length;g++){var v;const{name:b,fn:x}=i[g],{x:w,y:_,data:E,reset:C}=await x({x:h,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:d,platform:{...a,detectOverflow:(v=a.detectOverflow)!=null?v:Rm},elements:{reference:t,floating:e}});h=w??h,f=_??f,m={...m,[b]:{...m[b],...E}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(d=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:h,y:f}=wa(d,p,c)),g=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:m}},Am=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:a,elements:i,middlewareData:c}=e,{element:d,padding:h=0}=Ke(t,e)||{};if(d==null)return{};const f=rc(h),p={x:r,y:n},m=Ys(s),y=Js(m),v=await a.getDimensions(d),g=m==="y",b=g?"top":"left",x=g?"bottom":"right",w=g?"clientHeight":"clientWidth",_=o.reference[y]+o.reference[m]-p[m]-o.floating[y],E=p[m]-o.reference[m],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let S=C?C[w]:0;(!S||!await(a.isElement==null?void 0:a.isElement(C)))&&(S=i.floating[w]||o.floating[y]);const T=_/2-E/2,N=S/2-v[y]/2-1,D=st(f[b],N),V=st(f[x],N),O=D,Q=S-v[y]-V,R=S/2-v[y]/2+T,z=ks(O,R,Q),P=!c.arrow&&Kt(s)!=null&&R!==z&&o.reference[y]/2-(R<O?D:V)-v[y]/2<0,J=P?R<O?R-O:R-Q:0;return{[m]:p[m]+J,data:{[m]:z,centerOffset:R-z-J,...P&&{alignmentOffset:J}},reset:P}}}),Nm=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:i,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...g}=Ke(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const b=qe(s),x=Me(i),w=qe(i)===i,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=p||(w||!v?[hn(i)]:Em(i)),C=y!=="none";!p&&C&&E.push(...$m(i,v,y,_));const S=[i,...E],T=await c.detectOverflow(e,g),N=[];let D=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&N.push(T[b]),f){const R=_m(s,a,_);N.push(T[R[0]],T[R[1]])}if(D=[...D,{placement:s,overflows:N}],!N.every(R=>R<=0)){var V,O;const R=(((V=o.flip)==null?void 0:V.index)||0)+1,z=S[R];if(z&&(!(f==="alignment"?x!==Me(z):!1)||D.every(L=>Me(L.placement)===x?L.overflows[0]>0:!0)))return{data:{index:R,overflows:D},reset:{placement:z}};let P=(O=D.filter(J=>J.overflows[0]<=0).sort((J,L)=>J.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!P)switch(m){case"bestFit":{var Q;const J=(Q=D.filter(L=>{if(C){const j=Me(L.placement);return j===x||j==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(j=>j>0).reduce((j,Y)=>j+Y,0)]).sort((L,j)=>L[1]-j[1])[0])==null?void 0:Q[0];J&&(P=J);break}case"initialPlacement":P=i;break}if(s!==P)return{reset:{placement:P}}}return{}}}};function xa(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _a(t){return ym.some(e=>t[e]>=0)}const Om=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r,platform:n}=e,{strategy:s="referenceHidden",...o}=Ke(t,e);switch(s){case"referenceHidden":{const a=await n.detectOverflow(e,{...o,elementContext:"reference"}),i=xa(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:_a(i)}}}case"escaped":{const a=await n.detectOverflow(e,{...o,altBoundary:!0}),i=xa(a,r.floating);return{data:{escapedOffsets:i,escaped:_a(i)}}}default:return{}}}}},nc=new Set(["left","top"]);async function Pm(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=qe(r),i=Kt(r),c=Me(r)==="y",d=nc.has(a)?-1:1,h=o&&c?-1:1,f=Ke(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof y=="number"&&(m=i==="end"?y*-1:y),c?{x:m*h,y:p*d}:{x:p*d,y:m*h}}const Im=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:a,middlewareData:i}=e,c=await Pm(e,t);return a===((r=i.offset)==null?void 0:r.placement)&&(n=i.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},Mm=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s,platform:o}=e,{mainAxis:a=!0,crossAxis:i=!1,limiter:c={fn:b=>{let{x,y:w}=b;return{x,y:w}}},...d}=Ke(t,e),h={x:r,y:n},f=await o.detectOverflow(e,d),p=Me(qe(s)),m=Gs(p);let y=h[m],v=h[p];if(a){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=y+f[b],_=y-f[x];y=ks(w,y,_)}if(i){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=v+f[b],_=v-f[x];v=ks(w,v,_)}const g=c.fn({...e,[m]:y,[p]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:a,[p]:i}}}}}},Dm=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=e,{offset:i=0,mainAxis:c=!0,crossAxis:d=!0}=Ke(t,e),h={x:r,y:n},f=Me(s),p=Gs(f);let m=h[p],y=h[f];const v=Ke(i,e),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=p==="y"?"height":"width",_=o.reference[p]-o.floating[w]+g.mainAxis,E=o.reference[p]+o.reference[w]-g.mainAxis;m<_?m=_:m>E&&(m=E)}if(d){var b,x;const w=p==="y"?"width":"height",_=nc.has(qe(s)),E=o.reference[f]-o.floating[w]+(_&&((b=a.offset)==null?void 0:b[f])||0)+(_?0:g.crossAxis),C=o.reference[f]+o.reference[w]+(_?0:((x=a.offset)==null?void 0:x[f])||0)-(_?g.crossAxis:0);y<E?y=E:y>C&&(y=C)}return{[p]:m,[f]:y}}}},Lm=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:a,elements:i}=e,{apply:c=()=>{},...d}=Ke(t,e),h=await a.detectOverflow(e,d),f=qe(s),p=Kt(s),m=Me(s)==="y",{width:y,height:v}=o.floating;let g,b;f==="top"||f==="bottom"?(g=f,b=p===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(b=f,g=p==="end"?"top":"bottom");const x=v-h.top-h.bottom,w=y-h.left-h.right,_=st(v-h[g],x),E=st(y-h[b],w),C=!e.middlewareData.shift;let S=_,T=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(S=x),C&&!p){const D=we(h.left,0),V=we(h.right,0),O=we(h.top,0),Q=we(h.bottom,0);m?T=y-2*(D!==0||V!==0?D+V:we(h.left,h.right)):S=v-2*(O!==0||Q!==0?O+Q:we(h.top,h.bottom))}await c({...e,availableWidth:T,availableHeight:S});const N=await a.getDimensions(i.floating);return y!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function Tn(){return typeof window<"u"}function qt(t){return sc(t)?(t.nodeName||"").toLowerCase():"#document"}function Ee(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fe(t){var e;return(e=(sc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sc(t){return Tn()?t instanceof Node||t instanceof Ee(t).Node:!1}function Oe(t){return Tn()?t instanceof Element||t instanceof Ee(t).Element:!1}function Le(t){return Tn()?t instanceof HTMLElement||t instanceof Ee(t).HTMLElement:!1}function Ea(t){return!Tn()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ee(t).ShadowRoot}const Um=new Set(["inline","contents"]);function _r(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Pe(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Um.has(s)}const Fm=new Set(["table","td","th"]);function Bm(t){return Fm.has(qt(t))}const zm=[":popover-open",":modal"];function Rn(t){return zm.some(e=>{try{return t.matches(e)}catch{return!1}})}const Vm=["transform","translate","scale","rotate","perspective"],Wm=["transform","translate","scale","rotate","perspective","filter"],Km=["paint","layout","strict","content"];function Xs(t){const e=Zs(),r=Oe(t)?Pe(t):t;return Vm.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Wm.some(n=>(r.willChange||"").includes(n))||Km.some(n=>(r.contain||"").includes(n))}function qm(t){let e=ot(t);for(;Le(e)&&!Ut(e);){if(Xs(e))return e;if(Rn(e))return null;e=ot(e)}return null}function Zs(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hm=new Set(["html","body","#document"]);function Ut(t){return Hm.has(qt(t))}function Pe(t){return Ee(t).getComputedStyle(t)}function jn(t){return Oe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ot(t){if(qt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ea(t)&&t.host||Fe(t);return Ea(e)?e.host:e}function oc(t){const e=ot(t);return Ut(e)?t.ownerDocument?t.ownerDocument.body:t.body:Le(e)&&_r(e)?e:oc(e)}function hr(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=oc(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),a=Ee(s);if(o){const i=$s(a);return e.concat(a,a.visualViewport||[],_r(s)?s:[],i&&r?hr(i):[])}return e.concat(s,hr(s,[],r))}function $s(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ac(t){const e=Pe(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Le(t),o=s?t.offsetWidth:r,a=s?t.offsetHeight:n,i=dn(r)!==o||dn(n)!==a;return i&&(r=o,n=a),{width:r,height:n,$:i}}function Qs(t){return Oe(t)?t:t.contextElement}function Dt(t){const e=Qs(t);if(!Le(e))return De(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=ac(e);let a=(o?dn(r.width):r.width)/n,i=(o?dn(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const Gm=De(0);function ic(t){const e=Ee(t);return!Zs()||!e.visualViewport?Gm:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jm(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ee(t)?!1:e}function gt(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Qs(t);let a=De(1);e&&(n?Oe(n)&&(a=Dt(n)):a=Dt(t));const i=Jm(o,r,n)?ic(o):De(0);let c=(s.left+i.x)/a.x,d=(s.top+i.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(o){const p=Ee(o),m=n&&Oe(n)?Ee(n):n;let y=p,v=$s(y);for(;v&&n&&m!==y;){const g=Dt(v),b=v.getBoundingClientRect(),x=Pe(v),w=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,_=b.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,d*=g.y,h*=g.x,f*=g.y,c+=w,d+=_,y=Ee(v),v=$s(y)}}return fn({width:h,height:f,x:c,y:d})}function An(t,e){const r=jn(t).scrollLeft;return e?e.left+r:gt(Fe(t)).left+r}function cc(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-An(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function Ym(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",a=Fe(n),i=e?Rn(e.floating):!1;if(n===a||i&&o)return r;let c={scrollLeft:0,scrollTop:0},d=De(1);const h=De(0),f=Le(n);if((f||!f&&!o)&&((qt(n)!=="body"||_r(a))&&(c=jn(n)),Le(n))){const m=gt(n);d=Dt(n),h.x=m.x+n.clientLeft,h.y=m.y+n.clientTop}const p=a&&!f&&!o?cc(a,c):De(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:r.y*d.y-c.scrollTop*d.y+h.y+p.y}}function Xm(t){return Array.from(t.getClientRects())}function Zm(t){const e=Fe(t),r=jn(t),n=t.ownerDocument.body,s=we(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=we(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+An(t);const i=-r.scrollTop;return Pe(n).direction==="rtl"&&(a+=we(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:i}}const Sa=25;function Qm(t,e){const r=Ee(t),n=Fe(t),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,i=0,c=0;if(s){o=s.width,a=s.height;const h=Zs();(!h||h&&e==="fixed")&&(i=s.offsetLeft,c=s.offsetTop)}const d=An(n);if(d<=0){const h=n.ownerDocument,f=h.body,p=getComputedStyle(f),m=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-m);y<=Sa&&(o-=y)}else d<=Sa&&(o+=d);return{width:o,height:a,x:i,y:c}}const e1=new Set(["absolute","fixed"]);function t1(t,e){const r=gt(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Le(t)?Dt(t):De(1),a=t.clientWidth*o.x,i=t.clientHeight*o.y,c=s*o.x,d=n*o.y;return{width:a,height:i,x:c,y:d}}function ka(t,e,r){let n;if(e==="viewport")n=Qm(t,r);else if(e==="document")n=Zm(Fe(t));else if(Oe(e))n=t1(e,r);else{const s=ic(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return fn(n)}function lc(t,e){const r=ot(t);return r===e||!Oe(r)||Ut(r)?!1:Pe(r).position==="fixed"||lc(r,e)}function r1(t,e){const r=e.get(t);if(r)return r;let n=hr(t,[],!1).filter(i=>Oe(i)&&qt(i)!=="body"),s=null;const o=Pe(t).position==="fixed";let a=o?ot(t):t;for(;Oe(a)&&!Ut(a);){const i=Pe(a),c=Xs(a);!c&&i.position==="fixed"&&(s=null),(o?!c&&!s:!c&&i.position==="static"&&!!s&&e1.has(s.position)||_r(a)&&!c&&lc(t,a))?n=n.filter(h=>h!==a):s=i,a=ot(a)}return e.set(t,n),n}function n1(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const a=[...r==="clippingAncestors"?Rn(e)?[]:r1(e,this._c):[].concat(r),n],i=a[0],c=a.reduce((d,h)=>{const f=ka(e,h,s);return d.top=we(f.top,d.top),d.right=st(f.right,d.right),d.bottom=st(f.bottom,d.bottom),d.left=we(f.left,d.left),d},ka(e,i,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function s1(t){const{width:e,height:r}=ac(t);return{width:e,height:r}}function o1(t,e,r){const n=Le(e),s=Fe(e),o=r==="fixed",a=gt(t,!0,o,e);let i={scrollLeft:0,scrollTop:0};const c=De(0);function d(){c.x=An(s)}if(n||!n&&!o)if((qt(e)!=="body"||_r(s))&&(i=jn(e)),n){const m=gt(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&d();o&&!n&&s&&d();const h=s&&!n&&!o?cc(s,i):De(0),f=a.left+i.scrollLeft-c.x-h.x,p=a.top+i.scrollTop-c.y-h.y;return{x:f,y:p,width:a.width,height:a.height}}function Jn(t){return Pe(t).position==="static"}function Ca(t,e){if(!Le(t)||Pe(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Fe(t)===r&&(r=r.ownerDocument.body),r}function uc(t,e){const r=Ee(t);if(Rn(t))return r;if(!Le(t)){let s=ot(t);for(;s&&!Ut(s);){if(Oe(s)&&!Jn(s))return s;s=ot(s)}return r}let n=Ca(t,e);for(;n&&Bm(n)&&Jn(n);)n=Ca(n,e);return n&&Ut(n)&&Jn(n)&&!Xs(n)?r:n||qm(t)||r}const a1=async function(t){const e=this.getOffsetParent||uc,r=this.getDimensions,n=await r(t.floating);return{reference:o1(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function i1(t){return Pe(t).direction==="rtl"}const c1={convertOffsetParentRelativeRectToViewportRelativeRect:Ym,getDocumentElement:Fe,getClippingRect:n1,getOffsetParent:uc,getElementRects:a1,getClientRects:Xm,getDimensions:s1,getScale:Dt,isElement:Oe,isRTL:i1};function dc(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function l1(t,e){let r=null,n;const s=Fe(t);function o(){var i;clearTimeout(n),(i=r)==null||i.disconnect(),r=null}function a(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),o();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:m}=d;if(i||e(),!p||!m)return;const y=Vr(f),v=Vr(s.clientWidth-(h+p)),g=Vr(s.clientHeight-(f+m)),b=Vr(h),w={rootMargin:-y+"px "+-v+"px "+-g+"px "+-b+"px",threshold:we(0,st(1,c))||1};let _=!0;function E(C){const S=C[0].intersectionRatio;if(S!==c){if(!_)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!dc(d,t.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(E,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,w)}r.observe(t)}return a(!0),o}function u1(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Qs(t),h=s||o?[...d?hr(d):[],...hr(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),o&&b.addEventListener("resize",r)});const f=d&&i?l1(d,r):null;let p=-1,m=null;a&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),r()}),d&&!c&&m.observe(d),m.observe(e));let y,v=c?gt(t):null;c&&g();function g(){const b=gt(t);v&&!dc(v,b)&&r(),v=b,y=requestAnimationFrame(g)}return r(),()=>{var b;h.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const d1=Im,h1=Mm,f1=Nm,p1=Lm,m1=Om,$a=Am,g1=Dm,v1=(t,e,r)=>{const n=new Map,s={platform:c1,...r},o={...s.platform,_c:n};return jm(t,e,{...s,platform:o})};var y1=typeof document<"u",b1=function(){},Qr=y1?u.useLayoutEffect:b1;function pn(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!pn(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!pn(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function hc(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ta(t,e){const r=hc(t);return Math.round(e*r)/r}function Yn(t){const e=u.useRef(t);return Qr(()=>{e.current=t}),e}function w1(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:i=!0,whileElementsMounted:c,open:d}=t,[h,f]=u.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=u.useState(n);pn(p,n)||m(n);const[y,v]=u.useState(null),[g,b]=u.useState(null),x=u.useCallback(L=>{L!==C.current&&(C.current=L,v(L))},[]),w=u.useCallback(L=>{L!==S.current&&(S.current=L,b(L))},[]),_=o||y,E=a||g,C=u.useRef(null),S=u.useRef(null),T=u.useRef(h),N=c!=null,D=Yn(c),V=Yn(s),O=Yn(d),Q=u.useCallback(()=>{if(!C.current||!S.current)return;const L={placement:e,strategy:r,middleware:p};V.current&&(L.platform=V.current),v1(C.current,S.current,L).then(j=>{const Y={...j,isPositioned:O.current!==!1};R.current&&!pn(T.current,Y)&&(T.current=Y,mr.flushSync(()=>{f(Y)}))})},[p,e,r,V,O]);Qr(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[d]);const R=u.useRef(!1);Qr(()=>(R.current=!0,()=>{R.current=!1}),[]),Qr(()=>{if(_&&(C.current=_),E&&(S.current=E),_&&E){if(D.current)return D.current(_,E,Q);Q()}},[_,E,Q,D,N]);const z=u.useMemo(()=>({reference:C,floating:S,setReference:x,setFloating:w}),[x,w]),P=u.useMemo(()=>({reference:_,floating:E}),[_,E]),J=u.useMemo(()=>{const L={position:r,left:0,top:0};if(!P.floating)return L;const j=Ta(P.floating,h.x),Y=Ta(P.floating,h.y);return i?{...L,transform:"translate("+j+"px, "+Y+"px)",...hc(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:j,top:Y}},[r,i,P.floating,h.x,h.y]);return u.useMemo(()=>({...h,update:Q,refs:z,elements:P,floatingStyles:J}),[h,Q,z,P,J])}const x1=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?$a({element:n.current,padding:s}).fn(r):{}:n?$a({element:n,padding:s}).fn(r):{}}}},_1=(t,e)=>({...d1(t),options:[t,e]}),E1=(t,e)=>({...h1(t),options:[t,e]}),S1=(t,e)=>({...g1(t),options:[t,e]}),k1=(t,e)=>({...f1(t),options:[t,e]}),C1=(t,e)=>({...p1(t),options:[t,e]}),$1=(t,e)=>({...m1(t),options:[t,e]}),T1=(t,e)=>({...x1(t),options:[t,e]});const Ts=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{};function R1(t){const[e,r]=u.useState(void 0);return Ts(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,i;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,i=d.blockSize}else a=t.offsetWidth,i=t.offsetHeight;r({width:a,height:i})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}const fc="Popper",[pc,mc]=xr(fc),[j1,gc]=pc(fc),A1=t=>{const{__scopePopper:e,children:r}=t,[n,s]=u.useState(null);return u.createElement(j1,{scope:e,anchor:n,onAnchorChange:s},r)},N1="PopperAnchor",O1=u.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=gc(N1,r),a=u.useRef(null),i=Se(e,a);return u.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:u.createElement(Ce.div,F({},s,{ref:i}))}),vc="PopperContent",[P1,vy]=pc(vc),I1=u.forwardRef((t,e)=>{var r,n,s,o,a,i,c,d;const{__scopePopper:h,side:f="bottom",sideOffset:p=0,align:m="center",alignOffset:y=0,arrowPadding:v=0,avoidCollisions:g=!0,collisionBoundary:b=[],collisionPadding:x=0,sticky:w="partial",hideWhenDetached:_=!1,updatePositionStrategy:E="optimized",onPlaced:C,...S}=t,T=gc(vc,h),[N,D]=u.useState(null),V=Se(e,Ge=>D(Ge)),[O,Q]=u.useState(null),R=R1(O),z=(r=R==null?void 0:R.width)!==null&&r!==void 0?r:0,P=(n=R==null?void 0:R.height)!==null&&n!==void 0?n:0,J=f+(m!=="center"?"-"+m:""),L=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},j=Array.isArray(b)?b:[b],Y=j.length>0,te={padding:L,boundary:j.filter(M1),altBoundary:Y},{refs:ae,floatingStyles:de,placement:ge,isPositioned:ke,middlewareData:le}=w1({strategy:"fixed",placement:J,whileElementsMounted:(...Ge)=>u1(...Ge,{animationFrame:E==="always"}),elements:{reference:T.anchor},middleware:[_1({mainAxis:p+P,alignmentAxis:y}),g&&E1({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?S1():void 0,...te}),g&&k1({...te}),C1({...te,apply:({elements:Ge,rects:Gt,availableWidth:Tr,availableHeight:Rr})=>{const{width:jr,height:Ar}=Gt.reference,it=Ge.floating.style;it.setProperty("--radix-popper-available-width",`${Tr}px`),it.setProperty("--radix-popper-available-height",`${Rr}px`),it.setProperty("--radix-popper-anchor-width",`${jr}px`),it.setProperty("--radix-popper-anchor-height",`${Ar}px`)}}),O&&T1({element:O,padding:v}),D1({arrowWidth:z,arrowHeight:P}),_&&$1({strategy:"referenceHidden",...te})]}),[$,I]=yc(ge),k=nt(C);Ts(()=>{ke&&(k==null||k())},[ke,k]);const me=(s=le.arrow)===null||s===void 0?void 0:s.x,bt=(o=le.arrow)===null||o===void 0?void 0:o.y,wt=((a=le.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[Cr,$r]=u.useState();return Ts(()=>{N&&$r(window.getComputedStyle(N).zIndex)},[N]),u.createElement("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:ke?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Cr,"--radix-popper-transform-origin":[(i=le.transformOrigin)===null||i===void 0?void 0:i.x,(c=le.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:t.dir},u.createElement(P1,{scope:h,placedSide:$,onArrowChange:Q,arrowX:me,arrowY:bt,shouldHideArrow:wt},u.createElement(Ce.div,F({"data-side":$,"data-align":I},S,{ref:V,style:{...S.style,animation:ke?void 0:"none",opacity:(d=le.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function M1(t){return t!==null}const D1=t=>({name:"transformOrigin",options:t,fn(e){var r,n,s,o,a;const{placement:i,rects:c,middlewareData:d}=e,f=((r=d.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,p=f?0:t.arrowWidth,m=f?0:t.arrowHeight,[y,v]=yc(i),g={start:"0%",center:"50%",end:"100%"}[v],b=((n=(s=d.arrow)===null||s===void 0?void 0:s.x)!==null&&n!==void 0?n:0)+p/2,x=((o=(a=d.arrow)===null||a===void 0?void 0:a.y)!==null&&o!==void 0?o:0)+m/2;let w="",_="";return y==="bottom"?(w=f?g:`${b}px`,_=`${-m}px`):y==="top"?(w=f?g:`${b}px`,_=`${c.floating.height+m}px`):y==="right"?(w=`${-m}px`,_=f?g:`${x}px`):y==="left"&&(w=`${c.floating.width+m}px`,_=f?g:`${x}px`),{data:{x:w,y:_}}}});function yc(t){const[e,r="center"]=t.split("-");return[e,r]}const L1=A1,U1=O1,F1=I1,B1=u.forwardRef((t,e)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=t;return n?Ba.createPortal(u.createElement(Ce.div,F({},s,{ref:e})),n):null}),Ra=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{};function z1(t,e){return u.useReducer((r,n)=>{const s=e[r][n];return s??r},t)}const Er=t=>{const{present:e,children:r}=t,n=V1(e),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),o=Se(n.ref,s.ref);return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:o}):null};Er.displayName="Presence";function V1(t){const[e,r]=u.useState(),n=u.useRef({}),s=u.useRef(t),o=u.useRef("none"),a=t?"mounted":"unmounted",[i,c]=z1(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Wr(n.current);o.current=i==="mounted"?d:"none"},[i]),Ra(()=>{const d=n.current,h=s.current;if(h!==t){const p=o.current,m=Wr(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ra(()=>{if(e){const d=f=>{const m=Wr(n.current).includes(f.animationName);f.target===e&&m&&mr.flushSync(()=>c("ANIMATION_END"))},h=f=>{f.target===e&&(o.current=Wr(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:u.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Wr(t){return(t==null?void 0:t.animationName)||"none"}const Xn="rovingFocusGroup.onEntryFocus",W1={bubbles:!1,cancelable:!0},eo="RovingFocusGroup",[Rs,bc,K1]=Zi(eo),[q1,wc]=xr(eo,[K1]),[H1,G1]=q1(eo),J1=u.forwardRef((t,e)=>u.createElement(Rs.Provider,{scope:t.__scopeRovingFocusGroup},u.createElement(Rs.Slot,{scope:t.__scopeRovingFocusGroup},u.createElement(Y1,F({},t,{ref:e}))))),Y1=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:d,...h}=t,f=u.useRef(null),p=Se(e,f),m=Qi(o),[y=null,v]=Ji({prop:a,defaultProp:i,onChange:c}),[g,b]=u.useState(!1),x=nt(d),w=bc(r),_=u.useRef(!1),[E,C]=u.useState(0);return u.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(Xn,x),()=>S.removeEventListener(Xn,x)},[x]),u.createElement(H1,{scope:r,orientation:n,dir:m,loop:s,currentTabStopId:y,onItemFocus:u.useCallback(S=>v(S),[v]),onItemShiftTab:u.useCallback(()=>b(!0),[]),onFocusableItemAdd:u.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:u.useCallback(()=>C(S=>S-1),[])},u.createElement(Ce.div,F({tabIndex:g||E===0?-1:0,"data-orientation":n},h,{ref:p,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{_.current=!0}),onFocus:ee(t.onFocus,S=>{const T=!_.current;if(S.target===S.currentTarget&&T&&!g){const N=new CustomEvent(Xn,W1);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const D=w().filter(z=>z.focusable),V=D.find(z=>z.active),O=D.find(z=>z.id===y),R=[V,O,...D].filter(Boolean).map(z=>z.ref.current);xc(R)}}_.current=!1}),onBlur:ee(t.onBlur,()=>b(!1))})))}),X1="RovingFocusGroupItem",Z1=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...a}=t,i=Ss(),c=o||i,d=G1(X1,r),h=d.currentTabStopId===c,f=bc(r),{onFocusableItemAdd:p,onFocusableItemRemove:m}=d;return u.useEffect(()=>{if(n)return p(),()=>m()},[n,p,m]),u.createElement(Rs.ItemSlot,{scope:r,id:c,focusable:n,active:s},u.createElement(Ce.span,F({tabIndex:h?0:-1,"data-orientation":d.orientation},a,{ref:e,onMouseDown:ee(t.onMouseDown,y=>{n?d.onItemFocus(c):y.preventDefault()}),onFocus:ee(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ee(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=t0(y,d.orientation,d.dir);if(v!==void 0){y.preventDefault();let b=f().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const x=b.indexOf(y.currentTarget);b=d.loop?r0(b,x+1):b.slice(x+1)}setTimeout(()=>xc(b))}})})))}),Q1={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e0(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function t0(t,e,r){const n=e0(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Q1[n]}function xc(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function r0(t,e){return t.map((r,n)=>t[(e+n)%t.length])}const n0=J1,s0=Z1;var o0=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$t=new WeakMap,Kr=new WeakMap,qr={},Zn=0,_c=function(t){return t&&(t.host||_c(t.parentNode))},a0=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=_c(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},i0=function(t,e,r,n){var s=a0(e,Array.isArray(t)?t:[t]);qr[r]||(qr[r]=new WeakMap);var o=qr[r],a=[],i=new Set,c=new Set(s),d=function(f){!f||i.has(f)||(i.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(i.has(p))h(p);else try{var m=p.getAttribute(n),y=m!==null&&m!=="false",v=($t.get(p)||0)+1,g=(o.get(p)||0)+1;$t.set(p,v),o.set(p,g),a.push(p),v===1&&y&&Kr.set(p,!0),g===1&&p.setAttribute(r,"true"),y||p.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),i.clear(),Zn++,function(){a.forEach(function(f){var p=$t.get(f)-1,m=o.get(f)-1;$t.set(f,p),o.set(f,m),p||(Kr.has(f)||f.removeAttribute(n),Kr.delete(f)),m||f.removeAttribute(r)}),Zn--,Zn||($t=new WeakMap,$t=new WeakMap,Kr=new WeakMap,qr={})}},c0=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=o0(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),i0(n,s,r,"aria-hidden")):function(){return null}},en="right-scroll-bar-position",tn="width-before-scroll-bar",l0="with-scroll-bars-hidden",u0="--removed-body-scroll-bar-size";function Qn(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function d0(t,e){var r=u.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var h0=typeof window<"u"?u.useLayoutEffect:u.useEffect,ja=new WeakMap;function f0(t,e){var r=d0(null,function(n){return t.forEach(function(s){return Qn(s,n)})});return h0(function(){var n=ja.get(r);if(n){var s=new Set(n),o=new Set(t),a=r.current;s.forEach(function(i){o.has(i)||Qn(i,null)}),o.forEach(function(i){s.has(i)||Qn(i,a)})}ja.set(r,t)},[t]),r}function p0(t){return t}function m0(t,e){e===void 0&&(e=p0);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var a=e(o,n);return r.push(a),function(){r=r.filter(function(i){return i!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(i){return o(i)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var i=r;r=[],i.forEach(o),a=r}var c=function(){var h=a;a=[],h.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),r}}}};return s}function g0(t){t===void 0&&(t={});var e=m0(null);return e.options=Ie({async:!0,ssr:!1},t),e}var Ec=function(t){var e=t.sideCar,r=Vt(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,Ie({},r))};Ec.isSideCarExport=!0;function v0(t,e){return t.useMedium(e),Ec}var Sc=g0(),es=function(){},Nn=u.forwardRef(function(t,e){var r=u.useRef(null),n=u.useState({onScrollCapture:es,onWheelCapture:es,onTouchMoveCapture:es}),s=n[0],o=n[1],a=t.forwardProps,i=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,m=t.noIsolation,y=t.inert,v=t.allowPinchZoom,g=t.as,b=g===void 0?"div":g,x=Vt(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=p,_=f0([r,e]),E=Ie(Ie({},x),s);return u.createElement(u.Fragment,null,h&&u.createElement(w,{sideCar:Sc,removeScrollBar:d,shards:f,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!v,lockRef:r}),a?u.cloneElement(u.Children.only(i),Ie(Ie({},E),{ref:_})):u.createElement(b,Ie({},E,{className:c,ref:_}),i))});Nn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nn.classNames={fullWidth:tn,zeroRight:en};var y0=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function b0(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=y0();return e&&t.setAttribute("nonce",e),t}function w0(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function x0(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _0=function(){var t=0,e=null;return{add:function(r){t==0&&(e=b0())&&(w0(e,r),x0(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},E0=function(){var t=_0();return function(e,r){u.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},kc=function(){var t=E0(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},S0={left:0,top:0,right:0,gap:0},ts=function(t){return parseInt(t||"",10)||0},k0=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ts(r),ts(n),ts(s)]},C0=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return S0;var e=k0(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},$0=kc(),Lt="data-scroll-locked",T0=function(t,e,r,n){var s=t.left,o=t.top,a=t.right,i=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(l0,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(i,"px ").concat(n,`;
  }
  body[`).concat(Lt,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(en,` {
    right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(tn,` {
    margin-right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(en," .").concat(en,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(tn," .").concat(tn,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lt,`] {
    `).concat(u0,": ").concat(i,`px;
  }
`)},Aa=function(){var t=parseInt(document.body.getAttribute(Lt)||"0",10);return isFinite(t)?t:0},R0=function(){u.useEffect(function(){return document.body.setAttribute(Lt,(Aa()+1).toString()),function(){var t=Aa()-1;t<=0?document.body.removeAttribute(Lt):document.body.setAttribute(Lt,t.toString())}},[])},j0=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;R0();var o=u.useMemo(function(){return C0(s)},[s]);return u.createElement($0,{styles:T0(o,!e,s,r?"":"!important")})},js=!1;if(typeof window<"u")try{var Hr=Object.defineProperty({},"passive",{get:function(){return js=!0,!0}});window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{js=!1}var Tt=js?{passive:!1}:!1,A0=function(t){return t.tagName==="TEXTAREA"},Cc=function(t,e){var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!A0(t)&&r[e]==="visible")},N0=function(t){return Cc(t,"overflowY")},O0=function(t){return Cc(t,"overflowX")},Na=function(t,e){var r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=$c(t,r);if(n){var s=Tc(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},P0=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},I0=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},$c=function(t,e){return t==="v"?N0(e):O0(e)},Tc=function(t,e){return t==="v"?P0(e):I0(e)},M0=function(t,e){return t==="h"&&e==="rtl"?-1:1},D0=function(t,e,r,n,s){var o=M0(t,window.getComputedStyle(e).direction),a=o*n,i=r.target,c=e.contains(i),d=!1,h=a>0,f=0,p=0;do{var m=Tc(t,i),y=m[0],v=m[1],g=m[2],b=v-g-o*y;(y||b)&&$c(t,i)&&(f+=b,p+=y),i=i.parentNode}while(!c&&i!==document.body||c&&(e.contains(i)||e===i));return(h&&f===0||!h&&p===0)&&(d=!0),d},Gr=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Oa=function(t){return[t.deltaX,t.deltaY]},Pa=function(t){return t&&"current"in t?t.current:t},L0=function(t,e){return t[0]===e[0]&&t[1]===e[1]},U0=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},F0=0,Rt=[];function B0(t){var e=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),s=u.useState(F0++)[0],o=u.useState(function(){return kc()})[0],a=u.useRef(t);u.useEffect(function(){a.current=t},[t]),u.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=fh([t.lockRef.current],(t.shards||[]).map(Pa),!0).filter(Boolean);return v.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var i=u.useCallback(function(v,g){if("touches"in v&&v.touches.length===2)return!a.current.allowPinchZoom;var b=Gr(v),x=r.current,w="deltaX"in v?v.deltaX:x[0]-b[0],_="deltaY"in v?v.deltaY:x[1]-b[1],E,C=v.target,S=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in v&&S==="h"&&C.type==="range")return!1;var T=Na(S,C);if(!T)return!0;if(T?E=S:(E=S==="v"?"h":"v",T=Na(S,C)),!T)return!1;if(!n.current&&"changedTouches"in v&&(w||_)&&(n.current=E),!E)return!0;var N=n.current||E;return D0(N,g,v,N==="h"?w:_)},[]),c=u.useCallback(function(v){var g=v;if(!(!Rt.length||Rt[Rt.length-1]!==o)){var b="deltaY"in g?Oa(g):Gr(g),x=e.current.filter(function(E){return E.name===g.type&&E.target===g.target&&L0(E.delta,b)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var w=(a.current.shards||[]).map(Pa).filter(Boolean).filter(function(E){return E.contains(g.target)}),_=w.length>0?i(g,w[0]):!a.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),d=u.useCallback(function(v,g,b,x){var w={name:v,delta:g,target:b,should:x};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),h=u.useCallback(function(v){r.current=Gr(v),n.current=void 0},[]),f=u.useCallback(function(v){d(v.type,Oa(v),v.target,i(v,t.lockRef.current))},[]),p=u.useCallback(function(v){d(v.type,Gr(v),v.target,i(v,t.lockRef.current))},[]);u.useEffect(function(){return Rt.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Tt),document.addEventListener("touchmove",c,Tt),document.addEventListener("touchstart",h,Tt),function(){Rt=Rt.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Tt),document.removeEventListener("touchmove",c,Tt),document.removeEventListener("touchstart",h,Tt)}},[]);var m=t.removeScrollBar,y=t.inert;return u.createElement(u.Fragment,null,y?u.createElement(o,{styles:U0(s)}):null,m?u.createElement(j0,{gapMode:"margin"}):null)}const z0=v0(Sc,B0);var Rc=u.forwardRef(function(t,e){return u.createElement(Nn,Ie({},t,{ref:e,sideCar:z0}))});Rc.classNames=Nn.classNames;const As=["Enter"," "],V0=["ArrowDown","PageUp","Home"],jc=["ArrowUp","PageDown","End"],W0=[...V0,...jc],K0={ltr:[...As,"ArrowRight"],rtl:[...As,"ArrowLeft"]},q0={ltr:["ArrowLeft"],rtl:["ArrowRight"]},On="Menu",[fr,H0,G0]=Zi(On),[vt,Ac]=xr(On,[G0,mc,wc]),to=mc(),Nc=wc(),[J0,yt]=vt(On),[Y0,Sr]=vt(On),X0=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:a=!0}=t,i=to(e),[c,d]=u.useState(null),h=u.useRef(!1),f=nt(o),p=Qi(s);return u.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),u.createElement(L1,i,u.createElement(J0,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:d},u.createElement(Y0,{scope:e,onClose:u.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:a},n)))},Oc=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=to(r);return u.createElement(U1,F({},s,n,{ref:e}))}),Pc="MenuPortal",[Z0,Ic]=vt(Pc,{forceMount:void 0}),Q0=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=yt(Pc,e);return u.createElement(Z0,{scope:e,forceMount:r},u.createElement(Er,{present:r||o.open},u.createElement(B1,{asChild:!0,container:s},n)))},Ae="MenuContent",[eg,ro]=vt(Ae),tg=u.forwardRef((t,e)=>{const r=Ic(Ae,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=yt(Ae,t.__scopeMenu),a=Sr(Ae,t.__scopeMenu);return u.createElement(fr.Provider,{scope:t.__scopeMenu},u.createElement(Er,{present:n||o.open},u.createElement(fr.Slot,{scope:t.__scopeMenu},a.modal?u.createElement(rg,F({},s,{ref:e})):u.createElement(ng,F({},s,{ref:e})))))}),rg=u.forwardRef((t,e)=>{const r=yt(Ae,t.__scopeMenu),n=u.useRef(null),s=Se(e,n);return u.useEffect(()=>{const o=n.current;if(o)return c0(o)},[]),u.createElement(no,F({},t,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),ng=u.forwardRef((t,e)=>{const r=yt(Ae,t.__scopeMenu);return u.createElement(no,F({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),no=u.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:y,...v}=t,g=yt(Ae,r),b=Sr(Ae,r),x=to(r),w=Nc(r),_=H0(r),[E,C]=u.useState(null),S=u.useRef(null),T=Se(e,S,g.onContentChange),N=u.useRef(0),D=u.useRef(""),V=u.useRef(0),O=u.useRef(null),Q=u.useRef("right"),R=u.useRef(0),z=y?Rc:u.Fragment,P=y?{as:un,allowPinchZoom:!0}:void 0,J=j=>{var Y,te;const ae=D.current+j,de=_().filter(k=>!k.disabled),ge=document.activeElement,ke=(Y=de.find(k=>k.ref.current===ge))===null||Y===void 0?void 0:Y.textValue,le=de.map(k=>k.textValue),$=bg(le,ae,ke),I=(te=de.find(k=>k.textValue===$))===null||te===void 0?void 0:te.ref.current;(function k(me){D.current=me,window.clearTimeout(N.current),me!==""&&(N.current=window.setTimeout(()=>k(""),1e3))})(ae),I&&setTimeout(()=>I.focus())};u.useEffect(()=>()=>window.clearTimeout(N.current),[]),im();const L=u.useCallback(j=>{var Y,te;return Q.current===((Y=O.current)===null||Y===void 0?void 0:Y.side)&&xg(j,(te=O.current)===null||te===void 0?void 0:te.area)},[]);return u.createElement(eg,{scope:r,searchRef:D,onItemEnter:u.useCallback(j=>{L(j)&&j.preventDefault()},[L]),onItemLeave:u.useCallback(j=>{var Y;L(j)||((Y=S.current)===null||Y===void 0||Y.focus(),C(null))},[L]),onTriggerLeave:u.useCallback(j=>{L(j)&&j.preventDefault()},[L]),pointerGraceTimerRef:V,onPointerGraceIntentChange:u.useCallback(j=>{O.current=j},[])},u.createElement(z,P,u.createElement(cm,{asChild:!0,trapped:s,onMountAutoFocus:ee(o,j=>{var Y;j.preventDefault(),(Y=S.current)===null||Y===void 0||Y.focus()}),onUnmountAutoFocus:a},u.createElement(sm,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m},u.createElement(n0,F({asChild:!0},w,{dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:C,onEntryFocus:ee(c,j=>{b.isUsingKeyboardRef.current||j.preventDefault()})}),u.createElement(F1,F({role:"menu","aria-orientation":"vertical","data-state":Fc(g.open),"data-radix-menu-content":"",dir:b.dir},x,v,{ref:T,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,j=>{const te=j.target.closest("[data-radix-menu-content]")===j.currentTarget,ae=j.ctrlKey||j.altKey||j.metaKey,de=j.key.length===1;te&&(j.key==="Tab"&&j.preventDefault(),!ae&&de&&J(j.key));const ge=S.current;if(j.target!==ge||!W0.includes(j.key))return;j.preventDefault();const le=_().filter($=>!$.disabled).map($=>$.ref.current);jc.includes(j.key)&&le.reverse(),vg(le)}),onBlur:ee(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(N.current),D.current="")}),onPointerMove:ee(t.onPointerMove,pr(j=>{const Y=j.target,te=R.current!==j.clientX;if(j.currentTarget.contains(Y)&&te){const ae=j.clientX>R.current?"right":"left";Q.current=ae,R.current=j.clientX}}))})))))))}),sg=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.createElement(Ce.div,F({},n,{ref:e}))}),Ns="MenuItem",Ia="menu.itemSelect",so=u.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=u.useRef(null),a=Sr(Ns,t.__scopeMenu),i=ro(Ns,t.__scopeMenu),c=Se(e,o),d=u.useRef(!1),h=()=>{const f=o.current;if(!r&&f){const p=new CustomEvent(Ia,{bubbles:!0,cancelable:!0});f.addEventListener(Ia,m=>n==null?void 0:n(m),{once:!0}),Xi(f,p),p.defaultPrevented?d.current=!1:a.onClose()}};return u.createElement(Mc,F({},s,{ref:c,disabled:r,onClick:ee(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)===null||p===void 0||p.call(t,f),d.current=!0},onPointerUp:ee(t.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)===null||p===void 0||p.click()}),onKeyDown:ee(t.onKeyDown,f=>{const p=i.searchRef.current!=="";r||p&&f.key===" "||As.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),Mc=u.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,a=ro(Ns,r),i=Nc(r),c=u.useRef(null),d=Se(e,c),[h,f]=u.useState(!1),[p,m]=u.useState("");return u.useEffect(()=>{const y=c.current;if(y){var v;m(((v=y.textContent)!==null&&v!==void 0?v:"").trim())}},[o.children]),u.createElement(fr.ItemSlot,{scope:r,disabled:n,textValue:s??p},u.createElement(s0,F({asChild:!0},i,{focusable:!n}),u.createElement(Ce.div,F({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0},o,{ref:d,onPointerMove:ee(t.onPointerMove,pr(y=>{n?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus())})),onPointerLeave:ee(t.onPointerLeave,pr(y=>a.onItemLeave(y))),onFocus:ee(t.onFocus,()=>f(!0)),onBlur:ee(t.onBlur,()=>f(!1))}))))}),og=u.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return u.createElement(Lc,{scope:t.__scopeMenu,checked:r},u.createElement(so,F({role:"menuitemcheckbox","aria-checked":mn(r)?"mixed":r},s,{ref:e,"data-state":oo(r),onSelect:ee(s.onSelect,()=>n==null?void 0:n(mn(r)?!0:!r),{checkForDefaultPrevented:!1})})))}),ag="MenuRadioGroup",[yy,ig]=vt(ag,{value:void 0,onValueChange:()=>{}}),cg="MenuRadioItem",lg=u.forwardRef((t,e)=>{const{value:r,...n}=t,s=ig(cg,t.__scopeMenu),o=r===s.value;return u.createElement(Lc,{scope:t.__scopeMenu,checked:o},u.createElement(so,F({role:"menuitemradio","aria-checked":o},n,{ref:e,"data-state":oo(o),onSelect:ee(n.onSelect,()=>{var a;return(a=s.onValueChange)===null||a===void 0?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})))}),Dc="MenuItemIndicator",[Lc,ug]=vt(Dc,{checked:!1}),dg=u.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=ug(Dc,r);return u.createElement(Er,{present:n||mn(o.checked)||o.checked===!0},u.createElement(Ce.span,F({},s,{ref:e,"data-state":oo(o.checked)})))}),hg=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.createElement(Ce.div,F({role:"separator","aria-orientation":"horizontal"},n,{ref:e}))}),fg="MenuSub",[by,Uc]=vt(fg),Jr="MenuSubTrigger",pg=u.forwardRef((t,e)=>{const r=yt(Jr,t.__scopeMenu),n=Sr(Jr,t.__scopeMenu),s=Uc(Jr,t.__scopeMenu),o=ro(Jr,t.__scopeMenu),a=u.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},h=u.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return u.useEffect(()=>h,[h]),u.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),c(null)}},[i,c]),u.createElement(Oc,F({asChild:!0},d),u.createElement(Mc,F({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Fc(r.open)},t,{ref:wr(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)===null||p===void 0||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,pr(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:ee(t.onPointerLeave,pr(f=>{var p;h();const m=(p=r.content)===null||p===void 0?void 0:p.getBoundingClientRect();if(m){var y;const v=(y=r.content)===null||y===void 0?void 0:y.dataset.side,g=v==="right",b=g?-5:5,x=m[g?"left":"right"],w=m[g?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x,y:m.bottom}],side:v}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,f=>{const p=o.searchRef.current!=="";if(!(t.disabled||p&&f.key===" ")&&K0[n.dir].includes(f.key)){var m;r.onOpenChange(!0),(m=r.content)===null||m===void 0||m.focus(),f.preventDefault()}})})))}),mg="MenuSubContent",gg=u.forwardRef((t,e)=>{const r=Ic(Ae,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=yt(Ae,t.__scopeMenu),a=Sr(Ae,t.__scopeMenu),i=Uc(mg,t.__scopeMenu),c=u.useRef(null),d=Se(e,c);return u.createElement(fr.Provider,{scope:t.__scopeMenu},u.createElement(Er,{present:n||o.open},u.createElement(fr.Slot,{scope:t.__scopeMenu},u.createElement(no,F({id:i.contentId,"aria-labelledby":i.triggerId},s,{ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)===null||f===void 0||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ee(t.onFocusOutside,h=>{h.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{const f=h.currentTarget.contains(h.target),p=q0[a.dir].includes(h.key);if(f&&p){var m;o.onOpenChange(!1),(m=i.trigger)===null||m===void 0||m.focus(),h.preventDefault()}})})))))});function Fc(t){return t?"open":"closed"}function mn(t){return t==="indeterminate"}function oo(t){return mn(t)?"indeterminate":t?"checked":"unchecked"}function vg(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function yg(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function bg(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=yg(t,Math.max(o,0));s.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function wg(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const i=e[o].x,c=e[o].y,d=e[a].x,h=e[a].y;c>n!=h>n&&r<(d-i)*(n-c)/(h-c)+i&&(s=!s)}return s}function xg(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return wg(r,e)}function pr(t){return e=>e.pointerType==="mouse"?t(e):void 0}const _g=X0,Eg=Oc,Sg=Q0,kg=tg,Cg=sg,$g=so,Tg=og,Rg=lg,jg=dg,Ag=hg,Ng=pg,Og=gg,Bc="DropdownMenu",[Pg]=xr(Bc,[Ac]),$e=Ac(),[Ig,zc]=Pg(Bc),Mg=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:a,modal:i=!0}=t,c=$e(e),d=u.useRef(null),[h=!1,f]=Ji({prop:s,defaultProp:o,onChange:a});return u.createElement(Ig,{scope:e,triggerId:Ss(),triggerRef:d,contentId:Ss(),open:h,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(p=>!p),[f]),modal:i},u.createElement(_g,F({},c,{open:h,onOpenChange:f,dir:n,modal:i}),r))},Dg="DropdownMenuTrigger",Lg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=zc(Dg,r),a=$e(r);return u.createElement(Eg,F({asChild:!0},a),u.createElement(Ce.button,F({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},s,{ref:wr(e,o.triggerRef),onPointerDown:ee(t.onPointerDown,i=>{!n&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:ee(t.onKeyDown,i=>{n||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})))}),Ug=t=>{const{__scopeDropdownMenu:e,...r}=t,n=$e(e);return u.createElement(Sg,F({},n,r))},Fg="DropdownMenuContent",Bg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=zc(Fg,r),o=$e(r),a=u.useRef(!1);return u.createElement(kg,F({id:s.contentId,"aria-labelledby":s.triggerId},o,n,{ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var c;a.current||(c=s.triggerRef.current)===null||c===void 0||c.focus(),a.current=!1,i.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),zg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=$e(r);return u.createElement(Cg,F({},s,n,{ref:e}))}),Vg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=$e(r);return u.createElement($g,F({},s,n,{ref:e}))}),Wg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=$e(r);return u.createElement(Tg,F({},s,n,{ref:e}))}),Kg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=$e(r);return u.createElement(Rg,F({},s,n,{ref:e}))}),qg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=$e(r);return u.createElement(jg,F({},s,n,{ref:e}))}),Hg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=$e(r);return u.createElement(Ag,F({},s,n,{ref:e}))}),Gg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=$e(r);return u.createElement(Ng,F({},s,n,{ref:e}))}),Jg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=$e(r);return u.createElement(Og,F({},s,n,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Yg=Mg,Xg=Lg,Zg=Ug,Vc=Bg,Wc=zg,Kc=Vg,qc=Wg,Hc=Kg,Gc=qg,Jc=Hg,Yc=Gg,Xc=Jg,Qg=Yg,e2=Xg,t2=u.forwardRef(({className:t,inset:e,children:r,...n},s)=>l.jsxs(Yc,{ref:s,className:X("flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden hover:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,l.jsx(Xu,{className:"ml-auto h-4 w-4"})]}));t2.displayName=Yc.displayName;const r2=u.forwardRef(({className:t,...e},r)=>l.jsx(Xc,{ref:r,className:X("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));r2.displayName=Xc.displayName;const Zc=u.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(Zg,{children:l.jsx(Vc,{ref:n,sideOffset:e,className:X("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Zc.displayName=Vc.displayName;const Os=u.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(Kc,{ref:n,className:X("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden transition-colors hover:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e&&"pl-8",t),...r}));Os.displayName=Kc.displayName;const n2=u.forwardRef(({className:t,children:e,checked:r,...n},s)=>l.jsxs(qc,{ref:s,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Gc,{children:l.jsx(Ju,{className:"h-4 w-4"})})}),e]}));n2.displayName=qc.displayName;const s2=u.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(Hc,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Gc,{children:l.jsx(Zu,{className:"h-2 w-2 fill-current"})})}),e]}));s2.displayName=Hc.displayName;const o2=u.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(Wc,{ref:n,className:X("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));o2.displayName=Wc.displayName;const a2=u.forwardRef(({className:t,...e},r)=>l.jsx(Jc,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",t),...e}));a2.displayName=Jc.displayName;function i2(){const{isSignedIn:t,user:e}=at(),n=za().pathname==="/top3",{setTheme:s,resolvedTheme:o}=Jl(),a=Ds(),[i,c]=u.useState("");u.useEffect(()=>{(async()=>{if(e!=null&&e.id&&!i)try{const f=await ve.getByUserId(e.id);f&&c(f.username)}catch(f){console.error("Error loading user data:",f)}})()},[e,i]);const d=()=>l.jsxs("svg",{fill:"currentColor",width:"16px",height:"16px",viewBox:"0 -6 524 524",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("title",{children:"down"}),l.jsx("path",{d:"M64 191L98 157 262 320 426 157 460 191 262 387 64 191Z"})]});return l.jsxs("header",{className:`navigation flex justify-between items-center py-5 px-6 sm:px-8 md:px-20 lg:px-24 ${n?"bg-transparent":""}`,children:[l.jsx("div",{children:l.jsx(dh,{})}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("button",{className:"subscribe-button",children:""}),t?l.jsxs(l.Fragment,{children:[l.jsx(re,{asChild:!0,size:"sm",children:l.jsxs(tr,{to:"/dashboard/manage",className:"hero-btn gap-2",children:["",l.jsx(cs,{className:"!h-4 !w-4"})]})}),l.jsx(Nr,{appearance:{elements:{avatarBox:" !h-8 !w-8 ",userButtonTrigger:"p-0"}},afterSignOutUrl:"/",children:l.jsxs(Nr.MenuItems,{children:[l.jsx(Nr.Action,{label:"",labelIcon:l.jsx(rd,{className:"h-4 w-4"}),onClick:()=>a("/dashboard")}),l.jsx(Nr.Action,{label:" ",labelIcon:l.jsx(yi,{className:"h-4 w-4"}),onClick:()=>{i&&a(`/${i}`)}})]})})]}):l.jsx(re,{asChild:!0,size:"sm",children:l.jsxs(tr,{to:"/auth/sign-in",className:"hero-btn gap-2",children:["",l.jsx(cs,{className:"!h-4 !w-4"})]})}),l.jsxs(Qg,{children:[l.jsx(e2,{asChild:!0,children:l.jsxs(re,{variant:"outline",size:"sm",className:"gap-2 rounded-[9999px]",children:["",l.jsx(d,{})]})}),l.jsxs(Zc,{align:"end",children:[l.jsx(Os,{onClick:()=>s(o==="light"?"dark":"light"),className:"min-nav flex items-center gap-2 cursor-pointer",children:o==="light"?l.jsxs(l.Fragment,{children:[l.jsx(id,{className:"h-4 w-4"})," "]}):l.jsxs(l.Fragment,{children:[l.jsx(hd,{className:"h-4 w-4"})," "]})}),l.jsx(Os,{asChild:!0,children:l.jsxs(tr,{to:"/top3",className:"min-nav flex items-center gap-2",children:[l.jsx(sn,{className:"h-4 w-4"}),""]})})]})]})]})]})}function c2(){return l.jsx("footer",{className:"px-6 h-32 flex items-center justify-center sm:px-10 md:px-30 text-center sm:text-left",children:l.jsxs("p",{className:"text-sm text-foreground/80 sm:text-base",children:["    ",l.jsx("a",{href:"/",className:"text-foreground underline",children:"LinkShot"})," -    "," ",l.jsx("a",{className:"text-foreground underline",href:"/",children:""}),"."]})})}function l2(){const{isSignedIn:t}=at(),e=u.useRef(null);return u.useEffect(()=>{const r=s=>{if(!e.current||document.querySelector('[data-state="open"]'))return;const a=e.current.getBoundingClientRect(),i=s.clientX-a.left,c=s.clientY-a.top,d=a.width/2,h=a.height/2,f=(i-d)/50,p=(c-h)/50,m=document.querySelector(".overlay-img"),y=document.querySelector(".overlay-img-right");m&&(m.style.transform=`rotate(-15deg) translateX(${p*.5}px) translateY(${-f*.5}px)`),y&&(y.style.transform=`rotate(15deg) translateX(${-p*.5}px) translateY(${f*.5}px)`)},n=e.current;return n&&n.addEventListener("mousemove",r),()=>{n&&n.removeEventListener("mousemove",r)}},[]),l.jsxs("div",{className:"hero-section py-14 px-6 md:px-20 lg:px-32 grid",ref:e,children:[l.jsx("div",{className:"border mb-4 w-fit mx-auto py-1.5 px-3 rounded-full bg-background",children:l.jsxs("p",{className:"text-xs flex items-center justify-center gap-1",children:[l.jsx(dd,{className:"h-4 w-4"}),"LinkShot  V1.0.1",l.jsx(Lo,{className:"h-4 w-4"})]})}),l.jsxs("div",{className:"grid place-content-center sm:text-center gap-2",children:[l.jsxs("h2",{className:"hero-title text-3xl max-w-md sm:max-w-3xl md:max-w-4xl sm:text-4xl font-medium md:text-5xl text-gray-900 dark:text-gray-50",children:["  ",l.jsx("span",{className:"hero-title animate-text-gradient inline-flex bg-gradient-to-r from-neutral-900 via-slate-500 to-neutral-500 bg-[200%_auto] bg-clip-text leading-tight text-transparent dark:from-neutral-100 dark:via-slate-400 dark:to-neutral-400",children:" ,  !"})]}),l.jsx("p",{className:"hero-des md:text-xl text-base sm:text-lg text-[13.5px] max-w-sm md:max-w-2xl text-center sm:mx-auto text-foreground/70 mt-4",children:"    LinkShot ,        ,    ."})]}),l.jsxs("div",{className:"hero-buttons flex items-center justify-center gap-2.5 mt-10",children:[l.jsx(re,{asChild:!0,children:l.jsxs(tr,{to:t?"/dashboard/manage":"/auth/sign-in",className:"hero-btn gap-2",children:[" ",l.jsx(cs,{className:"!h-4 !w-4"})]})}),l.jsx(re,{variant:"outline",asChild:!0,className:"hero-btn",children:l.jsxs("a",{href:"/pixeny",className:"flex items-center gap-1",target:"_blank",rel:"noopener noreferrer",children:["  ",l.jsx(Lo,{className:"h-4 w-4 -rotate-45"})]})})]}),l.jsx("div",{className:"mt-32 w-fit h-fit border-primary/10 border-2 rounded-lg mx-auto relative",children:l.jsx("img",{className:"demoimg rounded-lg",src:"/assets/homepage-dark.png",alt:"Preview"})})]})}const u2=()=>l.jsx("img",{src:"https://i.imgur.com/dbGUUjh.png",alt:"Fixed decoration",className:"fixed right-4 top-1/2 transform -translate-y-1/2 z-50 hidden lg:block xl:block",style:{height:"auto",width:"60px",display:"none",pointerEvents:"none"}}),d2=()=>{const[t,e]=u.useState(!1),[r,n]=u.useState(!1),s=Ds();u.useEffect(()=>{const d=setTimeout(()=>{o()},2e4),h=setInterval(()=>{o()},3e5);return()=>{clearTimeout(d),clearInterval(h)}},[]);const o=()=>{n(!0),setTimeout(()=>{e(!0)},100)},a=()=>{e(!1),setTimeout(()=>{n(!1)},300)},i=()=>{s("/"),a()},c=()=>{a()};return r?l.jsxs("div",{className:"popup-modal-overlay",children:[l.jsx("div",{className:`popup-modal-backdrop ${t?"popup-backdrop-visible":"popup-backdrop-hidden"}`,onClick:c}),l.jsxs("div",{className:`popup-modal-content ${t?"popup-content-visible":"popup-content-hidden"}`,children:[l.jsx("div",{className:"popup-modal-image-container",children:l.jsx("img",{src:"https://i.imgur.com/BBcEFpP.png",alt:"Popup Image",className:"popup-modal-image"})}),l.jsxs("div",{className:"popup-modal-buttons",children:[l.jsx("button",{onClick:i,className:"popup-modal-button popup-modal-button-primary",children:""}),l.jsx("button",{onClick:c,className:"popup-modal-button popup-modal-button-secondary",children:""})]})]})]}):null};function h2(){return l.jsx("div",{children:l.jsx(l2,{})})}function be(){return l.jsx("div",{className:"loader"})}function f2(){return l.jsxs("main",{className:"!bg-red-400 fixed top-0 left-0 right-0 h-full w-full flex justify-center items-center px-6",children:[l.jsx(Dl,{children:l.jsx("div",{className:"relative h-[264px] w-[500px] max-w-[300px]",children:l.jsx(be,{})})}),l.jsxs(Va,{children:[l.jsx(Ze,{path:"/sign-in/*",element:l.jsx(Ll,{})}),l.jsx(Ze,{path:"/sign-up/*",element:l.jsx(Ul,{})})]}),l.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]"})]})}function p2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function m2(...t){return e=>t.forEach(r=>p2(r,e))}const Qc=u.forwardRef((t,e)=>{const{children:r,...n}=t,s=u.Children.toArray(r),o=s.find(v2);if(o){const a=o.props.children,i=s.map(c=>c===o?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:c);return u.createElement(Ps,F({},n,{ref:e}),u.isValidElement(a)?u.cloneElement(a,void 0,i):null)}return u.createElement(Ps,F({},n,{ref:e}),r)});Qc.displayName="Slot";const Ps=u.forwardRef((t,e)=>{const{children:r,...n}=t;return u.isValidElement(r)?u.cloneElement(r,{...y2(n,r.props),ref:e?m2(e,r.ref):r.ref}):u.Children.count(r)>1?u.Children.only(null):null});Ps.displayName="SlotClone";const g2=({children:t})=>u.createElement(u.Fragment,null,t);function v2(t){return u.isValidElement(t)&&t.type===g2}function y2(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...i)=>{o(...i),s(...i)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}const b2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],w2=b2.reduce((t,e)=>{const r=u.forwardRef((n,s)=>{const{asChild:o,...a}=n,i=o?Qc:e;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(i,F({},a,{ref:s}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),x2=u.forwardRef((t,e)=>u.createElement(w2.label,F({},t,{ref:e,onMouseDown:r=>{var n;(n=t.onMouseDown)===null||n===void 0||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),el=x2,_2=Sn("text-[12px] font-small leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q=u.forwardRef(({className:t,...e},r)=>l.jsx(el,{ref:r,className:X(_2(),t),...e}));q.displayName=el.displayName;function Ft({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:X("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function gn({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:X("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function vn({className:t,...e}){return l.jsx("div",{"data-slot":"card-title",className:X("leading-none font-semibold",t),...e})}function Bt({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:X("px-6",t),...e})}const H=u.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));H.displayName="Input";const tl=u.forwardRef(({className:t,...e},r)=>l.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));tl.displayName="Textarea";function We(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Is(t){const e=E2(t),r=u.forwardRef((n,s)=>{const{children:o,...a}=n,i=u.Children.toArray(o),c=i.find(k2);if(c){const d=c.props.children,h=i.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...a,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return l.jsx(e,{...a,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function E2(t){const e=u.forwardRef((r,n)=>{const{children:s,...o}=r;if(u.isValidElement(s)){const a=$2(s),i=C2(o,s.props);return s.type!==u.Fragment&&(i.ref=n?_n(n,a):a),u.cloneElement(s,i)}return u.Children.count(s)>1?u.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var S2=Symbol("radix.slottable");function k2(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===S2}function C2(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...i)=>{const c=o(...i);return s(...i),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function $2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function T2(t){const e=t+"CollectionProvider",[r,n]=gr(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:g,children:b}=v,x=G.useRef(null),w=G.useRef(new Map).current;return l.jsx(s,{scope:g,itemMap:w,collectionRef:x,children:b})};a.displayName=e;const i=t+"CollectionSlot",c=Is(i),d=G.forwardRef((v,g)=>{const{scope:b,children:x}=v,w=o(i,b),_=Ne(g,w.collectionRef);return l.jsx(c,{ref:_,children:x})});d.displayName=i;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Is(h),m=G.forwardRef((v,g)=>{const{scope:b,children:x,...w}=v,_=G.useRef(null),E=Ne(g,_),C=o(h,b);return G.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),l.jsx(p,{[f]:"",ref:E,children:x})});m.displayName=h;function y(v){const g=o(t+"CollectionConsumer",v);return G.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((C,S)=>w.indexOf(C.ref.current)-w.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:d,ItemSlot:m},y,n]}var R2=xn[" useId ".trim().toString()]||(()=>{}),j2=0;function rl(t){const[e,r]=u.useState(R2());return rt(()=>{r(n=>n??String(j2++))},[t]),t||(e?`radix-${e}`:"")}var A2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=A2.reduce((t,e)=>{const r=Is(`Primitive.${e}`),n=u.forwardRef((s,o)=>{const{asChild:a,...i}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),N2=u.createContext(void 0);function nl(t){const e=u.useContext(N2);return t||e||"ltr"}var rs="rovingFocusGroup.onEntryFocus",O2={bubbles:!1,cancelable:!0},kr="RovingFocusGroup",[Ms,sl,P2]=T2(kr),[I2,ol]=gr(kr,[P2]),[M2,D2]=I2(kr),al=u.forwardRef((t,e)=>l.jsx(Ms.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Ms.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(L2,{...t,ref:e})})}));al.displayName=kr;var L2=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=u.useRef(null),m=Ne(e,p),y=nl(o),[v,g]=Fs({prop:a,defaultProp:i??null,onChange:c,caller:kr}),[b,x]=u.useState(!1),w=tt(d),_=sl(r),E=u.useRef(!1),[C,S]=u.useState(0);return u.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(rs,w),()=>T.removeEventListener(rs,w)},[w]),l.jsx(M2,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:v,onItemFocus:u.useCallback(T=>g(T),[g]),onItemShiftTab:u.useCallback(()=>x(!0),[]),onFocusableItemAdd:u.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:u.useCallback(()=>S(T=>T-1),[]),children:l.jsx(Ht.div,{tabIndex:b||C===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:We(t.onMouseDown,()=>{E.current=!0}),onFocus:We(t.onFocus,T=>{const N=!E.current;if(T.target===T.currentTarget&&N&&!b){const D=new CustomEvent(rs,O2);if(T.currentTarget.dispatchEvent(D),!D.defaultPrevented){const V=_().filter(P=>P.focusable),O=V.find(P=>P.active),Q=V.find(P=>P.id===v),z=[O,Q,...V].filter(Boolean).map(P=>P.ref.current);ll(z,h)}}E.current=!1}),onBlur:We(t.onBlur,()=>x(!1))})})}),il="RovingFocusGroupItem",cl=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:a,...i}=t,c=rl(),d=o||c,h=D2(il,r),f=h.currentTabStopId===d,p=sl(r),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:v}=h;return u.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),l.jsx(Ms.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:l.jsx(Ht.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...i,ref:e,onMouseDown:We(t.onMouseDown,g=>{n?h.onItemFocus(d):g.preventDefault()}),onFocus:We(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:We(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){h.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const b=B2(g,h.orientation,h.dir);if(b!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(g.currentTarget);w=h.loop?z2(w,_+1):w.slice(_+1)}setTimeout(()=>ll(w))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});cl.displayName=il;var U2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F2(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function B2(t,e,r){const n=F2(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return U2[n]}function ll(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function z2(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var V2=al,W2=cl;function K2(t,e){return u.useReducer((r,n)=>e[r][n]??r,t)}var ul=t=>{const{present:e,children:r}=t,n=q2(e),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),o=Ne(n.ref,H2(s));return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:o}):null};ul.displayName="Presence";function q2(t){const[e,r]=u.useState(),n=u.useRef(null),s=u.useRef(t),o=u.useRef("none"),a=t?"mounted":"unmounted",[i,c]=K2(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Yr(n.current);o.current=i==="mounted"?d:"none"},[i]),rt(()=>{const d=n.current,h=s.current;if(h!==t){const p=o.current,m=Yr(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),rt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=m=>{const v=Yr(n.current).includes(CSS.escape(m.animationName));if(m.target===e&&v&&(c("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=m=>{m.target===e&&(o.current=Yr(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:u.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Yr(t){return(t==null?void 0:t.animationName)||"none"}function H2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Pn="Tabs",[G2]=gr(Pn,[ol]),dl=ol(),[J2,ao]=G2(Pn),hl=u.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:i,activationMode:c="automatic",...d}=t,h=nl(i),[f,p]=Fs({prop:n,onChange:s,defaultProp:o??"",caller:Pn});return l.jsx(J2,{scope:r,baseId:rl(),value:f,onValueChange:p,orientation:a,dir:h,activationMode:c,children:l.jsx(Ht.div,{dir:h,"data-orientation":a,...d,ref:e})})});hl.displayName=Pn;var fl="TabsList",pl=u.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=ao(fl,r),a=dl(r);return l.jsx(V2,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(Ht.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});pl.displayName=fl;var ml="TabsTrigger",gl=u.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,a=ao(ml,r),i=dl(r),c=bl(a.baseId,n),d=wl(a.baseId,n),h=n===a.value;return l.jsx(W2,{asChild:!0,...i,focusable:!s,active:h,children:l.jsx(Ht.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:We(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:We(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:We(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(n)})})})});gl.displayName=ml;var vl="TabsContent",yl=u.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...a}=t,i=ao(vl,r),c=bl(i.baseId,n),d=wl(i.baseId,n),h=n===i.value,f=u.useRef(h);return u.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(ul,{present:s||h,children:({present:p})=>l.jsx(Ht.div,{"data-state":h?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});yl.displayName=vl;function bl(t,e){return`${t}-trigger-${e}`}function wl(t,e){return`${t}-content-${e}`}var Y2=hl,X2=pl,Z2=gl,Q2=yl;function ev({className:t,...e}){return l.jsx(Y2,{"data-slot":"tabs",className:X("flex flex-col gap-2",t),...e})}function tv({className:t,...e}){return l.jsx(X2,{"data-slot":"tabs-list",className:X("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function jt({className:t,...e}){return l.jsx(Z2,{"data-slot":"tabs-trigger",className:X("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function At({className:t,...e}){return l.jsx(Q2,{"data-slot":"tabs-content",className:X("flex-1 outline-none",t),...e})}const rv=u.forwardRef(({className:t,children:e,value:r,onValueChange:n,...s},o)=>{const[a,i]=u.useState(!1),[c,d]=u.useState(r||""),h=u.useRef(null);u.useEffect(()=>{d(r||"")},[r]),u.useEffect(()=>{const p=m=>{h.current&&!h.current.contains(m.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const f=p=>{d(p),i(!1),n&&n(p)};return l.jsxs("div",{className:"relative w-full",ref:h,children:[l.jsxs("button",{type:"button",className:X("flex h-11 w-full items-center justify-between rounded-lg border border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-900 shadow-sm transition-all duration-200 placeholder:text-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 hover:border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder:text-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/20",t),onClick:()=>i(!a),...s,children:[l.jsx("span",{className:"block truncate",children:c?l.jsx("div",{className:"flex items-center gap-2",children:(()=>{var m;const p=e.find(y=>{var v;return((v=y.props)==null?void 0:v.value)===c});if(p&&((m=p.props)!=null&&m.children)){const y=p.props.children;if(y.props&&y.props.children)return l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-lg",children:y.props.children[0]}),l.jsx("span",{children:y.props.children[1]})]})}return c})()}):" "}),l.jsx(Yu,{className:X("h-4 w-4 text-gray-400 transition-transform duration-200",a&&"rotate-180")})]}),a&&l.jsx("div",{className:"absolute top-full z-50 mt-2 w-full rounded-lg border border-gray-200 bg-white shadow-lg ring-1 ring-black/5 transition-all duration-200 dark:border-gray-700 dark:bg-gray-800 dark:ring-white/10",children:l.jsx("div",{className:"max-h-60 overflow-auto rounded-lg py-1",children:u.Children.map(e,p=>p&&p.props?u.cloneElement(p,{onClick:()=>f(p.props.value),className:X("relative flex w-full cursor-pointer select-none items-center rounded-md px-3 py-2.5 text-sm text-gray-700 transition-colors duration-150 hover:bg-gray-50 hover:text-gray-900 focus:bg-gray-50 focus:text-gray-900 focus:outline-none dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-gray-100 dark:focus:bg-gray-700 dark:focus:text-gray-100",c===p.props.value&&"bg-blue-50 text-blue-700 hover:bg-blue-100 hover:text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 dark:hover:bg-blue-900/30 dark:hover:text-blue-200")}):p)})})]})});rv.displayName="Select";const nv=u.forwardRef(({className:t,children:e,...r},n)=>l.jsx("div",{ref:n,className:X("",t),...r,children:e}));nv.displayName="SelectTrigger";const sv=u.forwardRef(({className:t,placeholder:e,...r},n)=>l.jsx("span",{ref:n,className:X("block truncate",t),...r,children:e}));sv.displayName="SelectValue";const ov=u.forwardRef(({className:t,children:e,...r},n)=>l.jsx("div",{ref:n,className:X("p-1",t),...r,children:e}));ov.displayName="SelectContent";const av=u.forwardRef(({className:t,children:e,...r},n)=>l.jsx("div",{ref:n,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t),...r,children:e}));av.displayName="SelectItem";class rn{static async getByUserId(e){try{console.log("Fetching custom links for userId:",e);const{data:r,error:n}=await ie.from("custom_links").select("*").eq("user_id",e).eq("is_active",!0).order("order_index",{ascending:!0});if(n)throw console.error("Supabase error:",n),n;return console.log("Custom links data received:",r),r}catch(r){throw console.error("Error fetching custom links:",r),r}}static async getByUsername(e){try{const{data:r,error:n}=await ie.from("users").select("clerk_id").eq("username",e).single();if(n)throw n;const{data:s,error:o}=await ie.from("custom_links").select("*").eq("user_id",r.clerk_id).eq("is_active",!0).order("order_index",{ascending:!0});if(o)throw o;return s}catch(r){return console.error("Error fetching custom links by username:",r),null}}static async create(e,r){try{const{data:n}=await ie.from("custom_links").select("order_index").eq("user_id",e).order("order_index",{ascending:!1}).limit(1),s=n&&n.length>0?n[0].order_index+1:0,{data:o,error:a}=await ie.from("custom_links").insert({user_id:e,title:r.title,url:r.url,icon:r.icon||"globe",order_index:r.order_index!==void 0?r.order_index:s}).select().single();if(a)throw a;return o}catch(n){return console.error("Error creating custom link:",n),null}}static async update(e,r){try{const{data:n,error:s}=await ie.from("custom_links").update({title:r.title,url:r.url,icon:r.icon,order_index:r.order_index,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return n}catch(n){return console.error("Error updating custom link:",n),null}}static async delete(e){try{const{data:r,error:n}=await ie.from("custom_links").update({is_active:!1}).eq("id",e).select().single();if(n)throw n;return r}catch(r){return console.error("Error deleting custom link:",r),null}}static async reorder(e,r){try{const n=r.map(({id:a,order_index:i})=>ie.from("custom_links").update({order_index:i}).eq("id",a).eq("user_id",e));if((await Promise.all(n)).some(a=>a.error))throw new Error("Failed to reorder some links");return!0}catch(n){return console.error("Error reordering custom links:",n),!1}}}var xl={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ma=G.createContext&&G.createContext(xl),iv=["attr","size","title"];function cv(t,e){if(t==null)return{};var r=lv(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lv(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yn.apply(this,arguments)}function Da(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Da(Object(r),!0).forEach(function(n){uv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Da(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uv(t,e,r){return e=dv(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dv(t){var e=hv(t,"string");return typeof e=="symbol"?e:e+""}function hv(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _l(t){return t&&t.map((e,r)=>G.createElement(e.tag,bn({key:r},e.attr),_l(e.child)))}function Z(t){return e=>G.createElement(fv,yn({attr:bn({},t.attr)},e),_l(t.child))}function fv(t){var e=r=>{var{attr:n,size:s,title:o}=t,a=cv(t,iv),i=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),G.createElement("svg",yn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:bn(bn({color:t.color||r.color},r.style),t.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),o&&G.createElement("title",null,o),t.children)};return Ma!==void 0?G.createElement(Ma.Consumer,null,r=>e(r)):e(xl)}function pv(t){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.2 162.7c-48.7 1.8-169.5 15.5-169.5 117.5 0 109.5 138.3 114 183.5 43.2 6.5 10.2 35.4 37.5 45.3 46.8l56.8-56S341 288.9 341 261.4V114.3C341 89 316.5 32 228.7 32 140.7 32 94 87 94 136.3l73.5 6.8c16.3-49.5 54.2-49.5 54.2-49.5 40.7-.1 35.5 29.8 35.5 69.1zm0 86.8c0 80-84.2 68-84.2 17.2 0-47.2 50.5-56.7 84.2-57.8v40.6zm136 163.5c-7.7 10-70 67-174.5 67S34.2 408.5 9.7 379c-6.8-7.7 1-11.3 5.5-8.3C88.5 415.2 203 488.5 387.7 401c7.5-3.7 13.3 2 5.5 12zm39.8 2.2c-6.5 15.8-16 26.8-21.2 31-5.5 4.5-9.5 2.7-6.5-3.8s19.3-46.5 12.7-55c-6.5-8.3-37-4.3-48-3.2-10.8 1-13 2-14-.3-2.3-5.7 21.7-15.5 37.5-17.5 15.7-1.8 41-.8 46 5.7 3.7 5.1 0 27.1-6.5 43.1z"},child:[]}]})(t)}function mv(t){return Z({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function gv(t){return Z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function vv(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function yv(t){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function bv(t){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function wv(t){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function xv(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 194.8c0 101.3-82.4 183.8-183.8 183.8-101.7 0-184.4-82.4-184.4-183.8 0-101.6 82.7-184.3 184.4-184.3C429.6 10.5 512 93.2 512 194.8zM0 501.5h90v-491H0v491z"},child:[]}]})(t)}function _v(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function Ev(t){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M388.32,104.1a4.66,4.66,0,0,0-4.4-4c-2,0-37.23-.8-37.23-.8s-21.61-20.82-29.62-28.83V503.2L442.76,472S388.72,106.5,388.32,104.1ZM288.65,70.47a116.67,116.67,0,0,0-7.21-17.61C271,32.85,255.42,22,237,22a15,15,0,0,0-4,.4c-.4-.8-1.2-1.2-1.6-2C223.4,11.63,213,7.63,200.58,8c-24,.8-48,18-67.25,48.83-13.61,21.62-24,48.84-26.82,70.06-27.62,8.4-46.83,14.41-47.23,14.81-14,4.4-14.41,4.8-16,18-1.2,10-38,291.82-38,291.82L307.86,504V65.67a41.66,41.66,0,0,0-4.4.4S297.86,67.67,288.65,70.47ZM233.41,87.69c-16,4.8-33.63,10.4-50.84,15.61,4.8-18.82,14.41-37.63,25.62-50,4.4-4.4,10.41-9.61,17.21-12.81C232.21,54.86,233.81,74.48,233.41,87.69ZM200.58,24.44A27.49,27.49,0,0,1,215,28c-6.4,3.2-12.81,8.41-18.81,14.41-15.21,16.42-26.82,42-31.62,66.45-14.42,4.41-28.83,8.81-42,12.81C131.33,83.28,163.75,25.24,200.58,24.44ZM154.15,244.61c1.6,25.61,69.25,31.22,73.25,91.66,2.8,47.64-25.22,80.06-65.65,82.47-48.83,3.2-75.65-25.62-75.65-25.62l10.4-44s26.82,20.42,48.44,18.82c14-.8,19.22-12.41,18.81-20.42-2-33.62-57.24-31.62-60.84-86.86-3.2-46.44,27.22-93.27,94.47-97.68,26-1.6,39.23,4.81,39.23,4.81L221.4,225.39s-17.21-8-37.63-6.4C154.15,221,153.75,239.8,154.15,244.61ZM249.42,82.88c0-12-1.6-29.22-7.21-43.63,18.42,3.6,27.22,24,31.23,36.43Q262.63,78.68,249.42,82.88Z"},child:[]}]})(t)}function Sv(t){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.7 299.8c2.9-14 4.7-28.9 4.7-43.8 0-113.5-91.9-205.3-205.3-205.3-14.9 0-29.7 1.7-43.8 4.7C161.3 40.7 137.7 32 112 32 50.2 32 0 82.2 0 144c0 25.7 8.7 49.3 23.3 68.2-2.9 14-4.7 28.9-4.7 43.8 0 113.5 91.9 205.3 205.3 205.3 14.9 0 29.7-1.7 43.8-4.7 19 14.6 42.6 23.3 68.2 23.3 61.8 0 112-50.2 112-112 .1-25.6-8.6-49.2-23.2-68.1zm-194.6 91.5c-65.6 0-120.5-29.2-120.5-65 0-16 9-30.6 29.5-30.6 31.2 0 34.1 44.9 88.1 44.9 25.7 0 42.3-11.4 42.3-26.3 0-18.7-16-21.6-42-28-62.5-15.4-117.8-22-117.8-87.2 0-59.2 58.6-81.1 109.1-81.1 55.1 0 110.8 21.9 110.8 55.4 0 16.9-11.4 31.8-30.3 31.8-28.3 0-29.2-33.5-75-33.5-25.7 0-42 7-42 22.5 0 19.8 20.8 21.8 69.1 33 41.4 9.3 90.7 26.8 90.7 77.6 0 59.1-57.1 86.5-112 86.5z"},child:[]}]})(t)}function kv(t){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm169.5 338.9c-3.5 8.1-18.1 14-44.8 18.2-1.4 1.9-2.5 9.8-4.3 15.9-1.1 3.7-3.7 5.9-8.1 5.9h-.2c-6.2 0-12.8-2.9-25.8-2.9-17.6 0-23.7 4-37.4 13.7-14.5 10.3-28.4 19.1-49.2 18.2-21 1.6-38.6-11.2-48.5-18.2-13.8-9.7-19.8-13.7-37.4-13.7-12.5 0-20.4 3.1-25.8 3.1-5.4 0-7.5-3.3-8.3-6-1.8-6.1-2.9-14.1-4.3-16-13.8-2.1-44.8-7.5-45.5-21.4-.2-3.6 2.3-6.8 5.9-7.4 46.3-7.6 67.1-55.1 68-57.1 0-.1.1-.2.2-.3 2.5-5 3-9.2 1.6-12.5-3.4-7.9-17.9-10.7-24-13.2-15.8-6.2-18-13.4-17-18.3 1.6-8.5 14.4-13.8 21.9-10.3 5.9 2.8 11.2 4.2 15.7 4.2 3.3 0 5.5-.8 6.6-1.4-1.4-23.9-4.7-58 3.8-77.1C183.1 100 230.7 96 244.7 96c.6 0 6.1-.1 6.7-.1 34.7 0 68 17.8 84.3 54.3 8.5 19.1 5.2 53.1 3.8 77.1 1.1.6 2.9 1.3 5.7 1.4 4.3-.2 9.2-1.6 14.7-4.2 4-1.9 9.6-1.6 13.6 0 6.3 2.3 10.3 6.8 10.4 11.9.1 6.5-5.7 12.1-17.2 16.6-1.4.6-3.1 1.1-4.9 1.7-6.5 2.1-16.4 5.2-19 11.5-1.4 3.3-.8 7.5 1.6 12.5.1.1.1.2.2.3.9 2 21.7 49.5 68 57.1 4 1 7.1 5.5 4.9 10.8z"},child:[]}]})(t)}function Cv(t){return Z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M111.4 256.3l5.8 65-5.8 68.3c-.3 2.5-2.2 4.4-4.4 4.4s-4.2-1.9-4.2-4.4l-5.6-68.3 5.6-65c0-2.2 1.9-4.2 4.2-4.2 2.2 0 4.1 2 4.4 4.2zm21.4-45.6c-2.8 0-4.7 2.2-5 5l-5 105.6 5 68.3c.3 2.8 2.2 5 5 5 2.5 0 4.7-2.2 4.7-5l5.8-68.3-5.8-105.6c0-2.8-2.2-5-4.7-5zm25.5-24.1c-3.1 0-5.3 2.2-5.6 5.3l-4.4 130 4.4 67.8c.3 3.1 2.5 5.3 5.6 5.3 2.8 0 5.3-2.2 5.3-5.3l5.3-67.8-5.3-130c0-3.1-2.5-5.3-5.3-5.3zM7.2 283.2c-1.4 0-2.2 1.1-2.5 2.5L0 321.3l4.7 35c.3 1.4 1.1 2.5 2.5 2.5s2.2-1.1 2.5-2.5l5.6-35-5.6-35.6c-.3-1.4-1.1-2.5-2.5-2.5zm23.6-21.9c-1.4 0-2.5 1.1-2.5 2.5l-6.4 57.5 6.4 56.1c0 1.7 1.1 2.8 2.5 2.8s2.5-1.1 2.8-2.5l7.2-56.4-7.2-57.5c-.3-1.4-1.4-2.5-2.8-2.5zm25.3-11.4c-1.7 0-3.1 1.4-3.3 3.3L47 321.3l5.8 65.8c.3 1.7 1.7 3.1 3.3 3.1 1.7 0 3.1-1.4 3.1-3.1l6.9-65.8-6.9-68.1c0-1.9-1.4-3.3-3.1-3.3zm25.3-2.2c-1.9 0-3.6 1.4-3.6 3.6l-5.8 70 5.8 67.8c0 2.2 1.7 3.6 3.6 3.6s3.6-1.4 3.9-3.6l6.4-67.8-6.4-70c-.3-2.2-2-3.6-3.9-3.6zm241.4-110.9c-1.1-.8-2.8-1.4-4.2-1.4-2.2 0-4.2.8-5.6 1.9-1.9 1.7-3.1 4.2-3.3 6.7v.8l-3.3 176.7 1.7 32.5 1.7 31.7c.3 4.7 4.2 8.6 8.9 8.6s8.6-3.9 8.6-8.6l3.9-64.2-3.9-177.5c-.4-3-2-5.8-4.5-7.2zm-26.7 15.3c-1.4-.8-2.8-1.4-4.4-1.4s-3.1.6-4.4 1.4c-2.2 1.4-3.6 3.9-3.6 6.7l-.3 1.7-2.8 160.8s0 .3 3.1 65.6v.3c0 1.7.6 3.3 1.7 4.7 1.7 1.9 3.9 3.1 6.4 3.1 2.2 0 4.2-1.1 5.6-2.5 1.7-1.4 2.5-3.3 2.5-5.6l.3-6.7 3.1-58.6-3.3-162.8c-.3-2.8-1.7-5.3-3.9-6.7zm-111.4 22.5c-3.1 0-5.8 2.8-5.8 6.1l-4.4 140.6 4.4 67.2c.3 3.3 2.8 5.8 5.8 5.8 3.3 0 5.8-2.5 6.1-5.8l5-67.2-5-140.6c-.2-3.3-2.7-6.1-6.1-6.1zm376.7 62.8c-10.8 0-21.1 2.2-30.6 6.1-6.4-70.8-65.8-126.4-138.3-126.4-17.8 0-35 3.3-50.3 9.4-6.1 2.2-7.8 4.4-7.8 9.2v249.7c0 5 3.9 8.6 8.6 9.2h218.3c43.3 0 78.6-35 78.6-78.3.1-43.6-35.2-78.9-78.5-78.9zm-296.7-60.3c-4.2 0-7.5 3.3-7.8 7.8l-3.3 136.7 3.3 65.6c.3 4.2 3.6 7.5 7.8 7.5 4.2 0 7.5-3.3 7.5-7.5l3.9-65.6-3.9-136.7c-.3-4.5-3.3-7.8-7.5-7.8zm-53.6-7.8c-3.3 0-6.4 3.1-6.4 6.7l-3.9 145.3 3.9 66.9c.3 3.6 3.1 6.4 6.4 6.4 3.6 0 6.4-2.8 6.7-6.4l4.4-66.9-4.4-145.3c-.3-3.6-3.1-6.7-6.7-6.7zm26.7 3.4c-3.9 0-6.9 3.1-6.9 6.9L227 321.3l3.9 66.4c.3 3.9 3.1 6.9 6.9 6.9s6.9-3.1 6.9-6.9l4.2-66.4-4.2-141.7c0-3.9-3-6.9-6.9-6.9z"},child:[]}]})(t)}function $v(t){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"},child:[]}]})(t)}function Tv(t){return Z({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"},child:[]}]})(t)}function Rv(t){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function jv(t){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function Av(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z"},child:[]}]})(t)}function Nv(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Ov(t){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function Pv(t){return Z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function Iv(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M172.2 226.8c-14.6-2.9-28.2 8.9-28.2 23.8V301c0 10.2 7.1 18.4 16.7 22 18.2 6.8 31.3 24.4 31.3 45 0 26.5-21.5 48-48 48s-48-21.5-48-48V120c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v248c0 89.5 82.1 160.2 175 140.7 54.4-11.4 98.3-55.4 109.7-109.7 17.4-82.9-37-157.2-112.5-172.2zM209 0c-9.2-.5-17 6.8-17 16v31.6c0 8.5 6.6 15.5 15 15.9 129.4 7 233.4 112 240.9 241.5.5 8.4 7.5 15 15.9 15h32.1c9.2 0 16.5-7.8 16-17C503.4 139.8 372.2 8.6 209 0zm.3 96c-9.3-.7-17.3 6.7-17.3 16.1v32.1c0 8.4 6.5 15.3 14.8 15.9 76.8 6.3 138 68.2 144.9 145.2.8 8.3 7.6 14.7 15.9 14.7h32.2c9.3 0 16.8-8 16.1-17.3-8.4-110.1-96.5-198.2-206.6-206.7z"},child:[]}]})(t)}function Mv(t){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Dv(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function La(t){return Z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(t)}function Lv(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Uv(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Fv(t){return Z({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Ua(t){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function Bv(t){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"},child:[]}]})(t)}function zv(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Vv(t){return Z({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Wv(t){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Kv(t){return Z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function qv(t){return Z({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.2574.0039c-.37.0101-.7353.041-1.1003.095C9.6164.153 9.0766.4236 8.482.694c-.757.3244-1.5147.6486-2.2176.7027-1.1896.3785-1.568.919-1.8925 1.3516 0 .054-.054.1079-.054.1079-.4325.865-.4873 1.73-.325 2.5952.1621.5407.3786 1.0282.5408 1.5148.3785 1.0274.7578 2.0007.92 3.1362.1622.3244.3235.7571.4316 1.1897.2704.8651.542 1.8383 1.353 2.5952l.0057-.0028c.0175.0183.0301.0387.0482.0568.0072-.0036.0141-.0063.0213-.0099l-.0213-.5849c.6489-.9733 1.5673-1.6221 2.865-1.8925.5195-.1093 1.081-.1497 1.6625-.1278a8.7733 8.7733 0 0 1 1.7988.2357c1.4599.3785 2.595 1.1358 2.6492 1.7846.0273.3549.0398.6952.0326 1.0364-.001.064-.0046.1285-.007.193l.1362.0682c.075-.0375.1424-.107.2059-.1902.0008-.001.002-.002.0028-.0028.0018-.0023.0039-.0061.0057-.0085.0396-.0536.0747-.1236.1107-.1931.0188-.0377.0372-.0866.0554-.1292.2048-.4622.362-1.1536.538-1.9635.0541-.2703.1092-.4864.1633-.7027.4326-.9733 1.0266-1.8382 1.6213-2.6492.9733-1.3518 1.8928-2.5962 1.7846-4.0561-1.784-3.4608-4.2718-4.0017-5.5695-4.272-.2163-.0541-.3233-.0539-.4856-.108-1.3382-.2433-2.4945-.3953-3.6046-.3648zm5.0428 14.3788a9.8602 9.8602 0 0 0-.0326-.9824c-.0541-.703-1.1892-1.46-2.7032-1.8386-.588-.1336-1.1764-.2142-1.7448-.2356-.539-.0137-1.0657.0248-1.5546.1277-1.2436.2704-2.2162.9193-2.811 1.8925l.0511 1.431c.6672-.3558 1.7326-.8747 3.139-.9994.0662-.0059.1368-.0059.2044-.0099.1177-.013.2667-.044.4444-.044 1.6075 0 3.2682.5336 4.8767 1.6483.039-.2744.0611-.549.071-.8234l.044.0227c.0028-.0622.0143-.1268.0156-.1888zM11.256.0578c.1239-.0034.2538.01.379.0114-.23-.0022-.4588.0026-.6871.0156.103-.0061.2046-.0242.308-.027zm.4983.0156c.6552.014 1.3255.0711 2.0387.1803-.6834-.0987-1.3646-.1671-2.0387-.1803zm-1.3147.0554c-.076.0087-.1527.0133-.2285.0241-.8168.1167-1.7742.7015-2.75 1.045.3545-.1323.7143-.2957 1.0747-.4501C9.0765.4774 9.6705.207 10.1571.1529c.0939-.0139.1886-.0133.2825-.0241zm-.2285.24c.1622 0 .3787-.0002.5409.0539-.1425-.0357-.2595-.026-.3706-.0142a1.174 1.174 0 0 1 .3166.0681c.5796 1.0012-.4264 5.2791-.6786 8.1492.1559 1.0276.3138 1.9963.4628 2.7201-.7029-1.7843-1.4067-4.921-1.5148-7.354-.054-.9733.001-1.8386.2172-2.4874C9.401.8557 9.7244.4228 10.2111.3687zm3.1361.271c-.811 2.1088-.9184 6.1092-.9725 7.3528-.054.5407-.0001 1.73.054 2.5952 0 .2163.054.4325.054.6488 0-.2163-.054-.3786-.054-.5948-.4326-3.2442-.974-7.1362.9185-10.002zm3.352.3777c-.2704 2.1628-1.4047 3.191-1.7832 5.2998-.1081 1.6762-.325 3.6222-.379 5.2984-.0541-1.6762-.0007-3.4601.2697-5.2444.2703-1.8384.8651-3.6776 1.8925-5.3538zm-10.381.433c-.3581.1194-.632.248-.8575.3805.2317-.1358.4996-.2666.8575-.3805zm.2101.1974c.2155.0025.4384.0734.6006.2357-.0067-.004-.0078-.0033-.0142-.0071.1331.0929.2666.2093.3932.3847-.2036.9673.2553 3.0317.0398 4.6694.0763 1.5485.0717 3.1804.849 4.4594-.9796-1.5107-1.176-3.4375-1.3218-5.236-.1128-1.0907-.2035-2.0969-.4642-2.9033-.144-.3047-.2684-.5745-.3833-.822-.0247-.0369-.0447-.0784-.071-.1135-.1082-.1082-.1619-.2696-.1619-.3777 0-.054.0539-.1618.108-.1618.054-.0541.1616-.0553.2157-.1094a1.013 1.013 0 0 1 .2101-.0184zm-1.3459.6133c-.0604.0201-.0923.041-.1405.061.1768-.034.3617.0339.5196.318-.1877.8916.4364 3.3685.4288 5.104.3124 1.8478.5496 3.8498 1.5716 5.1152C6.3723 11.5076 5.886 9.1286 5.5076 7.128 5.183 5.56 4.9125 4.2086 4.3718 3.776c-.054-.1081-.1079-.163-.1079-.2711 0-.1622-.0002-.3786.1079-.5949-.2772.6337-.4047 1.2673-.3706 1.901-.0445-.6487.0857-1.2905.3706-1.901 0-.054.054-.0538.054-.1079.012-.016.0314-.0349.044-.0511.0618-.0983.1308-.189.2257-.257.0557-.0615.0965-.1191.159-.1817-.0526.0555-.0872.1092-.1335.1647.0273-.018.0523-.0368.0838-.0525.1081-.1082.2154-.1633.3776-.1633zm-.3776.1633c-.0038.0075-.0076.0111-.0114.0184.0125-.0099.0242-.0208.037-.0298-.0074.0037-.0182.0077-.0256.0114zm14.7608 1.1343c-.0017.0052-.004.0104-.0057.0156.0378-.005.0751-.0173.1135-.0156-.0378-.0022-.0763.0103-.115.0199-.8634 2.6418-1.8874 5.2844-2.9118 7.9262a.0184.0184 0 0 1-.0015.0028c-.0874.4652-.234.8842-.5395 1.1898.4326-.4867.4854-1.1907.5395-2.0558.054-.811.0544-1.6761.487-2.5413 0-.0531.0012-.1058.0525-.159.0003-.0009.0012-.0019.0015-.0028.0973-.3524.202-.6885.3166-1.018.4183-1.2896 1.1396-3.1653 2.0131-3.3405.0163-.0052.034-.018.0497-.0213zM8.3726 16.2113l-.3238.1079c.1623.2163.2696.379.3777.433.1081.054.2168.108.379.108.0541 0 .1618 0 .2159-.054l.812-.2698c.0541 0 .1078-.054.1619-.054.1081 0 .1616 0 .2697.054l.2712.2698.2697-.054c-.1081-.1622-.2695-.3236-.3776-.3776-.1082-.0541-.2169-.1094-.379-.1094h-.108l-.866.3252h-.1618c-.1082 0-.2157 0-.2698-.054-.054-.054-.163-.1629-.2712-.3251zm-2.5953.541c-.2703.1621-.649.4324-1.1897.6487-.5407.2163-.9734.4325-1.1897.6488-.2163.2163-.3237.4326-.3237.6488 0 .1082.0537.1632.1618.2172.054.0541.1632.0539.2172.108.757.3244 1.5133.7019 2.2162 1.0803.1082.0541.2171.1632.2712.2173.054.054.1078.054.1618.054.1082 0 .2695-.0538.3777-.162.1081-.108.1632-.217.1632-.325 0-.1082-.055-.1618-.1632-.2158 0 0-.4328-.2165-1.1898-.541-.4866-.2162-.9179-.4326-1.1883-.5948.1623-.2704.486-.4865.9726-.7028.5407-.2163.9196-.4326 1.0818-.5948.054-.0541.054-.1078.054-.1619 0-.054-.0539-.1631-.108-.2172-.054-.054-.163-.1079-.2711-.1079zm11.247 0c-.054 0-.1618.0537-.2158.1078-.0541.1081-.1093.1632-.1093.2172v.054c.1622.1622.3797.2695.7041.3776.2704.054.5403.1632.8107.2172.3244.1082.5407.2693.6488.4856v.0553c0 .0541-.1088.1616-.3251.2698-.1082.054-.3245.2167-.5949.433-.2703.1622-.4326.3236-.5948.3776-.2163.1082-.3776.217-.4316.3252-.0541.054-.054.1077-.054.1618 0 .1081.0539.1077.108.2158.054.1081.1616.1093.2157.1093.054 0 .1078-.0554.1619-.0554.2703-.1622.6492-.3782 1.0818-.7567.4866-.3784.8655-.6484 1.0818-.8106.2163-.1082.3237-.2169.3237-.379 0-.0541.0002-.1618-.1079-.2159-.3785-.4325-.9185-.7022-1.5674-.9185-.1081-.0541-.2704-.1092-.5948-.1633-.1622-.054-.3249-.1079-.433-.1079zm-2.9743.8106c-.2704 0-.4866.055-.6488.2172-.2163.1622-.2699.4323-.2158.7567 0 .2703.1075.4865.2697.7027.1622.2163.3786.3252.5949.3252.1622 0 .2708-.0553.433-.1094.2703-.1622.379-.4319.379-.9185 0-.3785-.109-.6485-.2711-.8107-.1622-.1081-.3246-.1632-.541-.1632zm-4.4877.054c-.2704 0-.4866.055-.6488.2171-.2163.1622-.27.4323-.2158.7567 0 .2704.1075.4865.2697.7028s.3786.3251.5949.3251c.1622 0 .2708-.0552.433-.1093.2703-.1622.3776-.432.3776-.9186 0-.4325-.1075-.7025-.2697-.8106-.1622-.1082-.3247-.1633-.541-.1633zm0 .6501c.1622 0 .2711.1076.2711.2698 0 .1622-.163.2697-.2711.2697-.1622 0-.2698-.1075-.2698-.2697s.1076-.2698.2698-.2698zm4.3798.054c.1622 0 .2711.1075.2711.2697 0 .1082-.109.2698-.2711.2698-.1622 0-.2698-.1076-.2698-.2698 0-.1622.1076-.2697.2698-.2697zm-2.7032 2.1083l.1619.3237c.054.1081.1076.163.2158.2711.054.054.163.1619.2712.1619h.1078c.1082 0 .1618 0 .2158-.054.0541-.054.1632-.0538.2173-.1079l.1618-.1618c.054-.054.108-.1092.108-.1633.054-.054.0537-.1078.1078-.1618 0-.0541.054-.108.054-.108-.0541.1082-.1618.2156-.2158.3238-.1082.054-.1616.1632-.2698.1632-.1081.0541-.217.054-.3251.054s-.2157.0001-.2697-.054c-.1082 0-.1632-.0538-.2173-.1079l-.1618-.1632c-.054-.0541-.1078-.1618-.1619-.2158zm-.866 1.0278c-1.1355 0-1.8377 1.5136-3.4598.1619-.4326 2.6494 2.7583 2.866 4.11 1.7306.9192-.811.6475-1.9465-.6502-1.8925zm2.8664 0c-1.2977-.054-1.568 1.0815-.6488 1.8925 1.3518 1.1355 4.5412.9188 4.1087-1.7306-1.6221 1.3517-2.2703-.1619-3.4599-.1619z"},child:[]}]})(t)}function Hv(t){return Z({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4.5 7.5C5.328 7.5 6 8.172 6 9v10.5c0 .828-.672 1.5-1.5 1.5h-3C.673 21 0 20.328 0 19.5V9c0-.828.673-1.5 1.5-1.5h3zm9-4.5c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-3c-.827 0-1.5-.672-1.5-1.5v-15c0-.828.673-1.5 1.5-1.5h3zm9 7.5c.828 0 1.5.672 1.5 1.5v7.5c0 .828-.672 1.5-1.5 1.5h-3c-.828 0-1.5-.672-1.5-1.5V12c0-.828.672-1.5 1.5-1.5h3z"},child:[]}]})(t)}function Gv(t){return Z({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.45 14.315c-.143.28-.334.532-.565.745a3.691 3.691 0 0 1-1.104.695 4.51 4.51 0 0 1-3.116-.016 3.79 3.79 0 0 1-2.135-2.078 3.571 3.571 0 0 1-.13-.353h7.418a4.26 4.26 0 0 1-.368 1.008zm-11.99-.654a3.793 3.793 0 0 1-2.134 2.078 4.51 4.51 0 0 1-3.117.016 3.7 3.7 0 0 1-1.104-.695 2.652 2.652 0 0 1-.564-.745 4.221 4.221 0 0 1-.368-1.006H9.59c-.038.12-.08.238-.13.352zm14.501-1.758a3.849 3.849 0 0 0-.082-.475l-9.634-.008a3.932 3.932 0 0 1 1.143-2.348c.363-.35.79-.625 1.26-.809a3.97 3.97 0 0 1 4.484.957l1.521-1.49a5.7 5.7 0 0 0-1.922-1.357 6.283 6.283 0 0 0-2.544-.49 6.35 6.35 0 0 0-2.405.457 6.007 6.007 0 0 0-1.963 1.276 6.142 6.142 0 0 0-1.325 1.94 5.862 5.862 0 0 0-.466 1.864h-.063a5.857 5.857 0 0 0-.467-1.865 6.13 6.13 0 0 0-1.325-1.939A6 6 0 0 0 8.21 6.34a6.698 6.698 0 0 0-4.949.031A5.708 5.708 0 0 0 1.34 7.73l1.52 1.49a4.166 4.166 0 0 1 4.484-.958c.47.184.898.46 1.26.81.368.36.66.792.859 1.268.146.344.242.708.285 1.08l-9.635.008A4.714 4.714 0 0 0 0 12.457a6.493 6.493 0 0 0 .345 2.127 4.927 4.927 0 0 0 1.08 1.783c.528.56 1.17 1 1.88 1.293a6.454 6.454 0 0 0 2.504.457c.824.005 1.64-.15 2.404-.457a5.986 5.986 0 0 0 1.964-1.277 6.116 6.116 0 0 0 1.686-3.076h.273a6.13 6.13 0 0 0 1.686 3.077 5.99 5.99 0 0 0 1.964 1.276 6.345 6.345 0 0 0 2.405.457 6.45 6.45 0 0 0 2.502-.457 5.42 5.42 0 0 0 1.882-1.293 4.928 4.928 0 0 0 1.08-1.783A6.52 6.52 0 0 0 24 12.457a4.757 4.757 0 0 0-.039-.554z"},child:[]}]})(t)}function Jv(t){return Z({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0v24h24V0zm9.95 8.002h1.805c.061 0 .111.05.111.111v7.767c0 .061-.05.111-.11.111H9.95c-.061 0-.111-.05-.111-.11v-2.87H7.894v2.87c0 .06-.05.11-.11.11H5.976a.11.11 0 01-.11-.11V8.112c0-.06.05-.11.11-.11h1.806c.061 0 .11.05.11.11v2.869H9.84v-2.87c0-.06.05-.11.11-.11zm2.999 0h5.778c.061 0 .111.05.111.11v7.767a.11.11 0 01-.11.112h-5.78a.11.11 0 01-.11-.11V8.111c0-.06.05-.11.11-.11z"},child:[]}]})(t)}function Yv(t){return Z({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.483 0a1.374 1.374 0 0 0-.961.438L7.116 6.226l-3.854 4.126a5.266 5.266 0 0 0-1.209 2.104 5.35 5.35 0 0 0-.125.513 5.527 5.527 0 0 0 .062 2.362 5.83 5.83 0 0 0 .349 1.017 5.938 5.938 0 0 0 1.271 1.818l4.277 4.193.039.038c2.248 2.165 5.852 2.133 8.063-.074l2.396-2.392c.54-.54.54-1.414.003-1.955a1.378 1.378 0 0 0-1.951-.003l-2.396 2.392a3.021 3.021 0 0 1-4.205.038l-.02-.019-4.276-4.193c-.652-.64-.972-1.469-.948-2.263a2.68 2.68 0 0 1 .066-.523 2.545 2.545 0 0 1 .619-1.164L9.13 8.114c1.058-1.134 3.204-1.27 4.43-.278l3.501 2.831c.593.48 1.461.387 1.94-.207a1.384 1.384 0 0 0-.207-1.943l-3.5-2.831c-.8-.647-1.766-1.045-2.774-1.202l2.015-2.158A1.384 1.384 0 0 0 13.483 0zm-2.866 12.815a1.38 1.38 0 0 0-1.38 1.382 1.38 1.38 0 0 0 1.38 1.382H20.79a1.38 1.38 0 0 0 1.38-1.382 1.38 1.38 0 0 0-1.38-1.382z"},child:[]}]})(t)}const wn={youtube:Pv,instagram:bv,facebook:vv,snapchat:kv,twitter:Nv,threads:Bv,reddit:_v,linkedIn:wv,gitHub:yv,stackoverflow:Tv,leetcode:Yv,codeforces:Hv,hackerrank:Jv,codechef:qv,geeksforgeeks:Gv,twitch:Av,soundcloud:Cv,spotify:$v,"apple music":mv,discord:gv,telegram:Rv,whatsapp:Ov,skype:Sv,"amazon storefront":pv,shopify:Ev,"ko-fi":La,"buy me a coffee":La,patreon:xv,website:Ua,blog:Iv,email:Uv,phone:Wv,globe:Ua,mapPin:Vv,calendar:Mv,fileText:Fv,download:Lv,shoppingCart:Kv,heart:zv,tiktok:jv},Xv=[{value:"globe",label:" ",emoji:""},{value:"instagram",label:" Instagram",emoji:""},{value:"facebook",label:" Facebook",emoji:""},{value:"twitter",label:" Twitter",emoji:""},{value:"youtube",label:" YouTube",emoji:""},{value:"github",label:" GitHub",emoji:""},{value:"linkedin",label:" LinkedIn",emoji:""},{value:"tiktok",label:" TikTok",emoji:""},{value:"spotify",label:" Spotify",emoji:""},{value:"discord",label:" Discord",emoji:""},{value:"telegram",label:" Telegram",emoji:""},{value:"whatsapp",label:" WhatsApp",emoji:""},{value:"email",label:" Email",emoji:""},{value:"phone",label:" Phone",emoji:""},{value:"mapPin",label:" Location",emoji:""},{value:"calendar",label:" Calendar",emoji:""},{value:"fileText",label:" Document",emoji:""},{value:"download",label:" Download",emoji:""},{value:"shoppingCart",label:" Shop",emoji:""},{value:"heart",label:" Donate",emoji:""}];function Zv(){const{toast:t}=yr(),{user:e}=at(),[r,n]=u.useState([]),[s,o]=u.useState(!0),[a,i]=u.useState(!1),[c,d]=u.useState({title:"",url:"",icon:"globe"}),[h,f]=u.useState(!1);u.useEffect(()=>{p()},[e==null?void 0:e.id]);const p=async()=>{if(!(e!=null&&e.id)){console.log("No user ID available");return}o(!0);try{console.log("Loading custom links for user:",e.id);const g=await rn.getByUserId(e.id);console.log("Loaded custom links:",g),n(g||[])}catch(g){console.error("Error loading custom links:",g),t({title:"",description:"   : "+(g.message||" "),variant:"destructive"})}finally{o(!1)}},m=async()=>{if(!c.title||!c.url){t({title:"",description:"   ",variant:"destructive"});return}i(!0);try{const g=await rn.create(e.id,c);g&&(n([...r,g]),d({title:"",url:"",icon:"globe"}),f(!1),t({title:"",description:"  "}))}catch(g){console.error("Error adding custom link:",g),t({title:"",description:"   ",variant:"destructive"})}finally{i(!1)}},y=async g=>{i(!0);try{await rn.delete(g)&&(n(r.filter(x=>x.id!==g)),t({title:"",description:"  "}))}catch(b){console.error("Error deleting custom link:",b),t({title:"",description:"   ",variant:"destructive"})}finally{i(!1)}},v=g=>wn[g]||wn.globe;return s?l.jsxs("div",{className:"space-y-4 flex flex-col items-center justify-center min-h-[200px]",children:[l.jsx("div",{className:"relative w-12 h-12",children:l.jsx(be,{})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:" ..."})]}):l.jsxs(Ft,{children:[l.jsx(gn,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(vn,{children:" "}),l.jsxs(re,{onClick:()=>f(!h),variant:"outline",size:"sm",children:[l.jsx(cd,{className:"w-4 h-4 mr-2"})," "]})]})}),l.jsxs(Bt,{className:"space-y-4",children:[h&&l.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"link-title",children:""}),l.jsx(H,{id:"link-title",value:c.title,onChange:g=>d({...c,title:g.target.value}),placeholder:":  "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"link-url",children:"URL"}),l.jsx(H,{id:"link-url",value:c.url,onChange:g=>d({...c,url:g.target.value}),placeholder:"https://example.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"link-icon",children:""}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-40 overflow-y-auto p-2 border rounded-lg bg-gray-50 dark:bg-gray-800",children:Xv.map(g=>l.jsxs("button",{type:"button",onClick:()=>d({...c,icon:g.value}),className:X("flex flex-col items-center justify-center p-2 rounded-md border transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:border-blue-300 dark:hover:border-blue-600",c.icon===g.value?"bg-blue-50 border-blue-500 dark:bg-blue-900/30 dark:border-blue-400":"bg-white border-gray-200 dark:bg-gray-700 dark:border-gray-600"),children:[l.jsx("span",{className:"text-lg mb-1",children:g.emoji}),l.jsx("span",{className:"text-xs text-center text-gray-600 dark:text-gray-300",children:g.label.replace(/[^\w\s-]/gi,"")})]},g.value))})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{onClick:m,disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx(nd,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""}),l.jsx(re,{variant:"outline",onClick:()=>{f(!1),d({title:"",url:"",icon:"globe"})},children:""})]})]}),r.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{children:"      "}),l.jsx("p",{className:"text-sm mt-2",children:' " "-   '})]}):l.jsx("div",{className:"space-y-2",children:r.map(g=>{const b=v(g.icon);return l.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50",children:[l.jsx(ed,{className:"w-4 h-4 text-gray-400"}),l.jsx(b,{className:"w-5 h-5 text-gray-600"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:g.title}),l.jsx("div",{className:"text-sm text-gray-500 truncate",children:g.url})]}),l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>y(g.id),disabled:a,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:l.jsx(fd,{className:"w-4 h-4"})})]},g.id)})})]})]})}const Qv=()=>{const{user:t}=at(),e=u.useRef(null),r=u.useRef(null);return u.useEffect(()=>{if(!(t!=null&&t.id))return;const n=async()=>{try{const s=t.imageUrl;await ve.ensureAvatarUrl(t.id,s),s!==r.current&&(await ve.syncAvatarUrl(t.id,s),r.current=s,console.log("Avatar URL synced:",s))}catch(s){console.error("Error syncing avatar URL:",s)}};return n(),e.current=setInterval(n,5e3),()=>{e.current&&clearInterval(e.current)}},[t]),null};function ey(){const{toast:t}=yr(),{user:e}=at(),{getToken:r}=Fl();Qv();const[n,s]=u.useState(""),[o,a]=u.useState(""),[i,c]=u.useState(""),[d,h]=u.useState(""),[f,p]=u.useState(""),[m,y]=u.useState(""),[v,g]=u.useState(""),[b,x]=u.useState(""),[w,_]=u.useState(""),[E,C]=u.useState(""),[S,T]=u.useState(""),[N,D]=u.useState(""),[V,O]=u.useState(""),[Q,R]=u.useState(""),[z,P]=u.useState(""),[J,L]=u.useState(""),[j,Y]=u.useState(""),[te,ae]=u.useState(""),[de,ge]=u.useState(""),[ke,le]=u.useState(""),[$,I]=u.useState(""),[k,me]=u.useState(""),[bt,wt]=u.useState(""),[Cr,$r]=u.useState(""),[Ge,Gt]=u.useState(""),[Tr,Rr]=u.useState(""),[jr,Ar]=u.useState(""),[it,io]=u.useState(""),[co,lo]=u.useState(""),[uo,ho]=u.useState(""),[fo,po]=u.useState(""),[mo,go]=u.useState(""),[vo,yo]=u.useState(""),[$l,bo]=u.useState(""),[wo,xo]=u.useState(""),[_o,Eo]=u.useState(""),[So,ko]=u.useState(!1),[Tl,Rl]=u.useState(!0);u.useEffect(()=>{(async()=>{if(e!=null&&e.id)try{const W=await ve.getByUserId(e.id);W&&(s(W.username||""),a(W.name||""),c(W.bio||""),h(W.instagram||""),p(W.facebook||""),y(W.gitHub||""),g(W.snapchat||""),x(W.youtube||""),_(W.linkedIn||""),C(W.twitter||""),T(W.threads||""),D(W.reddit||""),O(W.stackoverflow||""),R(W.leetcode||""),P(W.codeforces||""),L(W.hackerrank||""),Y(W.codechef||""),ae(W.geeksforgeeks||""),ge(W.twitch||""),le(W.soundcloud||""),I(W.spotify||""),me(W["apple music"]||""),wt(W.discord||""),$r(W.telegram||""),Gt(W.whatsapp||""),Rr(W.skype||""),Ar(W.amazon||""),io(W.shopify||""),lo(W["ko-fi"]||""),ho(W["buy me a coffee"]||""),po(W.patreon||""),go(W.website||""),yo(W.blog||""),bo(W.email||""),xo(W.phone||""),Eo(W.accessKey||""),!W.avatar_url&&e.imageUrl&&await ve.syncAvatarUrl(e.id,e.imageUrl))}catch(W){console.error("Error loading user data:",W)}finally{Rl(!1)}})()},[e]);const jl=async A=>{var W,Co;A.preventDefault(),ko(!0);try{const Jt={username:n,name:o,bio:i,email:((W=e.primaryEmailAddress)==null?void 0:W.emailAddress)||((Co=e.emailAddresses[0])==null?void 0:Co.emailAddress)||"",avatar_url:e.imageUrl,instagram:d,facebook:f,gitHub:m,snapchat:v,youtube:b,linkedIn:w,twitter:E,threads:S,reddit:N,stackoverflow:V,leetcode:Q,codeforces:z,hackerrank:J,codechef:j,geeksforgeeks:te,twitch:de,soundcloud:ke,spotify:$,"apple music":k,discord:bt,telegram:Cr,whatsapp:Ge,skype:Tr,amazon:jr,shopify:it,"ko-fi":co,"buy me a coffee":uo,patreon:fo,website:mo,blog:vo,phone:wo,accessKey:_o};console.log("Sending userData:",Jt);const Al=await ve.update(e.id,Jt);t(Al?{title:"",description:"  !"}:{title:"Error",description:"Failed to update profile",variant:"destructive"})}catch(Jt){console.error("Error updating profile:",Jt),t({title:"Error",description:Jt.message||"Failed to update profile",variant:"destructive"})}finally{ko(!1)}};return Tl?l.jsxs("div",{className:"space-y-4 flex flex-col items-center justify-center min-h-[200px]",children:[l.jsx("div",{className:"relative w-12 h-12",children:l.jsx(be,{})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"..."})]}):l.jsxs("form",{onSubmit:jl,className:"manage-form space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"username",children:" "}),l.jsx(H,{id:"username",value:n,onChange:A=>s(A.target.value),placeholder:"Enter your username",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"name",children:""}),l.jsx(H,{id:"name",value:o,onChange:A=>a(A.target.value),placeholder:"Enter your name",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"bio",children:" "}),l.jsx(tl,{id:"bio",value:i,onChange:A=>c(A.target.value),placeholder:"Tell us about yourself",rows:3})]})]}),l.jsxs(ev,{defaultValue:"social",className:"w-full",children:[l.jsxs(tv,{className:"grid w-full grid-cols-6",children:[l.jsx(jt,{className:"hello",value:"social",children:""}),l.jsx(jt,{className:"hello",value:"professional",children:""}),l.jsx(jt,{className:"hello",value:"creative",children:""}),l.jsx(jt,{className:"hello",value:"messaging",children:""}),l.jsx(jt,{className:"hello",value:"other",children:""}),l.jsx(jt,{className:"hello",value:"custom",children:""})]}),l.jsxs("div",{className:"tabs-content",children:[l.jsx(At,{value:"social",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"instagram",children:"Instagram"}),l.jsx(H,{id:"instagram",value:d,onChange:A=>h(A.target.value),placeholder:"Instagram username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"facebook",children:"Facebook"}),l.jsx(H,{id:"facebook",value:f,onChange:A=>p(A.target.value),placeholder:"Facebook username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"twitter",children:"Twitter"}),l.jsx(H,{id:"twitter",value:E,onChange:A=>C(A.target.value),placeholder:"Twitter username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"threads",children:"Threads"}),l.jsx(H,{id:"threads",value:S,onChange:A=>T(A.target.value),placeholder:"Threads username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"youtube",children:"YouTube"}),l.jsx(H,{id:"youtube",value:b,onChange:A=>x(A.target.value),placeholder:"YouTube channel"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"snapchat",children:"Snapchat"}),l.jsx(H,{id:"snapchat",value:v,onChange:A=>g(A.target.value),placeholder:"Snapchat username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"reddit",children:"Reddit"}),l.jsx(H,{id:"reddit",value:N,onChange:A=>D(A.target.value),placeholder:"Reddit username"})]})]})}),l.jsx(At,{value:"professional",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"github",children:"GitHub"}),l.jsx(H,{id:"github",value:m,onChange:A=>y(A.target.value),placeholder:"GitHub username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"linkedin",children:"LinkedIn"}),l.jsx(H,{id:"linkedin",value:w,onChange:A=>_(A.target.value),placeholder:"LinkedIn username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"stackoverflow",children:"Stack Overflow"}),l.jsx(H,{id:"stackoverflow",value:V,onChange:A=>O(A.target.value),placeholder:"Stack Overflow username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"leetcode",children:"LeetCode"}),l.jsx(H,{id:"leetcode",value:Q,onChange:A=>R(A.target.value),placeholder:"LeetCode username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"codeforces",children:"Codeforces"}),l.jsx(H,{id:"codeforces",value:z,onChange:A=>P(A.target.value),placeholder:"Codeforces username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"hackerrank",children:"HackerRank"}),l.jsx(H,{id:"hackerrank",value:J,onChange:A=>L(A.target.value),placeholder:"HackerRank username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"codechef",children:"CodeChef"}),l.jsx(H,{id:"codechef",value:j,onChange:A=>Y(A.target.value),placeholder:"CodeChef username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"geeksforgeeks",children:"GeeksforGeeks"}),l.jsx(H,{id:"geeksforgeeks",value:te,onChange:A=>ae(A.target.value),placeholder:"GeeksforGeeks username"})]})]})}),l.jsx(At,{value:"creative",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"twitch",children:"Twitch"}),l.jsx(H,{id:"twitch",value:de,onChange:A=>ge(A.target.value),placeholder:"Twitch username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"soundcloud",children:"SoundCloud"}),l.jsx(H,{id:"soundcloud",value:ke,onChange:A=>le(A.target.value),placeholder:"SoundCloud username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"spotify",children:"Spotify"}),l.jsx(H,{id:"spotify",value:$,onChange:A=>I(A.target.value),placeholder:"Spotify profile"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"applemusic",children:"Apple Music"}),l.jsx(H,{id:"applemusic",value:k,onChange:A=>me(A.target.value),placeholder:"Apple Music profile"})]})]})}),l.jsx(At,{value:"messaging",className:"space-y-2",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(q,{htmlFor:"discord",className:"text-sm",children:"Discord"}),l.jsx(H,{id:"discord",value:bt,onChange:A=>wt(A.target.value),placeholder:"Discord username",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(q,{htmlFor:"telegram",className:"text-sm",children:"Telegram"}),l.jsx(H,{id:"telegram",value:Cr,onChange:A=>$r(A.target.value),placeholder:"Telegram username",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(q,{htmlFor:"whatsapp",className:"text-sm",children:"WhatsApp"}),l.jsx(H,{id:"whatsapp",value:Ge,onChange:A=>Gt(A.target.value),placeholder:"WhatsApp number",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(q,{htmlFor:"skype",className:"text-sm",children:"Skype"}),l.jsx(H,{id:"skype",value:Tr,onChange:A=>Rr(A.target.value),placeholder:"Skype username",className:"h-9 text-sm"})]})]})}),l.jsx(At,{value:"other",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"website",children:"Website"}),l.jsx(H,{id:"website",value:mo,onChange:A=>go(A.target.value),placeholder:"Your website URL"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"blog",children:"Blog"}),l.jsx(H,{id:"blog",value:vo,onChange:A=>yo(A.target.value),placeholder:"Your blog URL"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"email",children:"Email"}),l.jsx(H,{id:"email",type:"email",value:$l,onChange:A=>bo(A.target.value),placeholder:"Your email address"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"phone",children:"Phone"}),l.jsx(H,{id:"phone",value:wo,onChange:A=>xo(A.target.value),placeholder:"Your phone number"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"amazon",children:"Amazon Storefront"}),l.jsx(H,{id:"amazon",value:jr,onChange:A=>Ar(A.target.value),placeholder:"Amazon storefront URL"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"shopify",children:"Shopify"}),l.jsx(H,{id:"shopify",value:it,onChange:A=>io(A.target.value),placeholder:"Shopify store URL"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"kofi",children:"Ko-fi"}),l.jsx(H,{id:"kofi",value:co,onChange:A=>lo(A.target.value),placeholder:"Ko-fi username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"buymeacoffee",children:"Buy Me a Coffee"}),l.jsx(H,{id:"buymeacoffee",value:uo,onChange:A=>ho(A.target.value),placeholder:"Buy Me a Coffee username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"patreon",children:"Patreon"}),l.jsx(H,{id:"patreon",value:fo,onChange:A=>po(A.target.value),placeholder:"Patreon username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"accessKey",children:"Access Key (for private links)"}),l.jsx(H,{id:"accessKey",value:_o,onChange:A=>Eo(A.target.value),placeholder:"Access key for private links",type:"password"})]})]})}),l.jsx(At,{value:"custom",className:"space-y-4",children:l.jsx(Zv,{})})]})]}),l.jsx(re,{type:"submit",disabled:So,className:"w-full",children:So?l.jsxs(l.Fragment,{children:[l.jsx(be,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):" "})]})}const ty=Sn("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),El=u.forwardRef(({className:t,variant:e,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:X(ty({variant:e}),t),...r}));El.displayName="Alert";const Sl=u.forwardRef(({className:t,...e},r)=>l.jsx("h5",{ref:r,className:X("mb-1 font-medium leading-none tracking-tight",t),...e}));Sl.displayName="AlertTitle";const kl=u.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:X("text-sm [&_p]:leading-relaxed",t),...e}));kl.displayName="AlertDescription";function ry(){const{user:t}=at(),[e,r]=u.useState(!1),[n,s]=u.useState(""),[o,a]=u.useState("");return u.useEffect(()=>{(async()=>{if(t!=null&&t.id&&!n)try{const c=await ve.getByUserId(t.id);c&&(s(c.username),a(c.name))}catch(c){console.error("Error loading user data:",c)}finally{r(!0)}})()},[t,n]),l.jsx("div",{className:"manage-link px-6 md:px-20 lg:px-32",children:e&&n&&l.jsxs(El,{className:"mb-6",children:[l.jsx(Sl,{children:"  "}),l.jsxs(kl,{children:["   :"," ",l.jsxs("a",{href:`/${n}`,className:"link-my text-primary hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",children:[window.location.origin,"/",n]})]})]})})}function Fa(){var z;const{user:t,signOut:e}=at(),{toast:r}=yr(),[n,s]=u.useState(!1),[o,a]=u.useState(!1),[i,c]=u.useState("profile"),[d,h]=u.useState(!1),[f,p]=u.useState(""),[m,y]=u.useState(!1),[v,g]=u.useState("");if(u.useEffect(()=>{(async()=>{if(t!=null&&t.id)try{const J=await ve.getByUserId(t.id);g((J==null?void 0:J.accessKey)||"")}catch(J){console.error("Error loading current password:",J)}})()},[t==null?void 0:t.id]),!t)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"relative w-12 h-12",children:l.jsx(be,{})})});const{imageUrl:b,firstName:x,lastName:w,emailAddresses:_,createdAt:E}=t,C=`${x||""} ${w||""}`.trim()||x||"User";(z=_[0])==null||z.emailAddress;const S=t.id,T=[{id:"profile",label:"",icon:yi},{id:"security",label:"",icon:rr},{id:"logout",label:"",icon:sd}],N=async()=>{s(!0);try{const P=await ve.updateRanksForTopUsers();r({title:" ",description:" 3    "})}catch{r({title:"",description:"   ",variant:"destructive"})}finally{s(!1)}},D=P=>{P.id==="logout"?Q():c(P.id)},V=async()=>{if(f.length!==4){r({title:"",description:"    4 ",variant:"destructive"});return}y(!0);try{await ve.updateAccessKey(S,f),g(f),p(""),h(!1),r({title:"",description:"  "})}catch{r({title:"",description:"   ",variant:"destructive"})}finally{y(!1)}},O=async()=>{y(!0);try{await ve.updateAccessKey(S,""),g(""),r({title:"",description:" "})}catch{r({title:"",description:"   ",variant:"destructive"})}finally{y(!1)}},Q=async()=>{try{await e(),window.location.href="/"}catch{r({title:"",description:"  ",variant:"destructive"})}},R=()=>{switch(i){case"profile":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 mt-6 mb-6 px-4",children:[l.jsx("div",{className:"relative",children:l.jsx("img",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full",src:b,alt:C})}),l.jsxs("div",{className:"text-center",children:[l.jsx(q,{className:"text-sm font-medium",children:" "}),l.jsxs("p",{className:"text-xs dark:text-gray-400 text-gray-600 mt-1",children:["  "," ",l.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:""}),l.jsx("span",{className:"text-red-600",children:" *"})]})]})]}),l.jsxs(Ft,{className:"admin-card mb-6",children:[l.jsx(gn,{children:l.jsxs(vn,{className:"flex items-center gap-2",children:[l.jsx(vi,{className:"w-5 h-5"}),""]})}),l.jsx(Bt,{children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:" "}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:' 3    "" '}),l.jsxs(re,{onClick:N,disabled:n,className:"refresh-rank flex items-center gap-2 w-full sm:w-auto",children:[l.jsx(ld,{className:`w-4 h-4 ${n?"animate-spin":""}`}),n?"...":" "]})]})})})]}),l.jsx(ey,{})]});case"links":return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("h2",{className:"text-2xl font-bold",children:" "})});case"analytics":return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("h2",{className:"text-2xl font-bold",children:""})});case"security":return l.jsx("div",{className:"max-w-md mx-auto mt-6 px-4",children:l.jsx(Ft,{className:"password-card",children:l.jsx(Bt,{children:l.jsxs("div",{className:"password-card space-y-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[l.jsx(rr,{className:"w-4 h-4"})," "]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" 4     "}),v?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[l.jsx(td,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-sm text-green-700 dark:text-green-300",children:" : ****"})]}),l.jsx(re,{onClick:O,variant:"outline",className:"w-full",disabled:m,children:m?"...":" "})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[l.jsx(rr,{className:"w-4 h-4 text-yellow-600"}),l.jsx("span",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:" "})]}),l.jsx(re,{onClick:()=>h(!0),className:"w-full",children:" "})]})]}),d&&l.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800",style:{marginTop:"10px"},children:[l.jsx("h4",{className:"font-medium mb-3",children:" "}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(H,{type:"password",value:f,onChange:P=>p(P.target.value.slice(0,4)),placeholder:" 4 ",maxLength:4,className:"text-center text-lg tracking-widest"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{onClick:V,disabled:f.length!==4||m,className:"flex-1",children:m?"...":""}),l.jsx(re,{onClick:()=>{h(!1),p("")},variant:"outline",disabled:m,children:""})]})]})]})]})})})});default:return null}};return l.jsxs("div",{children:[l.jsx(ry,{}),l.jsxs("div",{className:"all flex min-h-screen px-4 sm:px-6 md:px-20 lg:px-32",children:[l.jsx("button",{onClick:()=>a(!o),className:"phone-menu fixed top-4 left-4 z-50 p-2 bg-background border border-border rounded-lg md:hidden",children:o?l.jsx(bi,{className:"w-5 h-5"}):l.jsx(ad,{className:"w-5 h-5"})}),o&&l.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:()=>a(!1)}),l.jsx("div",{className:`sidebar fixed md:relative w-64 border-gray-200 dark:border-gray-700 flex-shrink-0 z-50 transform transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:l.jsx("div",{className:"p-6",children:l.jsx("nav",{className:"space-y-2",children:T.map(P=>{const J=P.icon;return l.jsxs("button",{onClick:()=>{D(P),a(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${i===P.id&&P.id!=="logout"?"bg-primary text-primary-foreground":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:[l.jsx(J,{className:"w-5 h-5"}),l.jsx("span",{children:P.label})]},P.id)})})})}),l.jsx("div",{className:"flex-1 md:ml-[10px]",children:l.jsx("div",{className:"all-manage h-full py-5 mb-16 overflow-y-auto",children:R()})})]})]})}const ny=u.createContext({isSignedIn:!1,user:null,isLoaded:!0}),sy=()=>{try{return at()}catch{return u.useContext(ny)}};G.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:X("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));G.forwardRef(({className:t,src:e,alt:r,...n},s)=>{const[o,a]=G.useState(!1);return o?null:l.jsx("img",{ref:s,src:e,alt:r,className:X("aspect-square h-full w-full object-cover",t),onError:()=>a(!0),...n})});G.forwardRef(({className:t,children:e,...r},n)=>l.jsx("div",{ref:n,className:X("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r,children:e}));const ut=t=>wn[t]||wn.globe,Cl=t=>{const e={:"/rank-img/member.png",:"/rank-img/booster.png",:"/rank-img/administrator.png",:"/rank-img/moderator.png",owner:"/rank-img/owner.png",:"/rank-img/owner.png",sponsor:"/rank-img/sponsor.png",:"/rank-img/sponsor.png",:"/rank-img/partner.png"};return e[t]||e.},oy=t=>t.split(",").map(r=>r.trim()).map(r=>({icon:Cl(r),name:r})).filter(r=>r.icon);function ay({userDataName:t}){const[e,r]=u.useState(!0),{user:n,isSignedIn:s}=sy(),{toast:o}=yr(),[a,i]=u.useState(""),[c,d]=u.useState(""),[h,f]=u.useState(""),[p,m]=u.useState([]),[y,v]=u.useState([]),[g,b]=u.useState(!1),[x,w]=u.useState(!1),[_,E]=u.useState(""),[C,S]=u.useState(!1),[T,N]=u.useState(!1),[D,V]=u.useState(0),[O,Q]=u.useState(!1),[R,z]=u.useState(""),[P,J]=u.useState([{icon:Cl(""),name:""}]),L=()=>{_&&(_===(p==null?void 0:p.accessKey)?(w(!0),N(!1)):(N(!0),w(!1)))};u.useEffect(()=>{let $=t;(async()=>{try{const k=await ve.getByUsername($);if(k){console.log("User data loaded for:",$),console.log("AccessKey found:",k.accessKey),i(k.avatar_url||k.image),f(k.name),d(k.bio),m(k),V(k.views||0),z(k.rank||"");const me=oy(k.rank||"");J(me),console.log("User rank:",k.rank,"Rank data:",me);const bt=await rn.getByUsername($);v(bt||[]),setTimeout(()=>{ve.incrementViews($).catch(wt=>{console.error("Error incrementing views:",wt)})},100),r(!1)}else console.log("User not found:",$),b(!0),r(!1)}catch(k){console.error("Error fetching user data:",k),r(!1),b(!0)}})()},[t]);const j=["linkedIn","gitHub","stackoverflow","leetcode","codeforces","hackerrank","codechef","geeksforgeeks"],Y=["youtube","instagram","facebook","snapchat","twitter","threads","reddit"],te=["twitch","soundcloud","spotify","apple music"],ae=["discord","telegram","whatsapp","skype"],de=["amazon storefront","shopify","ko-fi","buy me a coffee","patreon"],ge=["website","blog","email","phone"],ke=$=>{navigator.clipboard.writeText($).then(()=>{o({title:" !",description:`${$}   `,duration:3e3})}).catch(I=>{console.error("Failed to copy email:",I),o({title:"",description:"   ",variant:"destructive",duration:3e3})})},le=($,I)=>{if(!I||typeof I!="string")return"";const k=I.trim();return k.startsWith("http://")||k.startsWith("https://")?k:{instagram:`https://instagram.com/${k}`,facebook:`https://facebook.com/${k}`,twitter:`https://twitter.com/${k}`,threads:`https://threads.net/${k}`,youtube:`https://youtube.com/${k}`,snapchat:`https://snapchat.com/add/${k}`,reddit:`https://reddit.com/user/${k}`,linkedIn:`https://linkedin.com/in/${k}`,gitHub:`https://github.com/${k}`,stackoverflow:`https://stackoverflow.com/users/${k}`,leetcode:`https://leetcode.com/${k}`,codeforces:`https://codeforces.com/profile/${k}`,hackerrank:`https://hackerrank.com/${k}`,codechef:`https://codechef.com/users/${k}`,geeksforgeeks:`https://auth.geeksforgeeks.org/user/${k}`,twitch:`https://twitch.tv/${k}`,soundcloud:`https://soundcloud.com/${k}`,spotify:k.includes("spotify.com")?k:`https://open.spotify.com/user/${k}`,"apple music":k.includes("music.apple.com")?k:`https://music.apple.com/profile/${k}`,discord:k.includes("discord.gg")?k:`https://discord.com/users/${k}`,telegram:k.includes("t.me")?k:`https://t.me/${k}`,whatsapp:k.includes("wa.me")?k:`https://wa.me/${k}`,skype:k.includes("skype:")?k:`skype:${k}?chat`,amazon:k.includes("amazon.com")?k:`https://amazon.com/stores/${k}`,shopify:k.includes("shopify.com")?k:`https://${k}.myshopify.com`,"ko-fi":k.includes("ko-fi.com")?k:`https://ko-fi.com/${k}`,"buy me a coffee":k.includes("buymeacoffee.com")?k:`https://buymeacoffee.com/${k}`,patreon:k.includes("patreon.com")?k:`https://patreon.com/${k}`,website:k.startsWith("http")?k:`https://${k}`,blog:k.startsWith("http")?k:`https://${k}`,email:k.includes("@")?k:`mailto:${k}`,phone:k.startsWith("+")||/^\d+$/.test(k)?`tel:${k}`:k}[$]||k};return l.jsxs("div",{className:"relative px-6 md:px-20 lg:px-32 py-20 grid place-content-center min-h-screen",children:[l.jsx("div",{className:`absolute top-0 z-[-2] w-full h-full dark:bg-neutral-950 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.3),rgba(255,255,255,0))] ${p!=null&&p.accessKey&&!x?"blur-[50px]":""}`}),l.jsxs("div",{className:"fixed top-5 right-5 md:top-10 md:right-32 flex gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-background/80 backdrop-blur-sm px-3 py-2 rounded-full border",children:[l.jsx(Qu,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:D})]}),!e&&!g&&l.jsx("div",{className:"user-ranks flex items-center justify-center bg-background/80 backdrop-blur-sm p-2 rounded-full border gap-1",children:P.map(($,I)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:$.icon,alt:$.name,className:"w-7 h-7 filter grayscale hover:grayscale-0 transition-all duration-300 hover:scale-110",onLoad:()=>console.log("Rank icon loaded:",$.icon),onError:k=>{console.error("Failed to load rank icon:",$.icon),k.target.style.display="none"}}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50",children:$.name})]},I))}),l.jsx("div",{onClick:()=>{navigator.share({url:window.location.href,title:h,text:h})},children:l.jsx(re,{variant:"pulseBtn",className:"w-10 h-10 rounded-full p-0 flex items-center justify-center",children:l.jsx(ud,{className:"w-4 h-4"})})})]}),l.jsxs("div",{className:"grid place-content-center mb-5 mt-14",children:[e&&l.jsx("div",{className:"relative w-24 h-24",children:l.jsx(be,{})}),!e&&!g&&a&&l.jsxs("div",{className:"avatar-user rounded-full overflow-hidden",children:[l.jsx("img",{src:a,alt:h||"User",className:"w-full h-full object-cover",onError:$=>{$.target.style.display="none",$.target.nextSibling.style.display="flex"}}),l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold",style:{display:"none"},children:h?h.charAt(0).toUpperCase():"?"})]}),!e&&!g&&!a&&l.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold",children:h?h.charAt(0).toUpperCase():"?"})]}),!e&&!g&&l.jsxs("div",{className:"grid place-content-center mb-6 text-center gap-3 px-2",children:[l.jsxs("h1",{className:"text-3xl font-bold flex justify-center items-center text-center",children:[h,h&&l.jsx(Dv,{className:"!h-4 !w-4 opacity-50 ml-2"})]}),l.jsx("p",{className:"text-base dark:text-gray-400 text-foreground/80 max-w-[320px] mx-auto",children:c?l.jsxs(l.Fragment,{children:[O?c:c.length>70?c.slice(0,70)+"...":c,c.length>70&&l.jsx("button",{onClick:()=>Q(!O),className:"moer-btn text-sm hover:underline",children:O?"":""})]}):"    !"})]}),e&&l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"relative w-40 h-8",children:l.jsx(be,{})}),l.jsx("div",{className:"relative w-[300px] h-14",children:l.jsx(be,{})}),l.jsxs("div",{className:"grid gap-3 max-w-[600px] w-full",children:[l.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:l.jsx(be,{})}),l.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:l.jsx(be,{})}),l.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:l.jsx(be,{})}),l.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:l.jsx(be,{})})]})]}),!e&&!g&&l.jsxs("div",{className:"mt-10 flex flex-col items-center gap-3",children:[console.log("Password protection check:",{hasAccessKey:!!(p!=null&&p.accessKey),accessKey:p==null?void 0:p.accessKey,showPrivate:x}),p!=null&&p.accessKey&&!x?l.jsx("div",{className:"w-full max-w-md mx-auto mt-20",children:l.jsxs(Ft,{className:"text-center",children:[l.jsx(gn,{children:l.jsxs(vn,{className:"flex items-center justify-center gap-2",children:[l.jsx(rr,{className:"w-5 h-5"})," "]})}),l.jsxs(Bt,{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"   4  "}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(H,{type:"password",value:_,onChange:$=>E($.target.value.slice(0,4)),placeholder:" ",maxLength:4,className:"text-center text-lg tracking-widest"}),l.jsx(re,{onClick:L,className:"w-full",disabled:_.length!==4,children:""}),T&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:" "})]})]})]})}):l.jsxs(l.Fragment,{children:[Object.entries(p||{}).filter(([$,I])=>(Y.includes($)||j.includes($)||te.includes($)||ae.includes($)||de.includes($)||ge.includes($))&&I&&typeof I=="string"&&I.trim()!=="").length===0&&y.length===0&&l.jsxs("div",{className:"text-center py-10",children:[l.jsx("p",{className:"text-foreground/60",children:"  "}),l.jsx("p",{className:"text-foreground/40 text-sm mt-2",children:"      "})]}),Object.entries(p||{}).filter(([$,I])=>Y.includes($)&&I&&typeof I=="string"&&I.trim()!=="").map(([$,I])=>{const k=ut($);return l.jsx(re,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:l.jsxs("a",{href:le($,I),target:"_blank",rel:"noopener noreferrer",children:[k&&l.jsx(k,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),Object.entries(p||{}).filter(([$,I])=>j.includes($)&&I&&typeof I=="string"&&I.trim()!=="").map(([$,I])=>{const k=ut($);return l.jsx(re,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:l.jsxs("a",{href:le($,I),target:"_blank",rel:"noopener noreferrer",children:[k&&l.jsx(k,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),Object.entries(p||{}).filter(([$,I])=>te.includes($)&&I&&typeof I=="string"&&I.trim()!=="").map(([$,I])=>{const k=ut($);return l.jsx(re,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:l.jsxs("a",{href:le($,I),target:"_blank",rel:"noopener noreferrer",children:[k&&l.jsx(k,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),Object.entries(p||{}).filter(([$,I])=>ae.includes($)&&I&&typeof I=="string"&&I.trim()!=="").map(([$,I])=>{const k=ut($);return l.jsx(re,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:l.jsxs("a",{href:le($,I),target:"_blank",rel:"noopener noreferrer",children:[k&&l.jsx(k,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),Object.entries(p||{}).filter(([$,I])=>de.includes($)&&I&&typeof I=="string"&&I.trim()!=="").map(([$,I])=>{const k=ut($);return l.jsx(re,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:l.jsxs("a",{href:le($,I),target:"_blank",rel:"noopener noreferrer",children:[k&&l.jsx(k,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)}),y.map($=>{const I=ut($.icon);return l.jsx(re,{asChild:!0,variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",children:l.jsxs("a",{href:$.url.startsWith("http")?$.url:`https://${$.url}`,target:"_blank",rel:"noopener noreferrer",children:[I&&l.jsx(I,{className:"w-6 h-6"}),$.title]})},$.id)}),Object.entries(p||{}).filter(([$,I])=>ge.includes($)&&I&&typeof I=="string"&&I.trim()!=="").map(([$,I])=>{const k=ut($),me=$==="email";return l.jsx(re,{variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",onClick:me?()=>ke(I):void 0,asChild:!me,children:me?l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[k&&l.jsx(k,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]}):l.jsxs("a",{href:le($,I),target:"_blank",rel:"noopener noreferrer",children:[k&&l.jsx(k,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]})},$)})]})]}),g&&l.jsxs("div",{className:"flex flex-col items-center justify-center px-4 -mt-[200px]",children:[l.jsx("div",{className:"max-w-[800px] w-full mx-auto",children:l.jsx("img",{src:"/404-numbers-bro.png",alt:"404 - User Not Found",className:"w-full h-auto max-w-[800px] mx-auto block",style:{maxHeight:"600px",objectFit:"contain"}})}),l.jsxs("div",{className:"text-center mt-4",children:[l.jsxs("h1",{className:"font-bold text-3xl mb-2",children:["  ",l.jsx("span",{className:"text-blue-600",children:"!"})]}),l.jsxs("p",{className:"text-sm text-foreground/70 mb-6",children:["   ",l.jsx("br",{}),"   "]}),l.jsx(re,{asChild:!0,className:"border-rad w-full max-w-xs mx-auto",children:l.jsx("a",{href:"/",children:"  "})})]})]}),(p==null?void 0:p.accessKey)&&!x&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-md",children:l.jsx("div",{className:"w-full max-w-md mx-auto p-6",children:l.jsxs(Ft,{className:"text-center shadow-2xl border-0 bg-background/95 backdrop-blur-lg",children:[l.jsx(gn,{children:l.jsxs(vn,{className:"flex items-center justify-center gap-2 text-xl",children:[l.jsx(rr,{className:"w-6 h-6 text-blue-600"})," "]})}),l.jsxs(Bt,{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"   4  "}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(H,{type:"password",value:_,onChange:$=>E($.target.value.slice(0,4)),placeholder:" ",maxLength:4,className:"text-center text-xl tracking-widest h-12 text-lg font-mono",autoFocus:!0}),l.jsx(re,{onClick:L,className:"w-full h-12 text-base font-medium",disabled:_.length!==4,children:""}),T&&l.jsx("p",{className:"text-red-500 text-sm mt-2 animate-pulse",children:" "})]})]})]})})})]})}function iy(){const{username:t}=Il();return l.jsx("div",{children:l.jsx(ay,{userDataName:t})})}const cy=t=>{const e={:"/rank-img/member.png",:"/rank-img/booster.png",:"/rank-img/administrator.png",:"/rank-img/moderator.png",owner:"/rank-img/owner.png",:"/rank-img/owner.png",sponsor:"/rank-img/sponsor.png",:"/rank-img/sponsor.png",:"/rank-img/partner.png"};return e[t]||e.},ly=t=>{switch(t){case 1:return l.jsx(vi,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"});case 2:return l.jsx(sn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"});case 3:return l.jsx(od,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"});default:return l.jsx(sn,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}},uy=t=>{switch(t){case 1:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-2 border-gray-300 dark:border-gray-600";case 2:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-2 border-gray-300 dark:border-gray-600";case 3:return"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-400 border-2 border-gray-300 dark:border-gray-600";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-2 border-gray-300 dark:border-gray-600"}};function dy(){const[t,e]=u.useState([]),[r,n]=u.useState(!0),s=Ds();return u.useEffect(()=>{(async()=>{console.log("Starting to load top users...");try{const a=await ve.getTopUsers(3);console.log("Top users loaded:",a),e(a)}catch(a){console.error("Error loading top users:",a)}finally{n(!1)}})()},[]),r?l.jsxs("div",{className:"relative min-h-screen flex items-center justify-center",children:[l.jsx("div",{className:"absolute top-0 z-[-2] w-full h-full dark:bg-neutral-950 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.3),rgba(255,255,255,0))]"}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"w-24 h-24",children:l.jsx(be,{})})})]}):l.jsxs("div",{className:"relative min-h-screen w-full px-4 py-20",children:[l.jsxs("div",{className:"relative z-10 text-center mb-12 max-w-4xl mx-auto px-4",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx(sn,{className:"w-12 h-12 text-yellow-500"})}),l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:" 3 "}),l.jsx("p",{className:"text-lg text-foreground/70",children:"    "})]}),l.jsx("div",{className:"relative z-10 w-full max-w-6xl mx-auto px-4",children:t.length===0?l.jsx("div",{className:"text-center py-20",children:l.jsx("p",{className:"text-foreground/60 text-lg",children:"    "})}):l.jsx("div",{className:"top-card grid grid-cols-1 md:grid-cols-3 gap-6 items-start justify-center",children:t.map((o,a)=>{const i=a+1,c=cy(o.rank||"");return l.jsxs("div",{className:"relative group w-full max-w-sm mx-auto",children:[l.jsx("div",{className:"card-badge absolute -top-2 left-1/2 transform -translate-x-1/2 z-20",children:l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${uy(i)}`,children:ly(i)})}),l.jsx(Ft,{className:`relative pt-8 pb-4 transition-all duration-200 hover:shadow-md w-full ${i===1?"ring-1 ring-gray-200 dark:ring-gray-700":""}`,children:l.jsxs(Bt,{className:"p-4 text-center",children:[l.jsxs("div",{className:"relative mb-3 mx-auto w-16 h-16",children:[o.avatar_url?l.jsx("img",{src:o.avatar_url,alt:o.name||o.username,className:"top-avatar w-full h-full rounded-full object-cover border-2 border-gray-200 dark:border-gray-700",onError:d=>{d.target.style.display="none",d.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:"w-full h-full rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 text-lg font-medium",style:{display:o.avatar_url?"none":"flex"},children:(o.name||o.username||"?").charAt(0).toUpperCase()}),l.jsx("div",{className:"rank-icon absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 flex items-center justify-center",children:l.jsx("img",{src:c,alt:"Rank",className:"w-4 h-4",onError:d=>{d.target.style.display="none"}})})]}),l.jsx("h3",{className:"text-lg font-bold mb-1 text-foreground",children:o.name||o.username}),l.jsxs("p",{className:"text-sm text-foreground/60 mb-3",children:["@",o.username]}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("span",{className:"text-xl font-bold text-foreground",children:o.views||0}),l.jsx("span",{className:"text-foreground/40 text-xs",children:""})]}),l.jsx(re,{onClick:()=>s(`/${o.username}`),variant:"outline",className:"view-btn w-full border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 font-medium transition-colors duration-200",children:" "})]})})]},o.username)})})}),l.jsx("div",{className:"relative z-10 text-center mt-12",children:l.jsx(re,{onClick:()=>s("/"),variant:"outline",className:"px-6 py-2 border-2 border-foreground/20 hover:border-foreground/40 transition-all duration-200",children:"  "})})]})}function hy(){const t=za(),e=t.pathname!=="/"&&!t.pathname.startsWith("/auth")&&!t.pathname.startsWith("/dashboard")&&!t.pathname.startsWith("/top3");return l.jsx(tu,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!1,children:l.jsxs("div",{className:"min-h-screen flex flex-col",children:[!e&&l.jsx(u2,{}),!e&&l.jsx(i2,{}),l.jsx("main",{className:"flex-1",children:l.jsxs(Va,{children:[l.jsx(Ze,{path:"/",element:l.jsx(h2,{})}),l.jsx(Ze,{path:"/auth/*",element:l.jsx(f2,{})}),l.jsx(Ze,{path:"/dashboard",element:l.jsx(Fa,{})}),l.jsx(Ze,{path:"/dashboard/manage",element:l.jsx(Fa,{})}),l.jsx(Ze,{path:"/:username",element:l.jsx(iy,{})}),l.jsx(Ze,{path:"/top3",element:l.jsx(dy,{})})]})}),l.jsx(c2,{}),l.jsx(eh,{position:"bottom-right"}),l.jsx(d2,{})]})})}const fy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CLERK_AFTER_SIGN_IN_URL:"/dashboard/manage",VITE_CLERK_AFTER_SIGN_UP_URL:"/dashboard/manage",VITE_CLERK_PUBLISHABLE_KEY:"pk_test_Y3V0ZS1jYXQtOTkuY2xlcmsuYWNjb3VudHMuZGV2JA",VITE_CLERK_SECRET_KEY:"sk_test_8oaUHSBAVZ3SX22oUaM4HuelaCxB7jR2bBkVTg4Qed",VITE_CLERK_SIGN_IN_URL:"/auth/sign-in",VITE_CLERK_SIGN_UP_URL:"/auth/sign-up",VITE_MONGO_URI:"",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxjanB5emNld3R5bHFicWNtcnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NDA2MzgsImV4cCI6MjA4NDQxNjYzOH0.bLWVQaB4CXljxpzESB339xSHxU5M_Vnuw4hmkUzsmlw",VITE_SUPABASE_URL:"https://lcjpyzcewtylqbqcmrpe.supabase.co"},py="pk_test_Y3V0ZS1jYXQtOTkuY2xlcmsuYWNjb3VudHMuZGV2JA";console.log("Environment variables loaded:",{PUBLISHABLE_KEY:"Found",allEnv:fy});ql.createRoot(document.getElementById("root")).render(l.jsx(G.StrictMode,{children:l.jsx(Bl,{publishableKey:py,children:l.jsx(Ml,{children:l.jsx(hy,{})})})}));
