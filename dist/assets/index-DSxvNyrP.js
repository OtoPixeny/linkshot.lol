import{r as Ul,c as Fl,g as Bl,a as u,R as Z,b as Ar,$ as Ya,d as An,L as br,u as Xa,e as Zs,f as Za,h as ht,i as zl,B as Vl}from"./router-BOPp_ggg.js";import{u as xt,U as Wr,C as Wl,S as ql,a as Kl,b as Hl,c as Gl}from"./clerk-D-DYsX-Z.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Hn={exports:{}},fr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io;function Jl(){if(Io)return fr;Io=1;var t=Ul(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,l,d){var h,f={},p=null,g=null;d!==void 0&&(p=""+d),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(h in l)n.call(l,h)&&!o.hasOwnProperty(h)&&(f[h]=l[h]);if(c&&c.defaultProps)for(h in l=c.defaultProps,l)f[h]===void 0&&(f[h]=l[h]);return{$$typeof:e,type:c,key:p,ref:g,props:f,_owner:s.current}}return fr.Fragment=r,fr.jsx=a,fr.jsxs=a,fr}var Mo;function Yl(){return Mo||(Mo=1,Hn.exports=Jl()),Hn.exports}var i=Yl(),qr={},Lo;function Xl(){if(Lo)return qr;Lo=1;var t=Fl();return qr.createRoot=t.createRoot,qr.hydrateRoot=t.hydrateRoot,qr}var Zl=Xl();const Ql=Bl(Zl),gn=["light","dark"],Qs="(prefers-color-scheme: dark)",eu=typeof window>"u",eo=u.createContext(void 0),tu={setTheme:t=>{},themes:[]},ru=()=>{var t;return(t=u.useContext(eo))!==null&&t!==void 0?t:tu},nu=t=>u.useContext(eo)?Z.createElement(u.Fragment,null,t.children):Z.createElement(ou,t),su=["light","dark"],ou=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:o=su,defaultTheme:a=r?"system":"light",attribute:c="data-theme",value:l,children:d,nonce:h})=>{const[f,p]=u.useState(()=>Do(s,a)),[g,y]=u.useState(()=>Do(s)),v=l?Object.values(l):o,m=u.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=Uo());const k=l?l[S]:S,E=e?iu():null,C=document.documentElement;if(c==="class"?(C.classList.remove(...v),k&&C.classList.add(k)):k?C.setAttribute(c,k):C.removeAttribute(c),n){const O=gn.includes(a)?a:null,L=gn.includes(S)?S:O;C.style.colorScheme=L}E==null||E()},[]),b=u.useCallback(_=>{p(_);try{localStorage.setItem(s,_)}catch{}},[t]),w=u.useCallback(_=>{const S=Uo(_);y(S),f==="system"&&r&&!t&&m("system")},[f,t]);u.useEffect(()=>{const _=window.matchMedia(Qs);return _.addListener(w),w(_),()=>_.removeListener(w)},[w]),u.useEffect(()=>{const _=S=>{S.key===s&&b(S.newValue||a)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[b]),u.useEffect(()=>{m(t??f)},[t,f]);const x=u.useMemo(()=>({theme:f,setTheme:b,forcedTheme:t,resolvedTheme:f==="system"?g:f,themes:r?[...o,"system"]:o,systemTheme:r?g:void 0}),[f,b,t,g,r,o]);return Z.createElement(eo.Provider,{value:x},Z.createElement(au,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:o,defaultTheme:a,attribute:c,value:l,children:d,attrs:v,nonce:h}),d)},au=u.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:a,attrs:c,nonce:l})=>{const d=o==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;c.remove(${c.map(y=>`'${y}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?gn.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,v=!1,m=!0)=>{const b=a?a[y]:y,w=v?y+"|| ''":`'${b}'`;let x="";return s&&m&&!v&&gn.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),r==="class"?x+=v||b?`c.add(${w})`:"null":b&&(x+=`d[s](n,${w})`),x},g=t?`!function(){${h}${p(t)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${Qs}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${d?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return Z.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})},()=>!0),Do=(t,e)=>{if(eu)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},iu=()=>{const t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Uo=t=>(t||(t=window.matchMedia(Qs)),t.matches?"dark":"light");function cu({children:t,...e}){return i.jsx(nu,{...e,children:t})}function je(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Fo(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function On(...t){return e=>{let r=!1;const n=t.map(s=>{const o=Fo(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Fo(t[s],null)}}}}function Be(...t){return u.useCallback(On(...t),t)}function Or(t,e=[]){let r=[];function n(o,a){const c=u.createContext(a),l=r.length;r=[...r,a];const d=f=>{var b;const{scope:p,children:g,...y}=f,v=((b=p==null?void 0:p[t])==null?void 0:b[l])||c,m=u.useMemo(()=>y,Object.values(y));return i.jsx(v.Provider,{value:m,children:g})};d.displayName=o+"Provider";function h(f,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||c,y=u.useContext(g);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[d,h]}const s=()=>{const o=r.map(a=>u.createContext(a));return function(c){const l=(c==null?void 0:c[t])||o;return u.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[n,lu(s,...e)]}function lu(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((c,{useScope:l,scopeName:d})=>{const f=l(o)[`__scope${d}`];return{...c,...f}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function gs(t){const e=uu(t),r=u.forwardRef((n,s)=>{const{children:o,...a}=n,c=u.Children.toArray(o),l=c.find(hu);if(l){const d=l.props.children,h=c.map(f=>f===l?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return i.jsx(e,{...a,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function uu(t){const e=u.forwardRef((r,n)=>{const{children:s,...o}=r;if(u.isValidElement(s)){const a=pu(s),c=fu(o,s.props);return s.type!==u.Fragment&&(c.ref=n?On(n,a):a),u.cloneElement(s,c)}return u.Children.count(s)>1?u.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var du=Symbol("radix.slottable");function hu(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===du}function fu(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{const l=o(...c);return s(...c),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function pu(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function mu(t){const e=t+"CollectionProvider",[r,n]=Or(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:m,children:b}=v,w=Z.useRef(null),x=Z.useRef(new Map).current;return i.jsx(s,{scope:m,itemMap:x,collectionRef:w,children:b})};a.displayName=e;const c=t+"CollectionSlot",l=gs(c),d=Z.forwardRef((v,m)=>{const{scope:b,children:w}=v,x=o(c,b),_=Be(m,x.collectionRef);return i.jsx(l,{ref:_,children:w})});d.displayName=c;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=gs(h),g=Z.forwardRef((v,m)=>{const{scope:b,children:w,...x}=v,_=Z.useRef(null),S=Be(m,_),k=o(h,b);return Z.useEffect(()=>(k.itemMap.set(_,{ref:_,...x}),()=>void k.itemMap.delete(_))),i.jsx(p,{[f]:"",ref:S,children:w})});g.displayName=h;function y(v){const m=o(t+"CollectionConsumer",v);return Z.useCallback(()=>{const w=m.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((k,E)=>x.indexOf(k.ref.current)-x.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:d,ItemSlot:g},y,n]}var gu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=gu.reduce((t,e)=>{const r=gs(`Primitive.${e}`),n=u.forwardRef((s,o)=>{const{asChild:a,...c}=s,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Qa(t,e){t&&Ar.flushSync(()=>t.dispatchEvent(e))}function gt(t){const e=u.useRef(t);return u.useEffect(()=>{e.current=t}),u.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function vu(t,e=globalThis==null?void 0:globalThis.document){const r=gt(t);u.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var yu="DismissableLayer",vs="dismissableLayer.update",bu="dismissableLayer.pointerDownOutside",wu="dismissableLayer.focusOutside",Bo,ei=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ti=u.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...l}=t,d=u.useContext(ei),[h,f]=u.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=u.useState({}),y=Be(e,E=>f(E)),v=Array.from(d.layers),[m]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(m),w=h?v.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,_=w>=b,S=_u(E=>{const C=E.target,O=[...d.branches].some(L=>L.contains(C));!_||O||(s==null||s(E),a==null||a(E),E.defaultPrevented||c==null||c())},p),k=Su(E=>{const C=E.target;[...d.branches].some(L=>L.contains(C))||(o==null||o(E),a==null||a(E),E.defaultPrevented||c==null||c())},p);return vu(E=>{w===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},p),u.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Bo=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),zo(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Bo)}},[h,p,r,d]),u.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),zo())},[h,d]),u.useEffect(()=>{const E=()=>g({});return document.addEventListener(vs,E),()=>document.removeEventListener(vs,E)},[]),i.jsx(Ye.div,{...l,ref:y,style:{pointerEvents:x?_?"auto":"none":void 0,...t.style},onFocusCapture:je(t.onFocusCapture,k.onFocusCapture),onBlurCapture:je(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:je(t.onPointerDownCapture,S.onPointerDownCapture)})});ti.displayName=yu;var xu="DismissableLayerBranch",ri=u.forwardRef((t,e)=>{const r=u.useContext(ei),n=u.useRef(null),s=Be(e,n);return u.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(Ye.div,{...t,ref:s})});ri.displayName=xu;function _u(t,e=globalThis==null?void 0:globalThis.document){const r=gt(t),n=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let l=function(){ni(bu,r,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Su(t,e=globalThis==null?void 0:globalThis.document){const r=gt(t),n=u.useRef(!1);return u.useEffect(()=>{const s=o=>{o.target&&!n.current&&ni(wu,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function zo(){const t=new CustomEvent(vs);document.dispatchEvent(t)}function ni(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Qa(s,o):s.dispatchEvent(o)}var Eu=ti,ku=ri,vt=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},Cu="Portal",si=u.forwardRef((t,e)=>{var c;const{container:r,...n}=t,[s,o]=u.useState(!1);vt(()=>o(!0),[]);const a=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?Ya.createPortal(i.jsx(Ye.div,{...n,ref:e}),a):null});si.displayName=Cu;function ju(t,e){return u.useReducer((r,n)=>e[r][n]??r,t)}var oi=t=>{const{present:e,children:r}=t,n=$u(e),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),o=Be(n.ref,Tu(s));return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:o}):null};oi.displayName="Presence";function $u(t){const[e,r]=u.useState(),n=u.useRef(null),s=u.useRef(t),o=u.useRef("none"),a=t?"mounted":"unmounted",[c,l]=ju(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Kr(n.current);o.current=c==="mounted"?d:"none"},[c]),vt(()=>{const d=n.current,h=s.current;if(h!==t){const p=o.current,g=Kr(d);t?l("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),vt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=g=>{const v=Kr(n.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},p=g=>{g.target===e&&(o.current=Kr(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:u.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Kr(t){return(t==null?void 0:t.animationName)||"none"}function Tu(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Nu=An[" useInsertionEffect ".trim().toString()]||vt;function to({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,a]=Ru({defaultProp:e,onChange:r}),c=t!==void 0,l=c?t:s;{const h=u.useRef(t!==void 0);u.useEffect(()=>{const f=h.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=c},[c,n])}const d=u.useCallback(h=>{var f;if(c){const p=Au(h)?h(t):h;p!==t&&((f=a.current)==null||f.call(a,p))}else o(h)},[c,t,o,a]);return[l,d]}function Ru({defaultProp:t,onChange:e}){const[r,n]=u.useState(t),s=u.useRef(r),o=u.useRef(e);return Nu(()=>{o.current=e},[e]),u.useEffect(()=>{var a;s.current!==r&&((a=o.current)==null||a.call(o,r),s.current=r)},[r,s]),[r,n,o]}function Au(t){return typeof t=="function"}var Ou=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Pu="VisuallyHidden",ro=u.forwardRef((t,e)=>i.jsx(Ye.span,{...t,ref:e,style:{...Ou,...t.style}}));ro.displayName=Pu;var no="ToastProvider",[so,Iu,Mu]=mu("Toast"),[ai]=Or("Toast",[Mu]),[Lu,Pn]=ai(no),ii=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=t,[c,l]=u.useState(null),[d,h]=u.useState(0),f=u.useRef(!1),p=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${no}\`. Expected non-empty \`string\`.`),i.jsx(so.Provider,{scope:e,children:i.jsx(Lu,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:d,viewport:c,onViewportChange:l,onToastAdd:u.useCallback(()=>h(g=>g+1),[]),onToastRemove:u.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:a})})};ii.displayName=no;var ci="ToastViewport",Du=["F8"],ys="toast.viewportPause",bs="toast.viewportResume",li=u.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Du,label:s="Notifications ({hotkey})",...o}=t,a=Pn(ci,r),c=Iu(r),l=u.useRef(null),d=u.useRef(null),h=u.useRef(null),f=u.useRef(null),p=Be(e,f,a.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;u.useEffect(()=>{const m=b=>{var x;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),u.useEffect(()=>{const m=l.current,b=f.current;if(y&&m&&b){const w=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent(ys);b.dispatchEvent(k),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(bs);b.dispatchEvent(k),a.isClosePausedRef.current=!1}},_=k=>{!m.contains(k.relatedTarget)&&x()},S=()=>{m.contains(document.activeElement)||x()};return m.addEventListener("focusin",w),m.addEventListener("focusout",_),m.addEventListener("pointermove",w),m.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{m.removeEventListener("focusin",w),m.removeEventListener("focusout",_),m.removeEventListener("pointermove",w),m.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[y,a.isClosePausedRef]);const v=u.useCallback(({tabbingDirection:m})=>{const w=c().map(x=>{const _=x.ref.current,S=[_,...Xu(_)];return m==="forwards"?S:S.reverse()});return(m==="forwards"?w.reverse():w).flat()},[c]);return u.useEffect(()=>{const m=f.current;if(m){const b=w=>{var S,k,E;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const C=document.activeElement,O=w.shiftKey;if(w.target===m&&O){(S=d.current)==null||S.focus();return}const P=v({tabbingDirection:O?"backwards":"forwards"}),V=P.findIndex(T=>T===C);Gn(P.slice(V+1))?w.preventDefault():O?(k=d.current)==null||k.focus():(E=h.current)==null||E.focus()}};return m.addEventListener("keydown",b),()=>m.removeEventListener("keydown",b)}},[c,v]),i.jsxs(ku,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&i.jsx(ws,{ref:d,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"forwards"});Gn(m)}}),i.jsx(so.Slot,{scope:r,children:i.jsx(Ye.ol,{tabIndex:-1,...o,ref:p})}),y&&i.jsx(ws,{ref:h,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"backwards"});Gn(m)}})]})});li.displayName=ci;var ui="ToastFocusProxy",ws=u.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=Pn(ui,r);return i.jsx(ro,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const c=a.relatedTarget;!((d=o.viewport)!=null&&d.contains(c))&&n()}})});ws.displayName=ui;var Pr="Toast",Uu="toast.swipeStart",Fu="toast.swipeMove",Bu="toast.swipeCancel",zu="toast.swipeEnd",di=u.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...a}=t,[c,l]=to({prop:n,defaultProp:s??!0,onChange:o,caller:Pr});return i.jsx(oi,{present:r||c,children:i.jsx(qu,{open:c,...a,ref:e,onClose:()=>l(!1),onPause:gt(t.onPause),onResume:gt(t.onResume),onSwipeStart:je(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:je(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});di.displayName=Pr;var[Vu,Wu]=ai(Pr,{onClose(){}}),qu=u.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:c,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...y}=t,v=Pn(Pr,r),[m,b]=u.useState(null),w=Be(e,T=>b(T)),x=u.useRef(null),_=u.useRef(null),S=s||v.duration,k=u.useRef(0),E=u.useRef(S),C=u.useRef(0),{onToastAdd:O,onToastRemove:L}=v,H=gt(()=>{var W;(m==null?void 0:m.contains(document.activeElement))&&((W=v.viewport)==null||W.focus()),a()}),P=u.useCallback(T=>{!T||T===1/0||(window.clearTimeout(C.current),k.current=new Date().getTime(),C.current=window.setTimeout(H,T))},[H]);u.useEffect(()=>{const T=v.viewport;if(T){const W=()=>{P(E.current),d==null||d()},U=()=>{const re=new Date().getTime()-k.current;E.current=E.current-re,window.clearTimeout(C.current),l==null||l()};return T.addEventListener(ys,U),T.addEventListener(bs,W),()=>{T.removeEventListener(ys,U),T.removeEventListener(bs,W)}}},[v.viewport,S,l,d,P]),u.useEffect(()=>{o&&!v.isClosePausedRef.current&&P(S)},[o,S,v.isClosePausedRef,P]),u.useEffect(()=>(O(),()=>L()),[O,L]);const V=u.useMemo(()=>m?yi(m):null,[m]);return v.viewport?i.jsxs(i.Fragment,{children:[V&&i.jsx(Ku,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:V}),i.jsx(Vu,{scope:r,onClose:H,children:Ar.createPortal(i.jsx(so.ItemSlot,{scope:r,children:i.jsx(Eu,{asChild:!0,onEscapeKeyDown:je(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||H(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ye.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:je(t.onKeyDown,T=>{T.key==="Escape"&&(c==null||c(T.nativeEvent),T.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:je(t.onPointerDown,T=>{T.button===0&&(x.current={x:T.clientX,y:T.clientY})}),onPointerMove:je(t.onPointerMove,T=>{if(!x.current)return;const W=T.clientX-x.current.x,U=T.clientY-x.current.y,re=!!_.current,D=["left","right"].includes(v.swipeDirection),N=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=D?N(0,W):0,oe=D?0:N(0,U),ae=T.pointerType==="touch"?10:2,pe={x:Y,y:oe},de={originalEvent:T,delta:pe};re?(_.current=pe,Hr(Fu,f,de,{discrete:!1})):Vo(pe,v.swipeDirection,ae)?(_.current=pe,Hr(Uu,h,de,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(W)>ae||Math.abs(U)>ae)&&(x.current=null)}),onPointerUp:je(t.onPointerUp,T=>{const W=_.current,U=T.target;if(U.hasPointerCapture(T.pointerId)&&U.releasePointerCapture(T.pointerId),_.current=null,x.current=null,W){const re=T.currentTarget,D={originalEvent:T,delta:W};Vo(W,v.swipeDirection,v.swipeThreshold)?Hr(zu,g,D,{discrete:!0}):Hr(Bu,p,D,{discrete:!0}),re.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Ku=t=>{const{__scopeToast:e,children:r,...n}=t,s=Pn(Pr,e),[o,a]=u.useState(!1),[c,l]=u.useState(!1);return Ju(()=>a(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:i.jsx(si,{asChild:!0,children:i.jsx(ro,{...n,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},Hu="ToastTitle",hi=u.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ye.div,{...n,ref:e})});hi.displayName=Hu;var Gu="ToastDescription",fi=u.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ye.div,{...n,ref:e})});fi.displayName=Gu;var pi="ToastAction",mi=u.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(vi,{altText:r,asChild:!0,children:i.jsx(oo,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${pi}\`. Expected non-empty \`string\`.`),null)});mi.displayName=pi;var gi="ToastClose",oo=u.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Wu(gi,r);return i.jsx(vi,{asChild:!0,children:i.jsx(Ye.button,{type:"button",...n,ref:e,onClick:je(t.onClick,s.onClose)})})});oo.displayName=gi;var vi=u.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return i.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function yi(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Yu(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...yi(n))}}),e}function Hr(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Qa(s,o):s.dispatchEvent(o)}var Vo=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function Ju(t=()=>{}){const e=gt(t);vt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Yu(t){return t.nodeType===t.ELEMENT_NODE}function Xu(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Gn(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Zu=ii,bi=li,wi=di,xi=hi,_i=fi,Si=mi,Ei=oo;function ki(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=ki(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Qu(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=ki(t))&&(n&&(n+=" "),n+=e);return n}const Wo=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,qo=Qu,In=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return qo(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(d=>{const h=r==null?void 0:r[d],f=o==null?void 0:o[d];if(h===null)return null;const p=Wo(h)||Wo(f);return s[d][p]}),c=r&&Object.entries(r).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(y=>{let[v,m]=y;return Array.isArray(m)?m.includes({...o,...c}[v]):{...o,...c}[v]===m})?[...d,f,p]:d},[]);return qo(t,a,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ed={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(t,e)=>{const r=u.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:c="",children:l,...d},h)=>u.createElement("svg",{ref:h,...ed,width:s,height:s,stroke:n,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${td(t)}`,c].join(" "),...d},[...e.map(([f,p])=>u.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=se("CornerRightDown",[["polyline",{points:"10 15 15 20 20 15",key:"axus6l"}],["path",{d:"M4 4h7a4 4 0 0 1 4 4v12",key:"wcbgct"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=se("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=se("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=se("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=se("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=se("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=se("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=se("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ji(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=ji(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Sd(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=ji(t))&&(n&&(n+=" "),n+=e);return n}const io="-";function Ed(t){const e=Cd(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;function s(a){const c=a.split(io);return c[0]===""&&c.length!==1&&c.shift(),$i(c,e)||kd(a)}function o(a,c){const l=r[a]||[];return c&&n[a]?[...l,...n[a]]:l}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function $i(t,e){var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?$i(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(io);return(a=e.validators.find(({validator:c})=>c(o)))==null?void 0:a.classGroupId}const Go=/^\[(.+)\]$/;function kd(t){if(Go.test(t)){const e=Go.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function Cd(t){const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return $d(Object.entries(t.classGroups),r).forEach(([o,a])=>{Es(a,n,o,e)}),n}function Es(t,e,r,n){t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Jo(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(jd(s)){Es(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{Es(a,Jo(e,o),r,n)})})}function Jo(t,e){let r=t;return e.split(io).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function jd(t){return t.isThemeGetter}function $d(t,e){return e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,c])=>[e+a,c])):o);return[r,s]}):t}function Td(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;function s(o,a){r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)}return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}}const Ti="!";function Nd(t){const e=t.separator,r=e.length===1,n=e[0],s=e.length;return function(a){const c=[];let l=0,d=0,h;for(let v=0;v<a.length;v++){let m=a[v];if(l===0){if(m===n&&(r||a.slice(v,v+s)===e)){c.push(a.slice(d,v)),d=v+s;continue}if(m==="/"){h=v;continue}}m==="["?l++:m==="]"&&l--}const f=c.length===0?a:a.substring(d),p=f.startsWith(Ti),g=p?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}}}function Rd(t){if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e}function Ad(t){return{cache:Td(t.cacheSize),splitModifiers:Nd(t),...Ed(t)}}const Od=/\s+/;function Pd(t,e){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=new Set;return t.trim().split(Od).map(a=>{const{modifiers:c,hasImportantModifier:l,baseClassName:d,maybePostfixModifierPosition:h}=r(a);let f=n(h?d.substring(0,h):d),p=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:a};if(f=n(d),!f)return{isTailwindClass:!1,originalClassName:a};p=!1}const g=Rd(c).join(":");return{isTailwindClass:!0,modifierId:l?g+Ti:g,classGroupId:f,originalClassName:a,hasPostfixModifier:p}}).reverse().filter(a=>{if(!a.isTailwindClass)return!0;const{modifierId:c,classGroupId:l,hasPostfixModifier:d}=a,h=c+l;return o.has(h)?!1:(o.add(h),s(l,d).forEach(f=>o.add(c+f)),!0)}).reverse().map(a=>a.originalClassName).join(" ")}function Id(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Ni(e))&&(n&&(n+=" "),n+=r);return n}function Ni(t){if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Ni(t[n]))&&(r&&(r+=" "),r+=e);return r}function Md(t,...e){let r,n,s,o=a;function a(l){const d=e.reduce((h,f)=>f(h),t());return r=Ad(d),n=r.cache.get,s=r.cache.set,o=c,c(l)}function c(l){const d=n(l);if(d)return d;const h=Pd(l,r);return s(l,h),h}return function(){return o(Id.apply(null,arguments))}}function le(t){const e=r=>r[t]||[];return e.isThemeGetter=!0,e}const Ri=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ld=/^\d+\/\d+$/,Dd=new Set(["px","full","screen"]),Ud=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bd=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ze(t){return At(t)||Dd.has(t)||Ld.test(t)}function lt(t){return or(t,"length",Yd)}function At(t){return!!t&&!Number.isNaN(Number(t))}function Gr(t){return or(t,"number",At)}function mr(t){return!!t&&Number.isInteger(Number(t))}function Vd(t){return t.endsWith("%")&&At(t.slice(0,-1))}function X(t){return Ri.test(t)}function ut(t){return Ud.test(t)}const Wd=new Set(["length","size","percentage"]);function qd(t){return or(t,Wd,Ai)}function Kd(t){return or(t,"position",Ai)}const Hd=new Set(["image","url"]);function Gd(t){return or(t,Hd,Zd)}function Jd(t){return or(t,"",Xd)}function gr(){return!0}function or(t,e,r){const n=Ri.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1}function Yd(t){return Fd.test(t)}function Ai(){return!1}function Xd(t){return Bd.test(t)}function Zd(t){return zd.test(t)}function Qd(){const t=le("colors"),e=le("spacing"),r=le("blur"),n=le("brightness"),s=le("borderColor"),o=le("borderRadius"),a=le("borderSpacing"),c=le("borderWidth"),l=le("contrast"),d=le("grayscale"),h=le("hueRotate"),f=le("invert"),p=le("gap"),g=le("gradientColorStops"),y=le("gradientColorStopPositions"),v=le("inset"),m=le("margin"),b=le("opacity"),w=le("padding"),x=le("saturate"),_=le("scale"),S=le("sepia"),k=le("skew"),E=le("space"),C=le("translate"),O=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",X,e],P=()=>[X,e],V=()=>["",Ze,lt],T=()=>["auto",At,X],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],D=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",X],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[At,Gr],ae=()=>[At,X];return{cacheSize:500,separator:":",theme:{colors:[gr],spacing:[Ze,lt],blur:["none","",ut,X],brightness:oe(),borderColor:[t],borderRadius:["none","","full",ut,X],borderSpacing:P(),borderWidth:V(),contrast:oe(),grayscale:N(),hueRotate:ae(),invert:N(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Vd,lt],inset:H(),margin:H(),opacity:oe(),padding:P(),saturate:oe(),scale:oe(),sepia:N(),skew:ae(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[ut]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),X]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mr,X]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",mr,X]}],"grid-cols":[{"grid-cols":[gr]}],"col-start-end":[{col:["auto",{span:["full",mr,X]},X]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[gr]}],"row-start-end":[{row:["auto",{span:[mr,X]},X]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",X,e]}],"min-w":[{"min-w":[X,e,"min","max","fit"]}],"max-w":[{"max-w":[X,e,"none","full","min","max","fit","prose",{screen:[ut]},ut]}],h:[{h:[X,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[X,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[X,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[X,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ut,lt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gr]}],"font-family":[{font:[gr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",At,Gr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ze,X]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ze,lt]}],"underline-offset":[{"underline-offset":["auto",Ze,X]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Kd]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Gd]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Ze,X]}],"outline-w":[{outline:[Ze,lt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ze,lt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ut,Jd]}],"shadow-color":[{shadow:[gr]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":re()}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ut,X]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[mr,X]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ze,lt,Gr]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const eh=Md(Qd);function Q(...t){return eh(Sd(t))}const th=Zu,Oi=u.forwardRef(({className:t,...e},r)=>i.jsx(bi,{ref:r,className:Q("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Oi.displayName=bi.displayName;const rh=In("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full sm:data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Pi=u.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(wi,{ref:n,className:Q(rh({variant:e}),t),...r}));Pi.displayName=wi.displayName;const nh=u.forwardRef(({className:t,...e},r)=>i.jsx(Si,{ref:r,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 hover:group-[.destructive]:border-destructive/30 hover:group-[.destructive]:bg-destructive hover:group-[.destructive]:text-destructive-foreground focus:group-[.destructive]:ring-destructive",t),...e}));nh.displayName=Si.displayName;const Ii=u.forwardRef(({className:t,...e},r)=>i.jsx(Ei,{ref:r,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-hidden focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 hover:group-[.destructive]:text-red-50 focus:group-[.destructive]:ring-red-400 focus:group-[.destructive]:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(ao,{className:"h-4 w-4"})}));Ii.displayName=Ei.displayName;const Mi=u.forwardRef(({className:t,...e},r)=>i.jsx(xi,{ref:r,className:Q("text-sm font-semibold",t),...e}));Mi.displayName=xi.displayName;const Li=u.forwardRef(({className:t,...e},r)=>i.jsx(_i,{ref:r,className:Q("text-sm opacity-90",t),...e}));Li.displayName=_i.displayName;const sh=1,oh=1e6;let Yn=0;function ah(){return Yn=(Yn+1)%Number.MAX_SAFE_INTEGER,Yn.toString()}const Xn=new Map,Yo=t=>{if(Xn.has(t))return;const e=setTimeout(()=>{Xn.delete(t),wr({type:"REMOVE_TOAST",toastId:t})},oh);Xn.set(t,e)},ih=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,sh)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Yo(r):t.toasts.forEach(n=>{Yo(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},un=[];let dn={toasts:[]};function wr(t){dn=ih(dn,t),un.forEach(e=>{e(dn)})}function ch({...t}){const e=ah(),r=s=>wr({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>wr({type:"DISMISS_TOAST",toastId:e});return wr({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function ar(){const[t,e]=u.useState(dn);return u.useEffect(()=>(un.push(e),()=>{const r=un.indexOf(e);r>-1&&un.splice(r,1)}),[t]),{...t,toast:ch,dismiss:r=>wr({type:"DISMISS_TOAST",toastId:r})}}function lh(){const{toasts:t}=ar();return i.jsxs(th,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return i.jsxs(Pi,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Mi,{children:r}),n&&i.jsx(Li,{children:n})]}),s,i.jsx(Ii,{})]},e)}),i.jsx(Oi,{})]})}var uh=Symbol.for("react.lazy"),bn=An[" use ".trim().toString()];function dh(t){return typeof t=="object"&&t!==null&&"then"in t}function Di(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===uh&&"_payload"in t&&dh(t._payload)}function hh(t){const e=ph(t),r=u.forwardRef((n,s)=>{let{children:o,...a}=n;Di(o)&&typeof bn=="function"&&(o=bn(o._payload));const c=u.Children.toArray(o),l=c.find(gh);if(l){const d=l.props.children,h=c.map(f=>f===l?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return i.jsx(e,{...a,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var fh=hh("Slot");function ph(t){const e=u.forwardRef((r,n)=>{let{children:s,...o}=r;if(Di(s)&&typeof bn=="function"&&(s=bn(s._payload)),u.isValidElement(s)){const a=yh(s),c=vh(o,s.props);return s.type!==u.Fragment&&(c.ref=n?On(n,a):a),u.cloneElement(s,c)}return u.Children.count(s)>1?u.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mh=Symbol("radix.slottable");function gh(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mh}function vh(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{const l=o(...c);return s(...c),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function yh(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const bh=In("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",pulseBtn:"bg-primary text-primary-foreground hover:bg-primary/90 animate-pulse-glow",spinner:"inline-flex border border-4 animate-spinner rounded-full border-r-primary",skeleton:"bg-skeleton bg-size-[400%_100%] animate-skeleton text-transparent",hover1:"bg-primary text-primary-foreground border-b-4 border-b-border-secondary hover:bg-primary/90 border-t-0 transition-all duration-100 ease-in-out hover:border-b-0 hover:border-t-4",clickIn:"bg-primary hover:scale-[1.05] text-primary-foreground active:scale-[0.95] hover:bg-primary/90 transition",ringHover:"bg-primary text-primary-foreground transition-all duration-300 hover:bg-primary/90 hover:ring-2 hover:ring-primary/90 hover:ring-offset-2",popUp:"bg-primary text-primary-foreground transition-all hover:shadow-[4px_4px_0px_1px] hover:shadow-primary/50 dark:shadow-gray-600 hover:-translate-x-1 hover:-translate-y-1",popIn:"bg-primary text-primary-foreground transition-all shadow-[4px_4px_0px_1px] shadow-primary/50 dark:shadow-gray-600 hover:translate-x-1 hover:translate-y-1 hover:shadow-[0px_0px_0px_0px]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=u.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const a=n?fh:"button";return i.jsx(a,{className:Q(bh({variant:e,size:r,className:t})),ref:o,...s})});te.displayName="Button";function wh(){return i.jsxs(br,{to:"/",className:"logo-full select-none hover:bg-secondary py-1 px-3 rounded-md flex items-center gap-1.5",children:[i.jsxs("picture",{children:[i.jsx("source",{media:"(max-width: 768px)",srcSet:"https://i.imgur.com/ES8tURJ.png"}),i.jsx("img",{src:"https://i.imgur.com/ES8tURJ.png",width:200,alt:"LinkShot Logo",className:"logo logo-img max-w-[50px] mt-1 md:max-w-none"})]}),i.jsx("h1",{className:"logo-text",style:{fontSize:"20px",fontWeight:"bolder !important"},children:"linkshot.lol"})]})}var Ke=function(){return Ke=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ke.apply(this,arguments)};function ir(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function xh(t,e,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function c(h){try{d(n.next(h))}catch(f){a(f)}}function l(h){try{d(n.throw(h))}catch(f){a(f)}}function d(h){h.done?o(h.value):s(h.value).then(c,l)}d((n=n.apply(t,e||[])).next())})}function _h(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}const Sh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class co extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Eh extends co{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Xo extends co{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zo extends co{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ks;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ks||(ks={}));class kh{constructor(e,{headers:r={},customFetch:n,region:s=ks.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Sh(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xh(this,arguments,void 0,function*(r,n={}){var s;let o,a;try{const{headers:c,method:l,body:d,signal:h,timeout:f}=n;let p={},{region:g}=n;g||(g=this.region);const y=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let v;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(p["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(p["Content-Type"]="application/json",v=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?v=JSON.stringify(d):v=d;let m=h;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),h?(m=a.signal,h.addEventListener("abort",()=>a.abort())):m=a.signal);const b=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),c),body:v,signal:m}).catch(S=>{throw new Eh(S)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new Xo(b);if(!b.ok)throw new Zo(b);let x=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield b.json():x==="application/octet-stream"||x==="application/pdf"?_=yield b.blob():x==="text/event-stream"?_=b:x==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(c){return{data:null,error:c,response:c instanceof Zo||c instanceof Xo?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var Ch=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},jh=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,c=null,l=null,d=o.status,h=o.statusText;if(o.ok){var f,p;if(r.method!=="HEAD"){var g;const b=await o.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?c=b:c=JSON.parse(b))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),m=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");v&&m&&m.length>1&&(l=parseInt(m[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(a={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,l=null,d=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var y;const v=await o.text();try{a=JSON.parse(v),Array.isArray(a)&&o.status===404&&(c=[],a=null,d=200,h="OK")}catch{o.status===404&&v===""?(d=204,h="No Content"):a={message:v}}if(a&&r.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,d=200,h="OK"),a&&r.shouldThrowOnError)throw new Ch(a)}return{error:a,data:c,count:l,status:d,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var a;let c="";const l=o==null?void 0:o.cause;if(l){var d,h,f,p;const y=(d=l==null?void 0:l.message)!==null&&d!==void 0?d:"",v=(h=l==null?void 0:l.code)!==null&&h!==void 0?h:"";c=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,c+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${y}`,v&&(c+=` (${v})`),l!=null&&l.stack&&(c+=`
${l.stack}`)}else{var g;c=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},$h=class extends jh{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var a;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Qo=new RegExp("[,()]");var Jt=class extends $h{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qo.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qo.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Th=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join(""),{url:c,headers:l}=this.cloneRequestState();return c.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new Jt({method:s,url:c,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){const l=[...new Set(c)].map(d=>`"${d}"`);o.searchParams.set("columns",l.join(","))}}return new Jt({method:s,url:o,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const a="POST",{url:c,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);c.searchParams.set("columns",h.join(","))}}return new Jt({method:a,url:c,headers:l,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Jt({method:n,url:s,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Jt({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Nh=class Ui{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Th(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ui(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var a;let c;const l=new URL(`${this.url}/rpc/${e}`);let d;const h=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(h)),f=n&&Object.values(r).some(h);f?(c="POST",d=r):n||s?(c=n?"HEAD":"GET",Object.entries(r).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{l.searchParams.append(g,y)})):(c="POST",d=r);const p=new Headers(this.headers);return f?p.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&p.set("Prefer",`count=${o}`),new Jt({method:c,url:l,headers:p,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Rh{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ah="2.93.3",Oh=`realtime-js/${Ah}`,Ph="1.0.0",Fi="2.0.0",ea=Fi,Cs=1e4,Ih=1e3,Mh=100;var ft;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ft||(ft={}));var ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ge||(ge={}));var Ue;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ue||(Ue={}));var js;(function(t){t.websocket="websocket"})(js||(js={}));var Nt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Nt||(Nt={}));class Lh{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,o;const a=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",d=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+a.length+d.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(g),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,l.length),y.setUint8(v++,c.length),y.setUint8(v++,a.length),y.setUint8(v++,d.length),y.setUint8(v++,f.length),y.setUint8(v++,r),Array.from(l,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(c,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(d,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(f,b=>y.setUint8(v++,b.charCodeAt(0)));var m=new Uint8Array(g.byteLength+n.byteLength);return m.set(new Uint8Array(g),0),m.set(new Uint8Array(n),g.byteLength),m.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,o,a,c,l]=n;return r({join_ref:s,ref:o,topic:a,event:c,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3),c=r.getUint8(4);let l=this.HEADER_LENGTH+4;const d=n.decode(e.slice(l,l+s));l=l+s;const h=n.decode(e.slice(l,l+o));l=l+o;const f=n.decode(e.slice(l,l+a));l=l+a;const p=e.slice(l,e.byteLength),g=c===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST_EVENT,event:h,payload:g};return a>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Bi{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ce||(ce={}));const ta=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Dh(a,t,e,s),o),{}):{}},Dh=(t,e,r,n)=>{const s=e.find(c=>c.name===t),o=s==null?void 0:s.type,a=r[t];return o&&!n.includes(o)?zi(o,a):$s(a)},zi=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zh(e,r)}switch(t){case ce.bool:return Uh(e);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return Fh(e);case ce.json:case ce.jsonb:return Bh(e);case ce.timestamp:return Vh(e);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return $s(e);default:return $s(e)}},$s=t=>t,Uh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},zh=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(c=>zi(e,c))}return t},Vh=t=>typeof t=="string"?t.replace(" ","T"):t,Vi=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Zn{constructor(e,r,n={},s=Cs){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ra;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ra||(ra={}));class xr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xr.syncState(this.state,s,o,a),this.pendingDiffs.forEach(l=>{this.state=xr.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xr.syncDiff(this.state,s,o,a),c())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),a=this.transformState(r),c={},l={};return this.map(o,(d,h)=>{a[d]||(l[d]=h)}),this.map(a,(d,h)=>{const f=o[d];if(f){const p=h.map(m=>m.presence_ref),g=f.map(m=>m.presence_ref),y=h.filter(m=>g.indexOf(m.presence_ref)<0),v=f.filter(m=>p.indexOf(m.presence_ref)<0);y.length>0&&(c[d]=y),v.length>0&&(l[d]=v)}else c[d]=h}),this.syncDiff(o,{joins:c,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(c,l)=>{var d;const h=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(l),h.length>0){const f=e[c].map(g=>g.presence_ref),p=h.filter(g=>f.indexOf(g.presence_ref)<0);e[c].unshift(...p)}n(c,h,l)}),this.map(a,(c,l)=>{let d=e[c];if(!d)return;const h=l.map(f=>f.presence_ref);d=d.filter(f=>h.indexOf(f.presence_ref)<0),e[c]=d,s(c,d,l),d.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var na;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(na||(na={}));var _r;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_r||(_r={}));var Qe;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qe||(Qe={}));class Qt{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zn(this,Ue.join,this.params,this.timeout),this.rejoinTimer=new Bi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ue.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new xr(this),this.broadcastEndpointURL=Vi(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ge.closed){const{config:{broadcast:a,presence:c,private:l}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[_r.PRESENCE]&&this.bindings[_r.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Qe.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Qe.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Qe.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,m=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,b=[];for(let w=0;w<m;w++){const x=v[w],{filter:{event:_,schema:S,table:k,filter:E}}=x,C=g&&g[w];if(C&&C.event===_&&Qt.isFilterValueEqual(C.schema,S)&&Qt.isFilterValueEqual(C.table,k)&&Qt.isFilterValueEqual(C.filter,E))b.push(Object.assign(Object.assign({},x),{id:C.id}));else{this.unsubscribe(),this.state=ge.errored,e==null||e(Qe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Qe.SUBSCRIBED);return}}).receive("error",g=>{this.state=ge.errored,e==null||e(Qe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Qe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ge.joined&&e===_r.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let l=c.statusText;try{const d=await c.json();l=d.error||d.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,c,l;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ue.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Zn(this,Ue.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ge.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zn(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Mh){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const a=e.toLocaleLowerCase(),{close:c,error:l,leave:d,join:h}=Ue;if(n&&[c,l,d,h].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,v,m;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((m=(v=g.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===a}).map(g=>g.callback(p,n)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var y,v,m,b,w,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const _=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const _=(w=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:v,table:m,commit_timestamp:b,type:w,errors:x}=y;p=Object.assign(Object.assign({},{schema:v,table:m,commit_timestamp:b,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(y))}g.callback(p,n)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Qt.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ue.close,{},e)}_onError(e){this._on(Ue.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ta(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ta(e.columns,e.old_record)),r}}const Qn=()=>{},Jr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wh=[1e3,2e3,5e3,1e4],qh=1e4,Kh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hh{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cs,this.transport=null,this.heartbeatIntervalMs=Jr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qn,this.ref=0,this.reconnectTimer=null,this.vsn=ea,this.logger=Qn,this.conn=null,this.sendBuffer=[],this.serializer=new Lh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${js.websocket}`,this.httpEndpoint=Vi(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ft.connecting:return Nt.Connecting;case ft.open:return Nt.Open;case ft.closing:return Nt.Closing;default:return Nt.Closed}}isConnected(){return this.connectionState()===Nt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Qt(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,a=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ih,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Jr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",d)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:a}=r,c=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${c}`.trim(),o),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ft.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ft.open||this.conn.readyState===ft.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ue.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Kh],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:Oh};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Ue.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Bi(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,a,c,l,d,h,f,p,g;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Cs,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Jr.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Qn,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:ea,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(y=>Wh[y-1]||qh),this.vsn){case Ph:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((y,v)=>v(JSON.stringify(y))),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:((y,v)=>v(JSON.parse(y)));break;case Fi:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Sr=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Gh(t,e,r){const n=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function Jh(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Yh(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:a}){const c=Gh(t.baseUrl,n,s),l=await Jh(t.auth),d=await e(c,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),h=await d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),p=f&&h?JSON.parse(h):h;if(!d.ok){const g=f?p:void 0,y=g==null?void 0:g.error;throw new Sr((y==null?void 0:y.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:d.status,headers:d.headers,data:p}}}}function Yr(t){return t.join("")}var Xh=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Yr(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yr(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yr(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yr(t.namespace)}`}),!0}catch(e){if(e instanceof Sr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Sr&&r.status===409)return;throw r}}};function Dt(t){return t.join("")}var Zh=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dt(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dt(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dt(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dt(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dt(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dt(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Sr&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Sr&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Qh=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Yh({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Xh(this.client,e),this.tableOps=new Zh(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Mn=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Ln(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Xr=class extends Mn{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Wi=class extends Mn{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const ef=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tf=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ts=t=>{if(Array.isArray(t))return t.map(r=>Ts(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Ts(n)}),e},rf=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Er(t){"@babel/helpers - typeof";return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(t)}function nf(t,e){if(Er(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Er(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sf(t){var e=nf(t,"string");return Er(e)=="symbol"?e:e+""}function of(t,e,r){return(e=sf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sa(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sa(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const oa=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},af=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,o=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const c=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";e(new Xr(oa(a),o,c,n))}).catch(()=>{if(n==="vectors"){const a=o+"";e(new Xr(s.statusText||`HTTP ${o} error`,o,a,n))}else{const a=o+"";e(new Xr(s.statusText||`HTTP ${o} error`,o,a,n))}});else{const a=o+"";e(new Xr(s.statusText||`HTTP ${o} error`,o,a,n))}}else e(new Wi(oa(t),t,n))},cf=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?z(z({},s),r):(tf(n)?(s.headers=z({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),z(z({},s),r))};async function vr(t,e,r,n,s,o,a){return new Promise((c,l)=>{t(r,cf(e,n,s,o)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;if(a==="vectors"){const h=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!h||!h.includes("application/json"))return{}}return d.json()}).then(d=>c(d)).catch(d=>af(d,l,n,a))})}function qi(t="storage"){return{get:async(e,r,n,s)=>vr(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,o)=>vr(e,"POST",r,s,o,n,t),put:async(e,r,n,s,o)=>vr(e,"PUT",r,s,o,n,t),head:async(e,r,n,s)=>vr(e,"HEAD",r,z(z({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,o)=>vr(e,"DELETE",r,s,o,n,t)}}const lf=qi("storage"),{get:kr,post:De,put:Ns,head:uf,remove:lo}=lf,$e=qi("vectors");var cr=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=ef(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}}},df=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ln(e))return{data:null,error:e};throw e}}};let Ki;Ki=Symbol.toStringTag;var hf=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Ki]="BlobDownloadBuilder",this.promise=null}asStream(){return new df(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ln(e))return{data:null,error:e};throw e}}};const ff={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var pf=class extends cr{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let o;const a=z(z({},aa),n);let c=z(z({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",s.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(l))):(o=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,l&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(c=z(z({},c),n.headers));const d=s._removeEmptyFolders(e),h=s._getFinalPath(d),f=await(t=="PUT"?Ns:De)(s.fetch,`${s.url}/object/${h}`,o,z({headers:c},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:d,id:f.Id,fullPath:f.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const o=s._removeEmptyFolders(t),a=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${a}`);return c.searchParams.set("token",e),s.handleOperation(async()=>{let l;const d=z({upsert:aa.upsert},n),h=z(z({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",d.cacheControl)):(l=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType),{path:o,fullPath:(await Ns(s.fetch,c.toString(),l,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=z({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const o=await De(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+o.url),c=a.searchParams.get("token");if(!c)throw new Mn("No token returned by API");return{signedUrl:a.toString(),path:t,token:c}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await De(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),o=await De(n.fetch,`${n.url}/object/sign/${s}`,z({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${o.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await De(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>z(z({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${o}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(t),a=()=>kr(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new hf(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Ts(await kr(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await uf(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ln(n)&&n instanceof Wi){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await lo(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=z(z(z({},ff),e),{},{prefix:t||""});return await De(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=z({},t);return await De(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const mf="2.93.3",Ir={"X-Client-Info":`storage-js/${mf}`};var gf=class extends cr{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),a=z(z({},Ir),e);super(o,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await kr(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await kr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await De(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Ns(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await De(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await lo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},vf=class extends cr{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=z(z({},Ir),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await De(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await kr(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await lo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!rf(t))throw new Mn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Qh({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const a=s[o];return typeof a!="function"?a:async(...c)=>{try{return{data:await a.apply(s,c),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},yf=class extends cr{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=z(z({},Ir),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await $e.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await $e.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},bf=class extends cr{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=z(z({},Ir),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},wf=class extends cr{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=z(z({},Ir),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},xf=class extends wf{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new _f(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},_f=class extends yf{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,z(z({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,z(z({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Sf(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Sf=class extends bf{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,z(z({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,z(z({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,z(z({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,z(z({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,z(z({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Ef=class extends gf{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new pf(this.url,this.headers,t,this.fetch)}get vectors(){return new xf(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vf(this.url+"/iceberg",this.headers,this.fetch)}};const Hi="2.93.3",Yt=30*1e3,Rs=3,es=Rs*Yt,kf="http://localhost:9999",Cf="supabase.auth.token",jf={"X-Client-Info":`gotrue-js/${Hi}`},As="X-Supabase-Api-Version",Gi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$f=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tf=600*1e3;class Cr extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Nf extends Cr{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Rf(t){return M(t)&&t.name==="AuthApiError"}class Rt extends Cr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class nt extends Cr{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ke extends nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ts(t){return M(t)&&t.name==="AuthSessionMissingError"}class Ut extends nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zr extends nt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qr extends nt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Af(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class ia extends nt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Of extends nt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Os extends nt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function rs(t){return M(t)&&t.name==="AuthRetryableFetchError"}class ca extends nt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ps extends nt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),la=` 	
\r=`.split(""),Pf=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<la.length;e+=1)t[la[e].charCodeAt(0)]=-2;for(let e=0;e<wn.length;e+=1)t[wn[e].charCodeAt(0)]=e;return t})();function ua(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(wn[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(wn[n]),e.queuedBits-=6}}function Ji(t,e,r){const n=Pf[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function da(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{Lf(a,n,r)};for(let a=0;a<t.length;a+=1)Ji(t.charCodeAt(a),s,o);return e.join("")}function If(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Mf(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}If(n,e)}}function Lf(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function tr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ji(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Df(t){const e=[];return Mf(t,r=>e.push(r)),new Uint8Array(e)}function Ot(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>ua(s,r,n)),ua(null,r,n),e.join("")}function Uf(t){return Math.round(Date.now()/1e3)+t}function Ff(){return Symbol("auth-callback")}const ye=()=>typeof window<"u"&&typeof document<"u",Ct={tested:!1,writable:!1},Yi=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ct.tested)return Ct.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ct.tested=!0,Ct.writable=!0}catch{Ct.tested=!0,Ct.writable=!1}return Ct.writable};function Bf(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Xi=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zf=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xt=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},jt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ve=async(t,e)=>{await t.removeItem(e)};class Dn{constructor(){this.promise=new Dn.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Dn.promiseConstructor=Promise;function en(t){const e=t.split(".");if(e.length!==3)throw new Ps("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!$f.test(e[n]))throw new Ps("JWT not in base64url format");return{header:JSON.parse(da(e[0])),payload:JSON.parse(da(e[1])),signature:tr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vf(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Wf(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){s(a);return}}})()})}function qf(t){return("0"+t.toString(16)).substr(-2)}function Kf(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,qf).join("")}async function Hf(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Gf(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Hf(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ft(t,e,r=!1){const n=Kf();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xt(t,`${e}-code-verifier`,s);const o=await Gf(n);return[o,n===o?"plain":"s256"]}const Jf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yf(t){const e=t.headers.get(As);if(!e||!e.match(Jf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xf(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zf(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bt(t){if(!Qf.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ns(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ep(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function ha(t){return JSON.parse(JSON.stringify(t))}const Tt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tp=[502,503,504];async function fa(t){var e;if(!zf(t))throw new Os(Tt(t),0);if(tp.includes(t.status))throw new Os(Tt(t),t.status);let r;try{r=await t.json()}catch(o){throw new Rt(Tt(o),o)}let n;const s=Yf(t);if(s&&s.getTime()>=Gi["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ca(Tt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ke}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new ca(Tt(r),t.status,r.weak_password.reasons);throw new Nf(Tt(r),t.status||500,n)}const rp=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function F(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[As]||(o[As]=Gi["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await np(t,e,r+c,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function np(t,e,r,n,s,o){const a=rp(e,n,s,o);let c;try{c=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Os(Tt(l),0)}if(c.ok||await fa(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(l){await fa(l)}}function Le(t){var e;let r=null;ap(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Uf(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function pa(t){const e=Le(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function pt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sp(t){return{data:t,error:null}}function op(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,a=ir(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},a);return{data:{properties:c,user:l},error:null}}function ma(t){return t}function ap(t){return t.access_token&&t.refresh_token&&t.expires_in}const ss=["global","local","others"];class ip{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Xi(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ss[0]){if(ss.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ss.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ir(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:op,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,a,c,l;try{const d={nextPage:null,lastPage:0,total:0},h=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:ma});if(h.error)throw h.error;const f=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);d[`${m}Page`]=v}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(M(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Bt(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Bt(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:pt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Bt(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:pt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Bt(e.userId);try{const{data:r,error:n}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Bt(e.userId),Bt(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,a,c,l;try{const d={nextPage:null,lastPage:0,total:0},h=await F(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:ma});if(h.error)throw h.error;const f=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);d[`${m}Page`]=v}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(M(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await F(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await F(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await F(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}}function ga(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const zt={debug:!!(globalThis&&Yi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cp extends Zi{}async function lp(t,e,r){zt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),zt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){zt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{zt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw zt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cp(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zt.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function up(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qi(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function dp(t){return parseInt(t,16)}function hp(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function fp(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:a,notBefore:c,requestId:l,resources:d,scheme:h,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=Qi(t.address),y=h?`${h}://${n}`:n,v=t.statement?`${t.statement}
`:"",m=`${y} wants you to sign in with your Ethereum account:
${g}

${v}`;let b=`URI: ${f}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),c&&(b+=`
Not Before: ${c.toISOString()}`),l&&(b+=`
Request ID: ${l}`),d){let w=`
Resources:`;for(const x of d){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}b+=w}return`${m}
${b}`}class me extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class xn extends me{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function pp({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(ec(a)){if(o.rp.id!==a)return new me({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function mp({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(ec(n)){if(r.rpId!==n)return new me({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class gp{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vp=new gp;function yp(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=ir(t,["challenge","user","excludeCredentials"]),o=tr(e).buffer,a=Object.assign(Object.assign({},r),{id:tr(r.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:a});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];c.excludeCredentials[l]=Object.assign(Object.assign({},d),{id:tr(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function bp(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ir(t,["challenge","allowCredentials"]),s=tr(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const c=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},c),{id:tr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function wp(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ot(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ot(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xp(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ot(new Uint8Array(s.authenticatorData)),clientDataJSON:Ot(new Uint8Array(s.clientDataJSON)),signature:Ot(new Uint8Array(s.signature)),userHandle:s.userHandle?Ot(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ec(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function va(){var t,e;return!!(ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _p(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xn("Browser returned unexpected credential type",e)}:{data:null,error:new xn("Empty credential response",e)}}catch(e){return{data:null,error:pp({error:e,options:t})}}}async function Sp(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xn("Browser returned unexpected credential type",e)}:{data:null,error:new xn("Empty credential response",e)}}catch(e){return{data:null,error:mp({error:e,options:t})}}}const Ep={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kp={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _n(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const a=s[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(e(a)){const c=n[o];e(c)?n[o]=_n(c,a):n[o]=_n(a)}else n[o]=a}return n}function Cp(t,e){return _n(Ep,t,e||{})}function jp(t,e){return _n(kp,t,e||{})}class $p{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){var a;try{const{data:c,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:l};const d=s??vp.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;if(!h.name){const f=n;if(f)h.name=`${h.id}:${f}`;else{const g=(await this.client.getUser()).data.user,y=((a=g==null?void 0:g.user_metadata)===null||a===void 0?void 0:a.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";h.name=`${h.id}:${y}`}}h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=Cp(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:p}=await _p({publicKey:h,signal:d});return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=jp(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:p}=await Sp(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:d}));return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(c){return M(c)?{data:null,error:c}:{data:null,error:new Rt("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Cr("rpId is required for WebAuthn authentication")};try{if(!va())return{data:null,error:new Rt("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!a)return{data:null,error:c};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new Rt("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Cr("rpId is required for WebAuthn registration")};try{if(!va())return{data:null,error:new Rt("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:c};const{data:l,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:d}}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new Rt("Unexpected error in register",a)}}}}up();const Tp={url:kf,storageKey:Cf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ya(t,e,r){return await r()}const Vt={};class jr{get jwks(){var e,r;return(r=(e=Vt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Vt[this.storageKey]=Object.assign(Object.assign({},Vt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Vt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vt[this.storageKey]=Object.assign(Object.assign({},Vt[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Tp),e);if(this.storageKey=o.storageKey,this.instanceID=(r=jr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ye()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ip({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Xi(o.fetch),this.lock=o.lock||ya,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lp:this.lock=ya,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $p(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Yi()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ga(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ga(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hi}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ye()&&(r=Bf(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Af(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?this._returnResult({error:r}):this._returnResult({error:new Rt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Le}),{data:a,error:c}=o;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(o){if(M(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:h,password:f,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ft(this.storage,this.storageKey)),o=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:Le})}else if("phone"in e){const{phone:h,password:f,options:p}=e;o=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Le})}else throw new Zr("You must provide either an email or phone number and a password");const{data:a,error:c}=o;if(c||!a)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:a,options:c}=e;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:pa})}else if("phone"in e){const{phone:o,password:a,options:c}=e;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:pa})}else throw new Zr("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Ut;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,a,c,l,d,h,f,p;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:v,wallet:m,statement:b,options:w}=e;let x;if(ye())if(typeof m=="object")x=m;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")x=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=m}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Qi(S[0]);let E=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const O=await x.request({method:"eth_chainId"});E=dp(O)}const C={domain:_.host,address:k,statement:b,uri:_.href,version:"1",chainId:E,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=w==null?void 0:w.signInWithEthereum)===null||h===void 0?void 0:h.resources};g=fp(C),y=await x.request({method:"personal_sign",params:[hp(g),k]})}try{const{data:v,error:m}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Le});if(m)throw m;if(!v||!v.session||!v.user){const b=new Ut;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:m})}catch(v){if(M(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,s,o,a,c,l,d,h,f,p,g;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:m,wallet:b,statement:w,options:x}=e;let _;if(ye())if(typeof b=="object")_=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(h=x==null?void 0:x.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:m,error:b}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ot(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Le});if(b)throw b;if(!m||!m.session||!m.user){const w=new Ut;return this._returnResult({data:{user:null,session:null},error:w})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(M(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const r=await jt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Of;const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Le});if(await ve(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const c=new Ut;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=e,c=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Le}),{data:l,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){const h=new Ut;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:d})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,o,a;try{if("email"in e){const{email:c,options:l}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ft(this.storage,this.storageKey));const{error:f}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:c,options:l}=e,{data:d,error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Zr("You must provide either an email or phone number.")}catch(c){if(await ve(this.storage,`${this.storageKey}-code-verifier`),M(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:c}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Le});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,d=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,o,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await Ft(this.storage,this.storageKey));const d=await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:sp});return!((o=d.data)===null||o===void 0)&&o.url&&ye()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(await ve(this.storage,`${this.storageKey}-code-verifier`),M(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ke;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(M(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:a}=await F(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:a,error:c}=await F(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:c})}throw new Zr("You must provide either an email or phone number and a type")}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<es:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await jt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ns()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=ep(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pt}):await this._useSession(async r=>{var n,s,o;const{data:a,error:c}=r;if(c)throw c;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ke}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:pt})})}catch(r){if(M(r))return ts(r)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ke;const a=s.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await Ft(this.storage,this.storageKey));const{data:d,error:h}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:pt});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ve(this.storage,`${this.storageKey}-code-verifier`),M(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ke;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=en(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(M(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:c}=r;if(c)throw c;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ke;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ye())throw new Qr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ia("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ia("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:c,expires_at:l,token_type:d}=e;if(!o||!c||!a||!d)throw new Qr("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(c);let p=h+f;l&&(p=parseInt(l));const g=p-h;g*1e3<=Yt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=p-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,h);const{data:v,error:m}=await this._getUser(o);if(m)throw m;const b={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:a,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(M(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o&&!ts(o))return this._returnResult({error:o});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(Rf(c)&&(c.status===404||c.status===401||c.status===403)||ts(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Ff(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ft(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,c,l,d,h;const{data:f,error:p}=o;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return ye()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(M(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:a,provider:c,token:l,access_token:d,nonce:h}=e,f=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:l,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Le}),{data:p,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ut}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:g}))}catch(s){if(await ve(this.storage,`${this.storageKey}-code-verifier`),M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Wf(async s=>(s>0&&await Vf(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Le})),(s,o)=>{const a=200*Math.pow(2,s);return o&&rs(o)&&Date.now()+a-n<Yt})}catch(n){if(this._debug(r,"error",n),M(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await jt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Xt(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ns()}else if(s&&!s.user&&!s.user){const a=await jt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ve(this.storage,this.storageKey+"-user"),await Xt(this.storage,this.storageKey,s)):s.user=ns()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<es;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${es}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),rs(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(s.access_token);!c&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dn;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new ke;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),M(o)){const a={data:null,error:o};return rs(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xt(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=ha(s);await Xt(this.storage,this.storageKey,o)}else{const s=ha(r);await Xt(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Yt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yt}ms, refresh threshold is ${Rs} ticks`),s<=Rs&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ft(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:d}=await F(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?wp(e.webauthn.credential_response):xp(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:yp(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:bp(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,o;if(e)try{const{payload:g}=en(e);let y=null;g.aal&&(y=g.aal);let v=y;const{data:{user:m},error:b}=await this.getUser(e);if(b)return this._returnResult({data:null,error:b});((n=(r=m==null?void 0:m.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const x=g.amr||[];return{data:{currentLevel:y,nextLevel:v,currentAuthenticationMethods:x},error:null}}catch(g){if(M(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=en(a.access_token);let d=null;l.aal&&(d=l.aal);let h=d;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(g=>g.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await F(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ke})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ke});const a=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ke});const a=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await F(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ke})})}catch(e){if(M(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await F(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ke})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+Tf>s)return n;const{data:o,error:a}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});n=g.session.access_token}const{header:s,payload:o,signature:a,raw:{header:c,payload:l}}=en(n);r!=null&&r.allowExpired||Xf(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:a},error:null}}const h=Zf(s.alg),f=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,Df(`${c}.${l}`)))throw new Ps("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}}jr.nextInstanceID={};const Np=jr,Rp="2.93.3";let yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";const Ap={"X-Client-Info":`supabase-js-${yr}/${Rp}`},Op={headers:Ap},Pp={schema:"public"},Ip={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mp={};function $r(t){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(t)}function Lp(t,e){if($r(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($r(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dp(t){var e=Lp(t,"string");return $r(e)=="symbol"?e:e+""}function Up(t,e,r){return(e=Dp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ba(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ba(Object(r),!0).forEach(function(n){Up(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Fp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Bp=()=>Headers,zp=(t,e,r)=>{const n=Fp(r),s=Bp();return async(o,a)=>{var c;const l=(c=await e())!==null&&c!==void 0?c:t;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(o,fe(fe({},a),{},{headers:d}))}};function Vp(t){return t.endsWith("/")?t:t+"/"}function Wp(t,e){var r,n;const{db:s,auth:o,realtime:a,global:c}=t,{db:l,auth:d,realtime:h,global:f}=e,p={db:fe(fe({},l),s),auth:fe(fe({},d),o),realtime:fe(fe({},h),a),storage:{},global:fe(fe(fe({},f),c),{},{headers:fe(fe({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function qp(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Kp=class extends Np{constructor(t){super(t)}},Hp=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const o=qp(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Pp,realtime:Mp,auth:fe(fe({},Ip),{},{storageKey:a}),global:Op},l=Wp(r??{},c);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=l.auth)!==null&&d!==void 0?d:{},this.headers,l.global.fetch)}this.fetch=zp(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Nh(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Ef(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new kh(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:a,lock:c,debug:l,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kp({url:this.authUrl.href,headers:fe(fe({},p),h),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:c,debug:l,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Hh(this.realtimeUrl.href,fe(fe({},t),{},{params:fe(fe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Gp=(t,e,r)=>new Hp(t,e,r);function Jp(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Jp()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yp="https://lcjpyzcewtylqbqcmrpe.supabase.co",Xp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxjanB5emNld3R5bHFicWNtcnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NDA2MzgsImV4cCI6MjA4NDQxNjYzOH0.bLWVQaB4CXljxpzESB339xSHxU5M_Vnuw4hmkUzsmlw",ue=Gp(Yp,Xp,{auth:{persistSession:!1,autoRefreshToken:!1}}),Is={github:"gitHub",linkedin:"linkedIn","apple music":"apple music",amazon:"amazon","ko-fi":"ko-fi","buy me a coffee":"buy me a coffee",geeksforgeeks:"geeksforgeeks",accesskey:"accessKey",accessKey:"accessKey",avatar_url:"avatar_url"},qe=t=>{if(!t)return t;const e={};return Object.keys(t).forEach(r=>{const n=Is[r]||r;e[n]=t[r]}),e};class _e{static async getByUserId(e){try{const{data:r,error:n}=await ue.from("users").select("*").eq("clerk_id",e).maybeSingle();if(n)throw console.error("Error fetching user:",n),n;return qe(r)}catch(r){throw console.error("Supabase error:",r.message),r}}static async getByUsername(e){try{const{data:r,error:n}=await ue.from("users").select("*").eq("username",e).maybeSingle();if(n)throw console.error("Error fetching user by username:",n),n;return qe(r)}catch(r){throw console.error("Supabase error:",r.message),r}}static async create(e){try{const{data:r,error:n}=await ue.from("users").insert([e]).select().maybeSingle();if(n)throw console.error("Error creating user:",n),n;return qe(r)}catch(r){throw console.error("Supabase error:",r.message),r}}static async incrementViews(e){try{let r;try{const{data:n,error:s}=await ue.rpc("increment_user_views",{user_username:e});if(s)throw s;r=n}catch(n){console.warn("RPC function failed, falling back to direct update:",n.message);const{data:s}=await ue.from("users").select("views").eq("username",e).single(),o=(s==null?void 0:s.views)||0,{data:a}=await ue.from("users").update({views:o+1}).eq("username",e).select("views").single();r=(a==null?void 0:a.views)||o+1}return setTimeout(async()=>{try{await this.updateRanksForTopUsers(),console.log("Ranks updated successfully after view increment")}catch(n){console.error("Failed to update ranks after view increment:",n)}},1e3),r}catch(r){throw console.error("Error incrementing views:",r),r}}static async syncAvatarUrl(e,r){try{const{data:n,error:s}=await ue.from("users").update({avatar_url:r}).eq("clerk_id",e).select().maybeSingle();if(s)throw console.error("Error syncing avatar URL:",s),s;return qe(n)}catch(n){throw console.error("Supabase error:",n.message),n}}static async ensureAvatarUrl(e,r){try{const{data:n}=await ue.from("users").select("avatar_url").eq("clerk_id",e).maybeSingle();return n!=null&&n.avatar_url?n:await this.syncAvatarUrl(e,r)}catch(n){throw console.error("Error ensuring avatar URL:",n),n}}static async getTopUsers(e=3){try{const{data:r,error:n}=await ue.from("users").select("username, name, avatar_url, views, rank").not("views","is",null).not("username","is",null).order("views",{ascending:!1}).limit(e);if(n)throw console.error("Error fetching top users:",n),n;return r.map(s=>qe(s))}catch(r){throw console.error("Supabase error:",r.message),r}}static async updateRanksForTopUsers(){try{const e=await this.getTopUsers(3),r=e.map(o=>o.username),{data:n,error:s}=await ue.from("users").select("username, rank").like("rank","%%");if(s)throw console.error("Error fetching booster users:",s),s;for(const o of n)r.includes(o.username)||await this.removeRank(o.username,"");for(const o of e)await this.addRank(o.username,"");return{success:!0,updatedUsers:e}}catch(e){throw console.error("Error updating ranks for top users:",e),e}}static async addRank(e,r){try{const{data:n,error:s}=await ue.from("users").select("rank").eq("username",e).single();if(s)throw console.error("Error fetching user for rank addition:",s),s;const a=(n.rank||"").split(",").map(h=>h.trim());if(a.includes(r))return{success:!0,message:"User already has this rank"};a.push(r);const c=[...new Set(a)].join(", "),{data:l,error:d}=await ue.from("users").update({rank:c}).eq("username",e).select().single();if(d)throw console.error("Error adding rank:",d),d;return{success:!0,data:qe(l)}}catch(n){throw console.error("Supabase error:",n.message),n}}static async removeRank(e,r){try{const{data:n,error:s}=await ue.from("users").select("rank").eq("username",e).single();if(s)throw console.error("Error fetching user for rank removal:",s),s;const c=(n.rank||"").split(",").map(f=>f.trim()).filter(f=>f!==r),l=c.length>0?c.join(", "):"",{data:d,error:h}=await ue.from("users").update({rank:l}).eq("username",e).select().single();if(h)throw console.error("Error removing rank:",h),h;return{success:!0,data:qe(d)}}catch(n){throw console.error("Supabase error:",n.message),n}}static async updateAccessKey(e,r){try{const{data:n,error:s}=await ue.from("users").update({accesskey:r}).eq("clerk_id",e).select().maybeSingle();if(s)throw console.error("Error updating access key:",s),s;return qe(n)}catch(n){throw console.error("Supabase error:",n.message),n}}static async getAllUsers(){try{const{data:e,error:r}=await ue.from("users").select("id, clerk_id, username, name, email, avatar_url, rank, views, created_at").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching all users:",r),r;return e.map(n=>qe(n))}catch(e){throw console.error("Supabase error:",e.message),e}}static async update(e,r,n=null){try{const s=ue,o=await s.from("users").select("id").eq("clerk_id",e).maybeSingle();if(o.error)throw console.error("Error checking existing user:",o.error),o.error;const a={};Object.keys(r).forEach(f=>{const p=Object.keys(Is).find(g=>Is[g]===f)||f;a[p]=r[f]});const{accesskey:c,accessKey:l,...d}=a;console.log("Final data to update:",d);let h;if(o.data){const{data:f,error:p}=await s.from("users").update(d).eq("clerk_id",e).select().single();if(p)throw console.error("Error updating user:",p),p;h=f}else{const f={clerk_id:e,...d},{data:p,error:g}=await s.from("users").insert([f]).select().single();if(g)throw console.error("Error creating user:",g),g;h=p}return qe(h)}catch(s){throw console.error("Supabase error:",s.message),s}}}function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B.apply(this,arguments)}function ne(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Zp(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Mr(...t){return e=>t.forEach(r=>Zp(r,e))}function Ne(...t){return u.useCallback(Mr(...t),t)}function Lr(t,e=[]){let r=[];function n(o,a){const c=u.createContext(a),l=r.length;r=[...r,a];function d(f){const{scope:p,children:g,...y}=f,v=(p==null?void 0:p[t][l])||c,m=u.useMemo(()=>y,Object.values(y));return u.createElement(v.Provider,{value:m},g)}function h(f,p){const g=(p==null?void 0:p[t][l])||c,y=u.useContext(g);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,h]}const s=()=>{const o=r.map(a=>u.createContext(a));return function(c){const l=(c==null?void 0:c[t])||o;return u.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[n,Qp(s,...e)]}function Qp(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((c,{useScope:l,scopeName:d})=>{const f=l(o)[`__scope${d}`];return{...c,...f}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function tc(t){const e=u.useRef(t);return u.useEffect(()=>{e.current=t}),u.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function rc({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=em({defaultProp:e,onChange:r}),o=t!==void 0,a=o?t:n,c=tc(r),l=u.useCallback(d=>{if(o){const f=typeof d=="function"?d(t):d;f!==t&&c(f)}else s(d)},[o,t,s,c]);return[a,l]}function em({defaultProp:t,onChange:e}){const r=u.useState(t),[n]=r,s=u.useRef(n),o=tc(e);return u.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}const nc=u.forwardRef((t,e)=>{const{children:r,...n}=t,s=u.Children.toArray(r),o=s.find(rm);if(o){const a=o.props.children,c=s.map(l=>l===o?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:l);return u.createElement(Ms,B({},n,{ref:e}),u.isValidElement(a)?u.cloneElement(a,void 0,c):null)}return u.createElement(Ms,B({},n,{ref:e}),r)});nc.displayName="Slot";const Ms=u.forwardRef((t,e)=>{const{children:r,...n}=t;return u.isValidElement(r)?u.cloneElement(r,{...nm(n,r.props),ref:e?Mr(e,r.ref):r.ref}):u.Children.count(r)>1?u.Children.only(null):null});Ms.displayName="SlotClone";const tm=({children:t})=>u.createElement(u.Fragment,null,t);function rm(t){return u.isValidElement(t)&&t.type===tm}function nm(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{o(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}const sm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ae=sm.reduce((t,e)=>{const r=u.forwardRef((n,s)=>{const{asChild:o,...a}=n,c=o?nc:e;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(c,B({},a,{ref:s}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function sc(t,e){t&&Ar.flushSync(()=>t.dispatchEvent(e))}const Sn=u.forwardRef((t,e)=>{const{children:r,...n}=t,s=u.Children.toArray(r),o=s.find(am);if(o){const a=o.props.children,c=s.map(l=>l===o?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:l);return u.createElement(Ls,B({},n,{ref:e}),u.isValidElement(a)?u.cloneElement(a,void 0,c):null)}return u.createElement(Ls,B({},n,{ref:e}),r)});Sn.displayName="Slot";const Ls=u.forwardRef((t,e)=>{const{children:r,...n}=t;return u.isValidElement(r)?u.cloneElement(r,{...im(n,r.props),ref:e?Mr(e,r.ref):r.ref}):u.Children.count(r)>1?u.Children.only(null):null});Ls.displayName="SlotClone";const om=({children:t})=>u.createElement(u.Fragment,null,t);function am(t){return u.isValidElement(t)&&t.type===om}function im(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{o(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function oc(t){const e=t+"CollectionProvider",[r,n]=Lr(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:y,children:v}=g,m=Z.useRef(null),b=Z.useRef(new Map).current;return Z.createElement(s,{scope:y,itemMap:b,collectionRef:m},v)},c=t+"CollectionSlot",l=Z.forwardRef((g,y)=>{const{scope:v,children:m}=g,b=o(c,v),w=Ne(y,b.collectionRef);return Z.createElement(Sn,{ref:w},m)}),d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Z.forwardRef((g,y)=>{const{scope:v,children:m,...b}=g,w=Z.useRef(null),x=Ne(y,w),_=o(d,v);return Z.useEffect(()=>(_.itemMap.set(w,{ref:w,...b}),()=>void _.itemMap.delete(w))),Z.createElement(Sn,{[h]:"",ref:x},m)});function p(g){const y=o(t+"CollectionConsumer",g);return Z.useCallback(()=>{const m=y.collectionRef.current;if(!m)return[];const b=Array.from(m.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((_,S)=>b.indexOf(_.ref.current)-b.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},p,n]}const cm=u.createContext(void 0);function ac(t){const e=u.useContext(cm);return t||e||"ltr"}function yt(t){const e=u.useRef(t);return u.useEffect(()=>{e.current=t}),u.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function lm(t,e=globalThis==null?void 0:globalThis.document){const r=yt(t);u.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)},[r,e])}const Ds="dismissableLayer.update",um="dismissableLayer.pointerDownOutside",dm="dismissableLayer.focusOutside";let wa;const hm=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fm=u.forwardRef((t,e)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:l,...d}=t,h=u.useContext(hm),[f,p]=u.useState(null),g=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,y]=u.useState({}),v=Ne(e,C=>p(C)),m=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(b),x=f?m.indexOf(f):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,S=x>=w,k=pm(C=>{const O=C.target,L=[...h.branches].some(H=>H.contains(O));!S||L||(o==null||o(C),c==null||c(C),C.defaultPrevented||l==null||l())},g),E=mm(C=>{const O=C.target;[...h.branches].some(H=>H.contains(O))||(a==null||a(C),c==null||c(C),C.defaultPrevented||l==null||l())},g);return lm(C=>{x===h.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),u.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(wa=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),xa(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=wa)}},[f,g,n,h]),u.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),xa())},[f,h]),u.useEffect(()=>{const C=()=>y({});return document.addEventListener(Ds,C),()=>document.removeEventListener(Ds,C)},[]),u.createElement(Ae.div,B({},d,{ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,E.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,k.onPointerDownCapture)}))});function pm(t,e=globalThis==null?void 0:globalThis.document){const r=yt(t),n=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let d=function(){ic(um,r,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function mm(t,e=globalThis==null?void 0:globalThis.document){const r=yt(t),n=u.useRef(!1);return u.useEffect(()=>{const s=o=>{o.target&&!n.current&&ic(dm,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function xa(){const t=new CustomEvent(Ds);document.dispatchEvent(t)}function ic(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?sc(s,o):s.dispatchEvent(o)}let os=0;function gm(){u.useEffect(()=>{var t,e;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=r[0])!==null&&t!==void 0?t:_a()),document.body.insertAdjacentElement("beforeend",(e=r[1])!==null&&e!==void 0?e:_a()),os++,()=>{os===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),os--}},[])}function _a(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const as="focusScope.autoFocusOnMount",is="focusScope.autoFocusOnUnmount",Sa={bubbles:!1,cancelable:!0},vm=u.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[c,l]=u.useState(null),d=yt(s),h=yt(o),f=u.useRef(null),p=Ne(e,v=>l(v)),g=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let v=function(x){if(g.paused||!c)return;const _=x.target;c.contains(_)?f.current=_:dt(f.current,{select:!0})},m=function(x){if(g.paused||!c)return;const _=x.relatedTarget;_!==null&&(c.contains(_)||dt(f.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&dt(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",m);const w=new MutationObserver(b);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",m),w.disconnect()}}},[n,c,g.paused]),u.useEffect(()=>{if(c){ka.add(g);const v=document.activeElement;if(!c.contains(v)){const b=new CustomEvent(as,Sa);c.addEventListener(as,d),c.dispatchEvent(b),b.defaultPrevented||(ym(Sm(cc(c)),{select:!0}),document.activeElement===v&&dt(c))}return()=>{c.removeEventListener(as,d),setTimeout(()=>{const b=new CustomEvent(is,Sa);c.addEventListener(is,h),c.dispatchEvent(b),b.defaultPrevented||dt(v??document.body,{select:!0}),c.removeEventListener(is,h),ka.remove(g)},0)}}},[c,d,h,g]);const y=u.useCallback(v=>{if(!r&&!n||g.paused)return;const m=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(m&&b){const w=v.currentTarget,[x,_]=bm(w);x&&_?!v.shiftKey&&b===_?(v.preventDefault(),r&&dt(x,{select:!0})):v.shiftKey&&b===x&&(v.preventDefault(),r&&dt(_,{select:!0})):b===w&&v.preventDefault()}},[r,n,g.paused]);return u.createElement(Ae.div,B({tabIndex:-1},a,{ref:p,onKeyDown:y}))});function ym(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(dt(n,{select:e}),document.activeElement!==r)return}function bm(t){const e=cc(t),r=Ea(e,t),n=Ea(e.reverse(),t);return[r,n]}function cc(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ea(t,e){for(const r of t)if(!wm(r,{upTo:e}))return r}function wm(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xm(t){return t instanceof HTMLInputElement&&"select"in t}function dt(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&xm(t)&&e&&t.select()}}const ka=_m();function _m(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Ca(t,e),t.unshift(e)},remove(e){var r;t=Ca(t,e),(r=t[0])===null||r===void 0||r.resume()}}}function Ca(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Sm(t){return t.filter(e=>e.tagName!=="A")}const Em=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},km=An.useId||(()=>{});let Cm=0;function Us(t){const[e,r]=u.useState(km());return Em(()=>{r(n=>n??String(Cm++))},[t]),e?`radix-${e}`:""}const jm=["top","right","bottom","left"],bt=Math.min,Ce=Math.max,En=Math.round,tn=Math.floor,Ge=t=>({x:t,y:t}),$m={left:"right",right:"left",bottom:"top",top:"bottom"},Tm={start:"end",end:"start"};function Fs(t,e,r){return Ce(t,bt(e,r))}function tt(t,e){return typeof t=="function"?t(e):t}function rt(t){return t.split("-")[0]}function lr(t){return t.split("-")[1]}function uo(t){return t==="x"?"y":"x"}function ho(t){return t==="y"?"height":"width"}const Nm=new Set(["top","bottom"]);function He(t){return Nm.has(rt(t))?"y":"x"}function fo(t){return uo(He(t))}function Rm(t,e,r){r===void 0&&(r=!1);const n=lr(t),s=fo(t),o=ho(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=kn(a)),[a,kn(a)]}function Am(t){const e=kn(t);return[Bs(t),e,Bs(e)]}function Bs(t){return t.replace(/start|end/g,e=>Tm[e])}const ja=["left","right"],$a=["right","left"],Om=["top","bottom"],Pm=["bottom","top"];function Im(t,e,r){switch(t){case"top":case"bottom":return r?e?$a:ja:e?ja:$a;case"left":case"right":return e?Om:Pm;default:return[]}}function Mm(t,e,r,n){const s=lr(t);let o=Im(rt(t),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(Bs)))),o}function kn(t){return t.replace(/left|right|bottom|top/g,e=>$m[e])}function Lm(t){return{top:0,right:0,bottom:0,left:0,...t}}function lc(t){return typeof t!="number"?Lm(t):{top:t,right:t,bottom:t,left:t}}function Cn(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Ta(t,e,r){let{reference:n,floating:s}=t;const o=He(e),a=fo(e),c=ho(a),l=rt(e),d=o==="y",h=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[c]/2-s[c]/2;let g;switch(l){case"top":g={x:h,y:n.y-s.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(lr(e)){case"start":g[a]-=p*(r&&d?-1:1);break;case"end":g[a]+=p*(r&&d?-1:1);break}return g}async function Dm(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:a,elements:c,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=tt(e,t),y=lc(g),m=c[p?f==="floating"?"reference":"floating":f],b=Cn(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:h,strategy:l})),w=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),_=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Cn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:x,strategy:l}):w);return{top:(b.top-S.top+y.top)/_.y,bottom:(S.bottom-b.bottom+y.bottom)/_.y,left:(b.left-S.left+y.left)/_.x,right:(S.right-b.right+y.right)/_.x}}const Um=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,c=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=Ta(d,n,l),p=n,g={},y=0;for(let m=0;m<c.length;m++){var v;const{name:b,fn:w}=c[m],{x,y:_,data:S,reset:k}=await w({x:h,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:g,rects:d,platform:{...a,detectOverflow:(v=a.detectOverflow)!=null?v:Dm},elements:{reference:t,floating:e}});h=x??h,f=_??f,g={...g,[b]:{...g[b],...S}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:h,y:f}=Ta(d,p,l)),m=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}},Fm=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:a,elements:c,middlewareData:l}=e,{element:d,padding:h=0}=tt(t,e)||{};if(d==null)return{};const f=lc(h),p={x:r,y:n},g=fo(s),y=ho(g),v=await a.getDimensions(d),m=g==="y",b=m?"top":"left",w=m?"bottom":"right",x=m?"clientHeight":"clientWidth",_=o.reference[y]+o.reference[g]-p[g]-o.floating[y],S=p[g]-o.reference[g],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let E=k?k[x]:0;(!E||!await(a.isElement==null?void 0:a.isElement(k)))&&(E=c.floating[x]||o.floating[y]);const C=_/2-S/2,O=E/2-v[y]/2-1,L=bt(f[b],O),H=bt(f[w],O),P=L,V=E-v[y]-H,T=E/2-v[y]/2+C,W=Fs(P,T,V),U=!l.arrow&&lr(s)!=null&&T!==W&&o.reference[y]/2-(T<P?L:H)-v[y]/2<0,re=U?T<P?T-P:T-V:0;return{[g]:p[g]+re,data:{[g]:W,centerOffset:T-W-re,...U&&{alignmentOffset:re}},reset:U}}}),Bm=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:c,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...m}=tt(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const b=rt(s),w=He(c),x=rt(c)===c,_=await(l.isRTL==null?void 0:l.isRTL(d.floating)),S=p||(x||!v?[kn(c)]:Am(c)),k=y!=="none";!p&&k&&S.push(...Mm(c,v,y,_));const E=[c,...S],C=await l.detectOverflow(e,m),O=[];let L=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&O.push(C[b]),f){const T=Rm(s,a,_);O.push(C[T[0]],C[T[1]])}if(L=[...L,{placement:s,overflows:O}],!O.every(T=>T<=0)){var H,P;const T=(((H=o.flip)==null?void 0:H.index)||0)+1,W=E[T];if(W&&(!(f==="alignment"?w!==He(W):!1)||L.every(D=>He(D.placement)===w?D.overflows[0]>0:!0)))return{data:{index:T,overflows:L},reset:{placement:W}};let U=(P=L.filter(re=>re.overflows[0]<=0).sort((re,D)=>re.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!U)switch(g){case"bestFit":{var V;const re=(V=L.filter(D=>{if(k){const N=He(D.placement);return N===w||N==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(N=>N>0).reduce((N,Y)=>N+Y,0)]).sort((D,N)=>D[1]-N[1])[0])==null?void 0:V[0];re&&(U=re);break}case"initialPlacement":U=c;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function Na(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ra(t){return jm.some(e=>t[e]>=0)}const zm=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r,platform:n}=e,{strategy:s="referenceHidden",...o}=tt(t,e);switch(s){case"referenceHidden":{const a=await n.detectOverflow(e,{...o,elementContext:"reference"}),c=Na(a,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Ra(c)}}}case"escaped":{const a=await n.detectOverflow(e,{...o,altBoundary:!0}),c=Na(a,r.floating);return{data:{escapedOffsets:c,escaped:Ra(c)}}}default:return{}}}}},uc=new Set(["left","top"]);async function Vm(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=rt(r),c=lr(r),l=He(r)==="y",d=uc.has(a)?-1:1,h=o&&l?-1:1,f=tt(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof y=="number"&&(g=c==="end"?y*-1:y),l?{x:g*h,y:p*d}:{x:p*d,y:g*h}}const Wm=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:a,middlewareData:c}=e,l=await Vm(e,t);return a===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:a}}}}},qm=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s,platform:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:l={fn:b=>{let{x:w,y:x}=b;return{x:w,y:x}}},...d}=tt(t,e),h={x:r,y:n},f=await o.detectOverflow(e,d),p=He(rt(s)),g=uo(p);let y=h[g],v=h[p];if(a){const b=g==="y"?"top":"left",w=g==="y"?"bottom":"right",x=y+f[b],_=y-f[w];y=Fs(x,y,_)}if(c){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=v+f[b],_=v-f[w];v=Fs(x,v,_)}const m=l.fn({...e,[g]:y,[p]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[g]:a,[p]:c}}}}}},Km=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=e,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=tt(t,e),h={x:r,y:n},f=He(s),p=uo(f);let g=h[p],y=h[f];const v=tt(c,e),m=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=p==="y"?"height":"width",_=o.reference[p]-o.floating[x]+m.mainAxis,S=o.reference[p]+o.reference[x]-m.mainAxis;g<_?g=_:g>S&&(g=S)}if(d){var b,w;const x=p==="y"?"width":"height",_=uc.has(rt(s)),S=o.reference[f]-o.floating[x]+(_&&((b=a.offset)==null?void 0:b[f])||0)+(_?0:m.crossAxis),k=o.reference[f]+o.reference[x]+(_?0:((w=a.offset)==null?void 0:w[f])||0)-(_?m.crossAxis:0);y<S?y=S:y>k&&(y=k)}return{[p]:g,[f]:y}}}},Hm=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:a,elements:c}=e,{apply:l=()=>{},...d}=tt(t,e),h=await a.detectOverflow(e,d),f=rt(s),p=lr(s),g=He(s)==="y",{width:y,height:v}=o.floating;let m,b;f==="top"||f==="bottom"?(m=f,b=p===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(b=f,m=p==="end"?"top":"bottom");const w=v-h.top-h.bottom,x=y-h.left-h.right,_=bt(v-h[m],w),S=bt(y-h[b],x),k=!e.middlewareData.shift;let E=_,C=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(C=x),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=w),k&&!p){const L=Ce(h.left,0),H=Ce(h.right,0),P=Ce(h.top,0),V=Ce(h.bottom,0);g?C=y-2*(L!==0||H!==0?L+H:Ce(h.left,h.right)):E=v-2*(P!==0||V!==0?P+V:Ce(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:E});const O=await a.getDimensions(c.floating);return y!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}};function Un(){return typeof window<"u"}function ur(t){return dc(t)?(t.nodeName||"").toLowerCase():"#document"}function Te(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xe(t){var e;return(e=(dc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dc(t){return Un()?t instanceof Node||t instanceof Te(t).Node:!1}function ze(t){return Un()?t instanceof Element||t instanceof Te(t).Element:!1}function Je(t){return Un()?t instanceof HTMLElement||t instanceof Te(t).HTMLElement:!1}function Aa(t){return!Un()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Te(t).ShadowRoot}const Gm=new Set(["inline","contents"]);function Dr(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Ve(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Gm.has(s)}const Jm=new Set(["table","td","th"]);function Ym(t){return Jm.has(ur(t))}const Xm=[":popover-open",":modal"];function Fn(t){return Xm.some(e=>{try{return t.matches(e)}catch{return!1}})}const Zm=["transform","translate","scale","rotate","perspective"],Qm=["transform","translate","scale","rotate","perspective","filter"],e0=["paint","layout","strict","content"];function po(t){const e=mo(),r=ze(t)?Ve(t):t;return Zm.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Qm.some(n=>(r.willChange||"").includes(n))||e0.some(n=>(r.contain||"").includes(n))}function t0(t){let e=wt(t);for(;Je(e)&&!sr(e);){if(po(e))return e;if(Fn(e))return null;e=wt(e)}return null}function mo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const r0=new Set(["html","body","#document"]);function sr(t){return r0.has(ur(t))}function Ve(t){return Te(t).getComputedStyle(t)}function Bn(t){return ze(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wt(t){if(ur(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Aa(t)&&t.host||Xe(t);return Aa(e)?e.host:e}function hc(t){const e=wt(t);return sr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Je(e)&&Dr(e)?e:hc(e)}function Tr(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=hc(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),a=Te(s);if(o){const c=zs(a);return e.concat(a,a.visualViewport||[],Dr(s)?s:[],c&&r?Tr(c):[])}return e.concat(s,Tr(s,[],r))}function zs(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fc(t){const e=Ve(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Je(t),o=s?t.offsetWidth:r,a=s?t.offsetHeight:n,c=En(r)!==o||En(n)!==a;return c&&(r=o,n=a),{width:r,height:n,$:c}}function go(t){return ze(t)?t:t.contextElement}function rr(t){const e=go(t);if(!Je(e))return Ge(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=fc(e);let a=(o?En(r.width):r.width)/n,c=(o?En(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const n0=Ge(0);function pc(t){const e=Te(t);return!mo()||!e.visualViewport?n0:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function s0(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Te(t)?!1:e}function It(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=go(t);let a=Ge(1);e&&(n?ze(n)&&(a=rr(n)):a=rr(t));const c=s0(o,r,n)?pc(o):Ge(0);let l=(s.left+c.x)/a.x,d=(s.top+c.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(o){const p=Te(o),g=n&&ze(n)?Te(n):n;let y=p,v=zs(y);for(;v&&n&&g!==y;){const m=rr(v),b=v.getBoundingClientRect(),w=Ve(v),x=b.left+(v.clientLeft+parseFloat(w.paddingLeft))*m.x,_=b.top+(v.clientTop+parseFloat(w.paddingTop))*m.y;l*=m.x,d*=m.y,h*=m.x,f*=m.y,l+=x,d+=_,y=Te(v),v=zs(y)}}return Cn({width:h,height:f,x:l,y:d})}function zn(t,e){const r=Bn(t).scrollLeft;return e?e.left+r:It(Xe(t)).left+r}function mc(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-zn(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function o0(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",a=Xe(n),c=e?Fn(e.floating):!1;if(n===a||c&&o)return r;let l={scrollLeft:0,scrollTop:0},d=Ge(1);const h=Ge(0),f=Je(n);if((f||!f&&!o)&&((ur(n)!=="body"||Dr(a))&&(l=Bn(n)),Je(n))){const g=It(n);d=rr(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}const p=a&&!f&&!o?mc(a,l):Ge(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-l.scrollLeft*d.x+h.x+p.x,y:r.y*d.y-l.scrollTop*d.y+h.y+p.y}}function a0(t){return Array.from(t.getClientRects())}function i0(t){const e=Xe(t),r=Bn(t),n=t.ownerDocument.body,s=Ce(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Ce(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+zn(t);const c=-r.scrollTop;return Ve(n).direction==="rtl"&&(a+=Ce(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:c}}const Oa=25;function c0(t,e){const r=Te(t),n=Xe(t),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,c=0,l=0;if(s){o=s.width,a=s.height;const h=mo();(!h||h&&e==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}const d=zn(n);if(d<=0){const h=n.ownerDocument,f=h.body,p=getComputedStyle(f),g=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-g);y<=Oa&&(o-=y)}else d<=Oa&&(o+=d);return{width:o,height:a,x:c,y:l}}const l0=new Set(["absolute","fixed"]);function u0(t,e){const r=It(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Je(t)?rr(t):Ge(1),a=t.clientWidth*o.x,c=t.clientHeight*o.y,l=s*o.x,d=n*o.y;return{width:a,height:c,x:l,y:d}}function Pa(t,e,r){let n;if(e==="viewport")n=c0(t,r);else if(e==="document")n=i0(Xe(t));else if(ze(e))n=u0(e,r);else{const s=pc(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Cn(n)}function gc(t,e){const r=wt(t);return r===e||!ze(r)||sr(r)?!1:Ve(r).position==="fixed"||gc(r,e)}function d0(t,e){const r=e.get(t);if(r)return r;let n=Tr(t,[],!1).filter(c=>ze(c)&&ur(c)!=="body"),s=null;const o=Ve(t).position==="fixed";let a=o?wt(t):t;for(;ze(a)&&!sr(a);){const c=Ve(a),l=po(a);!l&&c.position==="fixed"&&(s=null),(o?!l&&!s:!l&&c.position==="static"&&!!s&&l0.has(s.position)||Dr(a)&&!l&&gc(t,a))?n=n.filter(h=>h!==a):s=c,a=wt(a)}return e.set(t,n),n}function h0(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const a=[...r==="clippingAncestors"?Fn(e)?[]:d0(e,this._c):[].concat(r),n],c=a[0],l=a.reduce((d,h)=>{const f=Pa(e,h,s);return d.top=Ce(f.top,d.top),d.right=bt(f.right,d.right),d.bottom=bt(f.bottom,d.bottom),d.left=Ce(f.left,d.left),d},Pa(e,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function f0(t){const{width:e,height:r}=fc(t);return{width:e,height:r}}function p0(t,e,r){const n=Je(e),s=Xe(e),o=r==="fixed",a=It(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const l=Ge(0);function d(){l.x=zn(s)}if(n||!n&&!o)if((ur(e)!=="body"||Dr(s))&&(c=Bn(e)),n){const g=It(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&d();o&&!n&&s&&d();const h=s&&!n&&!o?mc(s,c):Ge(0),f=a.left+c.scrollLeft-l.x-h.x,p=a.top+c.scrollTop-l.y-h.y;return{x:f,y:p,width:a.width,height:a.height}}function cs(t){return Ve(t).position==="static"}function Ia(t,e){if(!Je(t)||Ve(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Xe(t)===r&&(r=r.ownerDocument.body),r}function vc(t,e){const r=Te(t);if(Fn(t))return r;if(!Je(t)){let s=wt(t);for(;s&&!sr(s);){if(ze(s)&&!cs(s))return s;s=wt(s)}return r}let n=Ia(t,e);for(;n&&Ym(n)&&cs(n);)n=Ia(n,e);return n&&sr(n)&&cs(n)&&!po(n)?r:n||t0(t)||r}const m0=async function(t){const e=this.getOffsetParent||vc,r=this.getDimensions,n=await r(t.floating);return{reference:p0(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function g0(t){return Ve(t).direction==="rtl"}const v0={convertOffsetParentRelativeRectToViewportRelativeRect:o0,getDocumentElement:Xe,getClippingRect:h0,getOffsetParent:vc,getElementRects:m0,getClientRects:a0,getDimensions:f0,getScale:rr,isElement:ze,isRTL:g0};function yc(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function y0(t,e){let r=null,n;const s=Xe(t);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),o();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:g}=d;if(c||e(),!p||!g)return;const y=tn(f),v=tn(s.clientWidth-(h+p)),m=tn(s.clientHeight-(f+g)),b=tn(h),x={rootMargin:-y+"px "+-v+"px "+-m+"px "+-b+"px",threshold:Ce(0,bt(1,l))||1};let _=!0;function S(k){const E=k[0].intersectionRatio;if(E!==l){if(!_)return a();E?a(!1,E):n=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!yc(d,t.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(t)}return a(!0),o}function b0(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,d=go(t),h=s||o?[...d?Tr(d):[],...Tr(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),o&&b.addEventListener("resize",r)});const f=d&&c?y0(d,r):null;let p=-1,g=null;a&&(g=new ResizeObserver(b=>{let[w]=b;w&&w.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(e)})),r()}),d&&!l&&g.observe(d),g.observe(e));let y,v=l?It(t):null;l&&m();function m(){const b=It(t);v&&!yc(v,b)&&r(),v=b,y=requestAnimationFrame(m)}return r(),()=>{var b;h.forEach(w=>{s&&w.removeEventListener("scroll",r),o&&w.removeEventListener("resize",r)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const w0=Wm,x0=qm,_0=Bm,S0=Hm,E0=zm,Ma=Fm,k0=Km,C0=(t,e,r)=>{const n=new Map,s={platform:v0,...r},o={...s.platform,_c:n};return Um(t,e,{...s,platform:o})};var j0=typeof document<"u",$0=function(){},hn=j0?u.useLayoutEffect:$0;function jn(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!jn(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!jn(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function bc(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function La(t,e){const r=bc(t);return Math.round(e*r)/r}function ls(t){const e=u.useRef(t);return hn(()=>{e.current=t}),e}function T0(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:l,open:d}=t,[h,f]=u.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=u.useState(n);jn(p,n)||g(n);const[y,v]=u.useState(null),[m,b]=u.useState(null),w=u.useCallback(D=>{D!==k.current&&(k.current=D,v(D))},[]),x=u.useCallback(D=>{D!==E.current&&(E.current=D,b(D))},[]),_=o||y,S=a||m,k=u.useRef(null),E=u.useRef(null),C=u.useRef(h),O=l!=null,L=ls(l),H=ls(s),P=ls(d),V=u.useCallback(()=>{if(!k.current||!E.current)return;const D={placement:e,strategy:r,middleware:p};H.current&&(D.platform=H.current),C0(k.current,E.current,D).then(N=>{const Y={...N,isPositioned:P.current!==!1};T.current&&!jn(C.current,Y)&&(C.current=Y,Ar.flushSync(()=>{f(Y)}))})},[p,e,r,H,P]);hn(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[d]);const T=u.useRef(!1);hn(()=>(T.current=!0,()=>{T.current=!1}),[]),hn(()=>{if(_&&(k.current=_),S&&(E.current=S),_&&S){if(L.current)return L.current(_,S,V);V()}},[_,S,V,L,O]);const W=u.useMemo(()=>({reference:k,floating:E,setReference:w,setFloating:x}),[w,x]),U=u.useMemo(()=>({reference:_,floating:S}),[_,S]),re=u.useMemo(()=>{const D={position:r,left:0,top:0};if(!U.floating)return D;const N=La(U.floating,h.x),Y=La(U.floating,h.y);return c?{...D,transform:"translate("+N+"px, "+Y+"px)",...bc(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:N,top:Y}},[r,c,U.floating,h.x,h.y]);return u.useMemo(()=>({...h,update:V,refs:W,elements:U,floatingStyles:re}),[h,V,W,U,re])}const N0=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Ma({element:n.current,padding:s}).fn(r):{}:n?Ma({element:n,padding:s}).fn(r):{}}}},R0=(t,e)=>({...w0(t),options:[t,e]}),A0=(t,e)=>({...x0(t),options:[t,e]}),O0=(t,e)=>({...k0(t),options:[t,e]}),P0=(t,e)=>({..._0(t),options:[t,e]}),I0=(t,e)=>({...S0(t),options:[t,e]}),M0=(t,e)=>({...E0(t),options:[t,e]}),L0=(t,e)=>({...N0(t),options:[t,e]});const Vs=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{};function D0(t){const[e,r]=u.useState(void 0);return Vs(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,c;if("borderBoxSize"in o){const l=o.borderBoxSize,d=Array.isArray(l)?l[0]:l;a=d.inlineSize,c=d.blockSize}else a=t.offsetWidth,c=t.offsetHeight;r({width:a,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}const wc="Popper",[xc,_c]=Lr(wc),[U0,Sc]=xc(wc),F0=t=>{const{__scopePopper:e,children:r}=t,[n,s]=u.useState(null);return u.createElement(U0,{scope:e,anchor:n,onAnchorChange:s},r)},B0="PopperAnchor",z0=u.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=Sc(B0,r),a=u.useRef(null),c=Ne(e,a);return u.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:u.createElement(Ae.div,B({},s,{ref:c}))}),Ec="PopperContent",[V0,jy]=xc(Ec),W0=u.forwardRef((t,e)=>{var r,n,s,o,a,c,l,d;const{__scopePopper:h,side:f="bottom",sideOffset:p=0,align:g="center",alignOffset:y=0,arrowPadding:v=0,avoidCollisions:m=!0,collisionBoundary:b=[],collisionPadding:w=0,sticky:x="partial",hideWhenDetached:_=!1,updatePositionStrategy:S="optimized",onPlaced:k,...E}=t,C=Sc(Ec,h),[O,L]=u.useState(null),H=Ne(e,A=>L(A)),[P,V]=u.useState(null),T=D0(P),W=(r=T==null?void 0:T.width)!==null&&r!==void 0?r:0,U=(n=T==null?void 0:T.height)!==null&&n!==void 0?n:0,re=f+(g!=="center"?"-"+g:""),D=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},N=Array.isArray(b)?b:[b],Y=N.length>0,oe={padding:D,boundary:N.filter(q0),altBoundary:Y},{refs:ae,floatingStyles:pe,placement:de,isPositioned:I,middlewareData:q}=T0({strategy:"fixed",placement:re,whileElementsMounted:(...A)=>b0(...A,{animationFrame:S==="always"}),elements:{reference:C.anchor},middleware:[R0({mainAxis:p+U,alignmentAxis:y}),m&&A0({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?O0():void 0,...oe}),m&&P0({...oe}),I0({...oe,apply:({elements:A,rects:j,availableWidth:ie,availableHeight:Ee})=>{const{width:Re,height:st}=j.reference,Me=A.floating.style;Me.setProperty("--radix-popper-available-width",`${ie}px`),Me.setProperty("--radix-popper-available-height",`${Ee}px`),Me.setProperty("--radix-popper-anchor-width",`${Re}px`),Me.setProperty("--radix-popper-anchor-height",`${st}px`)}}),P&&L0({element:P,padding:v}),K0({arrowWidth:W,arrowHeight:U}),_&&M0({strategy:"referenceHidden",...oe})]}),[xe,Pe]=kc(de),he=yt(k);Vs(()=>{I&&(he==null||he())},[I,he]);const We=(s=q.arrow)===null||s===void 0?void 0:s.x,_t=(o=q.arrow)===null||o===void 0?void 0:o.y,St=((a=q.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[Ie,$]=u.useState();return Vs(()=>{O&&$(window.getComputedStyle(O).zIndex)},[O]),u.createElement("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:I?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[(c=q.transformOrigin)===null||c===void 0?void 0:c.x,(l=q.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},u.createElement(V0,{scope:h,placedSide:xe,onArrowChange:V,arrowX:We,arrowY:_t,shouldHideArrow:St},u.createElement(Ae.div,B({"data-side":xe,"data-align":Pe},E,{ref:H,style:{...E.style,animation:I?void 0:"none",opacity:(d=q.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function q0(t){return t!==null}const K0=t=>({name:"transformOrigin",options:t,fn(e){var r,n,s,o,a;const{placement:c,rects:l,middlewareData:d}=e,f=((r=d.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,p=f?0:t.arrowWidth,g=f?0:t.arrowHeight,[y,v]=kc(c),m={start:"0%",center:"50%",end:"100%"}[v],b=((n=(s=d.arrow)===null||s===void 0?void 0:s.x)!==null&&n!==void 0?n:0)+p/2,w=((o=(a=d.arrow)===null||a===void 0?void 0:a.y)!==null&&o!==void 0?o:0)+g/2;let x="",_="";return y==="bottom"?(x=f?m:`${b}px`,_=`${-g}px`):y==="top"?(x=f?m:`${b}px`,_=`${l.floating.height+g}px`):y==="right"?(x=`${-g}px`,_=f?m:`${w}px`):y==="left"&&(x=`${l.floating.width+g}px`,_=f?m:`${w}px`),{data:{x,y:_}}}});function kc(t){const[e,r="center"]=t.split("-");return[e,r]}const H0=F0,G0=z0,J0=W0,Y0=u.forwardRef((t,e)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=t;return n?Ya.createPortal(u.createElement(Ae.div,B({},s,{ref:e})),n):null}),Da=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{};function X0(t,e){return u.useReducer((r,n)=>{const s=e[r][n];return s??r},t)}const Ur=t=>{const{present:e,children:r}=t,n=Z0(e),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),o=Ne(n.ref,s.ref);return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:o}):null};Ur.displayName="Presence";function Z0(t){const[e,r]=u.useState(),n=u.useRef({}),s=u.useRef(t),o=u.useRef("none"),a=t?"mounted":"unmounted",[c,l]=X0(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=rn(n.current);o.current=c==="mounted"?d:"none"},[c]),Da(()=>{const d=n.current,h=s.current;if(h!==t){const p=o.current,g=rn(d);t?l("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Da(()=>{if(e){const d=f=>{const g=rn(n.current).includes(f.animationName);f.target===e&&g&&Ar.flushSync(()=>l("ANIMATION_END"))},h=f=>{f.target===e&&(o.current=rn(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:u.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function rn(t){return(t==null?void 0:t.animationName)||"none"}const us="rovingFocusGroup.onEntryFocus",Q0={bubbles:!1,cancelable:!0},vo="RovingFocusGroup",[Ws,Cc,e1]=oc(vo),[t1,jc]=Lr(vo,[e1]),[r1,n1]=t1(vo),s1=u.forwardRef((t,e)=>u.createElement(Ws.Provider,{scope:t.__scopeRovingFocusGroup},u.createElement(Ws.Slot,{scope:t.__scopeRovingFocusGroup},u.createElement(o1,B({},t,{ref:e}))))),o1=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:d,...h}=t,f=u.useRef(null),p=Ne(e,f),g=ac(o),[y=null,v]=rc({prop:a,defaultProp:c,onChange:l}),[m,b]=u.useState(!1),w=yt(d),x=Cc(r),_=u.useRef(!1),[S,k]=u.useState(0);return u.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(us,w),()=>E.removeEventListener(us,w)},[w]),u.createElement(r1,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:y,onItemFocus:u.useCallback(E=>v(E),[v]),onItemShiftTab:u.useCallback(()=>b(!0),[]),onFocusableItemAdd:u.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:u.useCallback(()=>k(E=>E-1),[])},u.createElement(Ae.div,B({tabIndex:m||S===0?-1:0,"data-orientation":n},h,{ref:p,style:{outline:"none",...t.style},onMouseDown:ne(t.onMouseDown,()=>{_.current=!0}),onFocus:ne(t.onFocus,E=>{const C=!_.current;if(E.target===E.currentTarget&&C&&!m){const O=new CustomEvent(us,Q0);if(E.currentTarget.dispatchEvent(O),!O.defaultPrevented){const L=x().filter(W=>W.focusable),H=L.find(W=>W.active),P=L.find(W=>W.id===y),T=[H,P,...L].filter(Boolean).map(W=>W.ref.current);$c(T)}}_.current=!1}),onBlur:ne(t.onBlur,()=>b(!1))})))}),a1="RovingFocusGroupItem",i1=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...a}=t,c=Us(),l=o||c,d=n1(a1,r),h=d.currentTabStopId===l,f=Cc(r),{onFocusableItemAdd:p,onFocusableItemRemove:g}=d;return u.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),u.createElement(Ws.ItemSlot,{scope:r,id:l,focusable:n,active:s},u.createElement(Ae.span,B({tabIndex:h?0:-1,"data-orientation":d.orientation},a,{ref:e,onMouseDown:ne(t.onMouseDown,y=>{n?d.onItemFocus(l):y.preventDefault()}),onFocus:ne(t.onFocus,()=>d.onItemFocus(l)),onKeyDown:ne(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=u1(y,d.orientation,d.dir);if(v!==void 0){y.preventDefault();let b=f().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const w=b.indexOf(y.currentTarget);b=d.loop?d1(b,w+1):b.slice(w+1)}setTimeout(()=>$c(b))}})})))}),c1={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function l1(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function u1(t,e,r){const n=l1(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return c1[n]}function $c(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function d1(t,e){return t.map((r,n)=>t[(e+n)%t.length])}const h1=s1,f1=i1;var p1=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wt=new WeakMap,nn=new WeakMap,sn={},ds=0,Tc=function(t){return t&&(t.host||Tc(t.parentNode))},m1=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Tc(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},g1=function(t,e,r,n){var s=m1(e,Array.isArray(t)?t:[t]);sn[r]||(sn[r]=new WeakMap);var o=sn[r],a=[],c=new Set,l=new Set(s),d=function(f){!f||c.has(f)||(c.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(c.has(p))h(p);else try{var g=p.getAttribute(n),y=g!==null&&g!=="false",v=(Wt.get(p)||0)+1,m=(o.get(p)||0)+1;Wt.set(p,v),o.set(p,m),a.push(p),v===1&&y&&nn.set(p,!0),m===1&&p.setAttribute(r,"true"),y||p.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),c.clear(),ds++,function(){a.forEach(function(f){var p=Wt.get(f)-1,g=o.get(f)-1;Wt.set(f,p),o.set(f,g),p||(nn.has(f)||f.removeAttribute(n),nn.delete(f)),g||f.removeAttribute(r)}),ds--,ds||(Wt=new WeakMap,Wt=new WeakMap,nn=new WeakMap,sn={})}},v1=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=p1(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),g1(n,s,r,"aria-hidden")):function(){return null}},fn="right-scroll-bar-position",pn="width-before-scroll-bar",y1="with-scroll-bars-hidden",b1="--removed-body-scroll-bar-size";function hs(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function w1(t,e){var r=u.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var x1=typeof window<"u"?u.useLayoutEffect:u.useEffect,Ua=new WeakMap;function _1(t,e){var r=w1(null,function(n){return t.forEach(function(s){return hs(s,n)})});return x1(function(){var n=Ua.get(r);if(n){var s=new Set(n),o=new Set(t),a=r.current;s.forEach(function(c){o.has(c)||hs(c,null)}),o.forEach(function(c){s.has(c)||hs(c,a)})}Ua.set(r,t)},[t]),r}function S1(t){return t}function E1(t,e){e===void 0&&(e=S1);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var a=e(o,n);return r.push(a),function(){r=r.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(c){return o(c)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var c=r;r=[],c.forEach(o),a=r}var l=function(){var h=a;a=[],h.forEach(o)},d=function(){return Promise.resolve().then(l)};d(),r={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),r}}}};return s}function k1(t){t===void 0&&(t={});var e=E1(null);return e.options=Ke({async:!0,ssr:!1},t),e}var Nc=function(t){var e=t.sideCar,r=ir(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,Ke({},r))};Nc.isSideCarExport=!0;function C1(t,e){return t.useMedium(e),Nc}var Rc=k1(),fs=function(){},Vn=u.forwardRef(function(t,e){var r=u.useRef(null),n=u.useState({onScrollCapture:fs,onWheelCapture:fs,onTouchMoveCapture:fs}),s=n[0],o=n[1],a=t.forwardProps,c=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,y=t.inert,v=t.allowPinchZoom,m=t.as,b=m===void 0?"div":m,w=ir(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=p,_=_1([r,e]),S=Ke(Ke({},w),s);return u.createElement(u.Fragment,null,h&&u.createElement(x,{sideCar:Rc,removeScrollBar:d,shards:f,noIsolation:g,inert:y,setCallbacks:o,allowPinchZoom:!!v,lockRef:r}),a?u.cloneElement(u.Children.only(c),Ke(Ke({},S),{ref:_})):u.createElement(b,Ke({},S,{className:l,ref:_}),c))});Vn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vn.classNames={fullWidth:pn,zeroRight:fn};var j1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $1(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=j1();return e&&t.setAttribute("nonce",e),t}function T1(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function N1(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var R1=function(){var t=0,e=null;return{add:function(r){t==0&&(e=$1())&&(T1(e,r),N1(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},A1=function(){var t=R1();return function(e,r){u.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Ac=function(){var t=A1(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},O1={left:0,top:0,right:0,gap:0},ps=function(t){return parseInt(t||"",10)||0},P1=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ps(r),ps(n),ps(s)]},I1=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return O1;var e=P1(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},M1=Ac(),nr="data-scroll-locked",L1=function(t,e,r,n){var s=t.left,o=t.top,a=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(y1,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(nr,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fn,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(pn,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(fn," .").concat(fn,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pn," .").concat(pn,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(nr,`] {
    `).concat(b1,": ").concat(c,`px;
  }
`)},Fa=function(){var t=parseInt(document.body.getAttribute(nr)||"0",10);return isFinite(t)?t:0},D1=function(){u.useEffect(function(){return document.body.setAttribute(nr,(Fa()+1).toString()),function(){var t=Fa()-1;t<=0?document.body.removeAttribute(nr):document.body.setAttribute(nr,t.toString())}},[])},U1=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;D1();var o=u.useMemo(function(){return I1(s)},[s]);return u.createElement(M1,{styles:L1(o,!e,s,r?"":"!important")})},qs=!1;if(typeof window<"u")try{var on=Object.defineProperty({},"passive",{get:function(){return qs=!0,!0}});window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{qs=!1}var qt=qs?{passive:!1}:!1,F1=function(t){return t.tagName==="TEXTAREA"},Oc=function(t,e){var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!F1(t)&&r[e]==="visible")},B1=function(t){return Oc(t,"overflowY")},z1=function(t){return Oc(t,"overflowX")},Ba=function(t,e){var r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=Pc(t,r);if(n){var s=Ic(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},V1=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},W1=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Pc=function(t,e){return t==="v"?B1(e):z1(e)},Ic=function(t,e){return t==="v"?V1(e):W1(e)},q1=function(t,e){return t==="h"&&e==="rtl"?-1:1},K1=function(t,e,r,n,s){var o=q1(t,window.getComputedStyle(e).direction),a=o*n,c=r.target,l=e.contains(c),d=!1,h=a>0,f=0,p=0;do{var g=Ic(t,c),y=g[0],v=g[1],m=g[2],b=v-m-o*y;(y||b)&&Pc(t,c)&&(f+=b,p+=y),c=c.parentNode}while(!l&&c!==document.body||l&&(e.contains(c)||e===c));return(h&&f===0||!h&&p===0)&&(d=!0),d},an=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},za=function(t){return[t.deltaX,t.deltaY]},Va=function(t){return t&&"current"in t?t.current:t},H1=function(t,e){return t[0]===e[0]&&t[1]===e[1]},G1=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J1=0,Kt=[];function Y1(t){var e=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),s=u.useState(J1++)[0],o=u.useState(function(){return Ac()})[0],a=u.useRef(t);u.useEffect(function(){a.current=t},[t]),u.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=_h([t.lockRef.current],(t.shards||[]).map(Va),!0).filter(Boolean);return v.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=u.useCallback(function(v,m){if("touches"in v&&v.touches.length===2)return!a.current.allowPinchZoom;var b=an(v),w=r.current,x="deltaX"in v?v.deltaX:w[0]-b[0],_="deltaY"in v?v.deltaY:w[1]-b[1],S,k=v.target,E=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in v&&E==="h"&&k.type==="range")return!1;var C=Ba(E,k);if(!C)return!0;if(C?S=E:(S=E==="v"?"h":"v",C=Ba(E,k)),!C)return!1;if(!n.current&&"changedTouches"in v&&(x||_)&&(n.current=S),!S)return!0;var O=n.current||S;return K1(O,m,v,O==="h"?x:_)},[]),l=u.useCallback(function(v){var m=v;if(!(!Kt.length||Kt[Kt.length-1]!==o)){var b="deltaY"in m?za(m):an(m),w=e.current.filter(function(S){return S.name===m.type&&S.target===m.target&&H1(S.delta,b)})[0];if(w&&w.should){m.cancelable&&m.preventDefault();return}if(!w){var x=(a.current.shards||[]).map(Va).filter(Boolean).filter(function(S){return S.contains(m.target)}),_=x.length>0?c(m,x[0]):!a.current.noIsolation;_&&m.cancelable&&m.preventDefault()}}},[]),d=u.useCallback(function(v,m,b,w){var x={name:v,delta:m,target:b,should:w};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(_){return _!==x})},1)},[]),h=u.useCallback(function(v){r.current=an(v),n.current=void 0},[]),f=u.useCallback(function(v){d(v.type,za(v),v.target,c(v,t.lockRef.current))},[]),p=u.useCallback(function(v){d(v.type,an(v),v.target,c(v,t.lockRef.current))},[]);u.useEffect(function(){return Kt.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,qt),document.addEventListener("touchmove",l,qt),document.addEventListener("touchstart",h,qt),function(){Kt=Kt.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,qt),document.removeEventListener("touchmove",l,qt),document.removeEventListener("touchstart",h,qt)}},[]);var g=t.removeScrollBar,y=t.inert;return u.createElement(u.Fragment,null,y?u.createElement(o,{styles:G1(s)}):null,g?u.createElement(U1,{gapMode:"margin"}):null)}const X1=C1(Rc,Y1);var Mc=u.forwardRef(function(t,e){return u.createElement(Vn,Ke({},t,{ref:e,sideCar:X1}))});Mc.classNames=Vn.classNames;const Ks=["Enter"," "],Z1=["ArrowDown","PageUp","Home"],Lc=["ArrowUp","PageDown","End"],Q1=[...Z1,...Lc],eg={ltr:[...Ks,"ArrowRight"],rtl:[...Ks,"ArrowLeft"]},tg={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wn="Menu",[Nr,rg,ng]=oc(Wn),[Mt,Dc]=Lr(Wn,[ng,_c,jc]),yo=_c(),Uc=jc(),[sg,Lt]=Mt(Wn),[og,Fr]=Mt(Wn),ag=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:a=!0}=t,c=yo(e),[l,d]=u.useState(null),h=u.useRef(!1),f=yt(o),p=ac(s);return u.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),u.createElement(H0,c,u.createElement(sg,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:d},u.createElement(og,{scope:e,onClose:u.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:a},n)))},Fc=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=yo(r);return u.createElement(G0,B({},s,n,{ref:e}))}),Bc="MenuPortal",[ig,zc]=Mt(Bc,{forceMount:void 0}),cg=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=Lt(Bc,e);return u.createElement(ig,{scope:e,forceMount:r},u.createElement(Ur,{present:r||o.open},u.createElement(Y0,{asChild:!0,container:s},n)))},Fe="MenuContent",[lg,bo]=Mt(Fe),ug=u.forwardRef((t,e)=>{const r=zc(Fe,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Lt(Fe,t.__scopeMenu),a=Fr(Fe,t.__scopeMenu);return u.createElement(Nr.Provider,{scope:t.__scopeMenu},u.createElement(Ur,{present:n||o.open},u.createElement(Nr.Slot,{scope:t.__scopeMenu},a.modal?u.createElement(dg,B({},s,{ref:e})):u.createElement(hg,B({},s,{ref:e})))))}),dg=u.forwardRef((t,e)=>{const r=Lt(Fe,t.__scopeMenu),n=u.useRef(null),s=Ne(e,n);return u.useEffect(()=>{const o=n.current;if(o)return v1(o)},[]),u.createElement(wo,B({},t,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ne(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),hg=u.forwardRef((t,e)=>{const r=Lt(Fe,t.__scopeMenu);return u.createElement(wo,B({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),wo=u.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:y,...v}=t,m=Lt(Fe,r),b=Fr(Fe,r),w=yo(r),x=Uc(r),_=rg(r),[S,k]=u.useState(null),E=u.useRef(null),C=Ne(e,E,m.onContentChange),O=u.useRef(0),L=u.useRef(""),H=u.useRef(0),P=u.useRef(null),V=u.useRef("right"),T=u.useRef(0),W=y?Mc:u.Fragment,U=y?{as:Sn,allowPinchZoom:!0}:void 0,re=N=>{var Y,oe;const ae=L.current+N,pe=_().filter(he=>!he.disabled),de=document.activeElement,I=(Y=pe.find(he=>he.ref.current===de))===null||Y===void 0?void 0:Y.textValue,q=pe.map(he=>he.textValue),xe=$g(q,ae,I),Pe=(oe=pe.find(he=>he.textValue===xe))===null||oe===void 0?void 0:oe.ref.current;(function he(We){L.current=We,window.clearTimeout(O.current),We!==""&&(O.current=window.setTimeout(()=>he(""),1e3))})(ae),Pe&&setTimeout(()=>Pe.focus())};u.useEffect(()=>()=>window.clearTimeout(O.current),[]),gm();const D=u.useCallback(N=>{var Y,oe;return V.current===((Y=P.current)===null||Y===void 0?void 0:Y.side)&&Ng(N,(oe=P.current)===null||oe===void 0?void 0:oe.area)},[]);return u.createElement(lg,{scope:r,searchRef:L,onItemEnter:u.useCallback(N=>{D(N)&&N.preventDefault()},[D]),onItemLeave:u.useCallback(N=>{var Y;D(N)||((Y=E.current)===null||Y===void 0||Y.focus(),k(null))},[D]),onTriggerLeave:u.useCallback(N=>{D(N)&&N.preventDefault()},[D]),pointerGraceTimerRef:H,onPointerGraceIntentChange:u.useCallback(N=>{P.current=N},[])},u.createElement(W,U,u.createElement(vm,{asChild:!0,trapped:s,onMountAutoFocus:ne(o,N=>{var Y;N.preventDefault(),(Y=E.current)===null||Y===void 0||Y.focus()}),onUnmountAutoFocus:a},u.createElement(fm,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:g},u.createElement(h1,B({asChild:!0},x,{dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:ne(l,N=>{b.isUsingKeyboardRef.current||N.preventDefault()})}),u.createElement(J0,B({role:"menu","aria-orientation":"vertical","data-state":Hc(m.open),"data-radix-menu-content":"",dir:b.dir},w,v,{ref:C,style:{outline:"none",...v.style},onKeyDown:ne(v.onKeyDown,N=>{const oe=N.target.closest("[data-radix-menu-content]")===N.currentTarget,ae=N.ctrlKey||N.altKey||N.metaKey,pe=N.key.length===1;oe&&(N.key==="Tab"&&N.preventDefault(),!ae&&pe&&re(N.key));const de=E.current;if(N.target!==de||!Q1.includes(N.key))return;N.preventDefault();const q=_().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);Lc.includes(N.key)&&q.reverse(),Cg(q)}),onBlur:ne(t.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(O.current),L.current="")}),onPointerMove:ne(t.onPointerMove,Rr(N=>{const Y=N.target,oe=T.current!==N.clientX;if(N.currentTarget.contains(Y)&&oe){const ae=N.clientX>T.current?"right":"left";V.current=ae,T.current=N.clientX}}))})))))))}),fg=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.createElement(Ae.div,B({},n,{ref:e}))}),Hs="MenuItem",Wa="menu.itemSelect",xo=u.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=u.useRef(null),a=Fr(Hs,t.__scopeMenu),c=bo(Hs,t.__scopeMenu),l=Ne(e,o),d=u.useRef(!1),h=()=>{const f=o.current;if(!r&&f){const p=new CustomEvent(Wa,{bubbles:!0,cancelable:!0});f.addEventListener(Wa,g=>n==null?void 0:n(g),{once:!0}),sc(f,p),p.defaultPrevented?d.current=!1:a.onClose()}};return u.createElement(Vc,B({},s,{ref:l,disabled:r,onClick:ne(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)===null||p===void 0||p.call(t,f),d.current=!0},onPointerUp:ne(t.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)===null||p===void 0||p.click()}),onKeyDown:ne(t.onKeyDown,f=>{const p=c.searchRef.current!=="";r||p&&f.key===" "||Ks.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),Vc=u.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,a=bo(Hs,r),c=Uc(r),l=u.useRef(null),d=Ne(e,l),[h,f]=u.useState(!1),[p,g]=u.useState("");return u.useEffect(()=>{const y=l.current;if(y){var v;g(((v=y.textContent)!==null&&v!==void 0?v:"").trim())}},[o.children]),u.createElement(Nr.ItemSlot,{scope:r,disabled:n,textValue:s??p},u.createElement(f1,B({asChild:!0},c,{focusable:!n}),u.createElement(Ae.div,B({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0},o,{ref:d,onPointerMove:ne(t.onPointerMove,Rr(y=>{n?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus())})),onPointerLeave:ne(t.onPointerLeave,Rr(y=>a.onItemLeave(y))),onFocus:ne(t.onFocus,()=>f(!0)),onBlur:ne(t.onBlur,()=>f(!1))}))))}),pg=u.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return u.createElement(qc,{scope:t.__scopeMenu,checked:r},u.createElement(xo,B({role:"menuitemcheckbox","aria-checked":$n(r)?"mixed":r},s,{ref:e,"data-state":_o(r),onSelect:ne(s.onSelect,()=>n==null?void 0:n($n(r)?!0:!r),{checkForDefaultPrevented:!1})})))}),mg="MenuRadioGroup",[$y,gg]=Mt(mg,{value:void 0,onValueChange:()=>{}}),vg="MenuRadioItem",yg=u.forwardRef((t,e)=>{const{value:r,...n}=t,s=gg(vg,t.__scopeMenu),o=r===s.value;return u.createElement(qc,{scope:t.__scopeMenu,checked:o},u.createElement(xo,B({role:"menuitemradio","aria-checked":o},n,{ref:e,"data-state":_o(o),onSelect:ne(n.onSelect,()=>{var a;return(a=s.onValueChange)===null||a===void 0?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})))}),Wc="MenuItemIndicator",[qc,bg]=Mt(Wc,{checked:!1}),wg=u.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=bg(Wc,r);return u.createElement(Ur,{present:n||$n(o.checked)||o.checked===!0},u.createElement(Ae.span,B({},s,{ref:e,"data-state":_o(o.checked)})))}),xg=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.createElement(Ae.div,B({role:"separator","aria-orientation":"horizontal"},n,{ref:e}))}),_g="MenuSub",[Ty,Kc]=Mt(_g),cn="MenuSubTrigger",Sg=u.forwardRef((t,e)=>{const r=Lt(cn,t.__scopeMenu),n=Fr(cn,t.__scopeMenu),s=Kc(cn,t.__scopeMenu),o=bo(cn,t.__scopeMenu),a=u.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=o,d={__scopeMenu:t.__scopeMenu},h=u.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return u.useEffect(()=>h,[h]),u.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),l(null)}},[c,l]),u.createElement(Fc,B({asChild:!0},d),u.createElement(Vc,B({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Hc(r.open)},t,{ref:Mr(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)===null||p===void 0||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ne(t.onPointerMove,Rr(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:ne(t.onPointerLeave,Rr(f=>{var p;h();const g=(p=r.content)===null||p===void 0?void 0:p.getBoundingClientRect();if(g){var y;const v=(y=r.content)===null||y===void 0?void 0:y.dataset.side,m=v==="right",b=m?-5:5,w=g[m?"left":"right"],x=g[m?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:w,y:g.top},{x,y:g.top},{x,y:g.bottom},{x:w,y:g.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ne(t.onKeyDown,f=>{const p=o.searchRef.current!=="";if(!(t.disabled||p&&f.key===" ")&&eg[n.dir].includes(f.key)){var g;r.onOpenChange(!0),(g=r.content)===null||g===void 0||g.focus(),f.preventDefault()}})})))}),Eg="MenuSubContent",kg=u.forwardRef((t,e)=>{const r=zc(Fe,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Lt(Fe,t.__scopeMenu),a=Fr(Fe,t.__scopeMenu),c=Kc(Eg,t.__scopeMenu),l=u.useRef(null),d=Ne(e,l);return u.createElement(Nr.Provider,{scope:t.__scopeMenu},u.createElement(Ur,{present:n||o.open},u.createElement(Nr.Slot,{scope:t.__scopeMenu},u.createElement(wo,B({id:c.contentId,"aria-labelledby":c.triggerId},s,{ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;a.isUsingKeyboardRef.current&&((f=l.current)===null||f===void 0||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ne(t.onFocusOutside,h=>{h.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ne(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ne(t.onKeyDown,h=>{const f=h.currentTarget.contains(h.target),p=tg[a.dir].includes(h.key);if(f&&p){var g;o.onOpenChange(!1),(g=c.trigger)===null||g===void 0||g.focus(),h.preventDefault()}})})))))});function Hc(t){return t?"open":"closed"}function $n(t){return t==="indeterminate"}function _o(t){return $n(t)?"indeterminate":t?"checked":"unchecked"}function Cg(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function jg(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function $g(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=jg(t,Math.max(o,0));s.length===1&&(a=a.filter(d=>d!==r));const l=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function Tg(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const c=e[o].x,l=e[o].y,d=e[a].x,h=e[a].y;l>n!=h>n&&r<(d-c)*(n-l)/(h-l)+c&&(s=!s)}return s}function Ng(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Tg(r,e)}function Rr(t){return e=>e.pointerType==="mouse"?t(e):void 0}const Rg=ag,Ag=Fc,Og=cg,Pg=ug,Ig=fg,Mg=xo,Lg=pg,Dg=yg,Ug=wg,Fg=xg,Bg=Sg,zg=kg,Gc="DropdownMenu",[Vg]=Lr(Gc,[Dc]),Oe=Dc(),[Wg,Jc]=Vg(Gc),qg=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:a,modal:c=!0}=t,l=Oe(e),d=u.useRef(null),[h=!1,f]=rc({prop:s,defaultProp:o,onChange:a});return u.createElement(Wg,{scope:e,triggerId:Us(),triggerRef:d,contentId:Us(),open:h,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(p=>!p),[f]),modal:c},u.createElement(Rg,B({},l,{open:h,onOpenChange:f,dir:n,modal:c}),r))},Kg="DropdownMenuTrigger",Hg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=Jc(Kg,r),a=Oe(r);return u.createElement(Ag,B({asChild:!0},a),u.createElement(Ae.button,B({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},s,{ref:Mr(e,o.triggerRef),onPointerDown:ne(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:ne(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})))}),Gg=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Oe(e);return u.createElement(Og,B({},n,r))},Jg="DropdownMenuContent",Yg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Jc(Jg,r),o=Oe(r),a=u.useRef(!1);return u.createElement(Pg,B({id:s.contentId,"aria-labelledby":s.triggerId},o,n,{ref:e,onCloseAutoFocus:ne(t.onCloseAutoFocus,c=>{var l;a.current||(l=s.triggerRef.current)===null||l===void 0||l.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:ne(t.onInteractOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Xg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Oe(r);return u.createElement(Ig,B({},s,n,{ref:e}))}),Zg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Oe(r);return u.createElement(Mg,B({},s,n,{ref:e}))}),Qg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Oe(r);return u.createElement(Lg,B({},s,n,{ref:e}))}),e2=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Oe(r);return u.createElement(Dg,B({},s,n,{ref:e}))}),t2=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Oe(r);return u.createElement(Ug,B({},s,n,{ref:e}))}),r2=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Oe(r);return u.createElement(Fg,B({},s,n,{ref:e}))}),n2=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Oe(r);return u.createElement(Bg,B({},s,n,{ref:e}))}),s2=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Oe(r);return u.createElement(zg,B({},s,n,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),o2=qg,a2=Hg,i2=Gg,Yc=Yg,Xc=Xg,Zc=Zg,Qc=Qg,el=e2,tl=t2,rl=r2,nl=n2,sl=s2,c2=o2,l2=a2,u2=u.forwardRef(({className:t,inset:e,children:r,...n},s)=>i.jsxs(nl,{ref:s,className:Q("flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden hover:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,i.jsx(sd,{className:"ml-auto h-4 w-4"})]}));u2.displayName=nl.displayName;const d2=u.forwardRef(({className:t,...e},r)=>i.jsx(sl,{ref:r,className:Q("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));d2.displayName=sl.displayName;const ol=u.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(i2,{children:i.jsx(Yc,{ref:n,sideOffset:e,className:Q("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ol.displayName=Yc.displayName;const Gs=u.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(Zc,{ref:n,className:Q("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden transition-colors hover:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e&&"pl-8",t),...r}));Gs.displayName=Zc.displayName;const h2=u.forwardRef(({className:t,children:e,checked:r,...n},s)=>i.jsxs(Qc,{ref:s,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(tl,{children:i.jsx(rd,{className:"h-4 w-4"})})}),e]}));h2.displayName=Qc.displayName;const f2=u.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(el,{ref:n,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(tl,{children:i.jsx(od,{className:"h-2 w-2 fill-current"})})}),e]}));f2.displayName=el.displayName;const p2=u.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(Xc,{ref:n,className:Q("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));p2.displayName=Xc.displayName;const m2=u.forwardRef(({className:t,...e},r)=>i.jsx(rl,{ref:r,className:Q("-mx-1 my-1 h-px bg-muted",t),...e}));m2.displayName=rl.displayName;function g2(){const{isSignedIn:t,user:e}=xt(),n=Xa().pathname==="/top3",{setTheme:s,resolvedTheme:o}=ru(),a=Zs(),[c,l]=u.useState("");u.useEffect(()=>{(async()=>{if(e!=null&&e.id&&!c)try{const f=await _e.getByUserId(e.id);f&&l(f.username)}catch(f){console.error("Error loading user data:",f)}})()},[e,c]);const d=()=>i.jsxs("svg",{fill:"currentColor",width:"16px",height:"16px",viewBox:"0 -6 524 524",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"down"}),i.jsx("path",{d:"M64 191L98 157 262 320 426 157 460 191 262 387 64 191Z"})]});return i.jsxs("header",{className:`navigation flex justify-between items-center py-5 px-6 sm:px-8 md:px-20 lg:px-24 ${n?"bg-transparent":""}`,children:[i.jsx("div",{children:i.jsx(wh,{})}),i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx("button",{className:"subscribe-button",children:""}),t?i.jsxs(i.Fragment,{children:[i.jsx(te,{asChild:!0,size:"sm",children:i.jsxs(br,{to:"/dashboard/manage",className:"hero-btn gap-2",children:["",i.jsx(xs,{className:"!h-4 !w-4"})]})}),i.jsx(Wr,{appearance:{elements:{avatarBox:" !h-8 !w-8 ",userButtonTrigger:"p-0"}},afterSignOutUrl:"/",children:i.jsxs(Wr.MenuItems,{children:[i.jsx(Wr.Action,{label:"",labelIcon:i.jsx(cd,{className:"h-4 w-4"}),onClick:()=>a("/dashboard")}),i.jsx(Wr.Action,{label:" ",labelIcon:i.jsx(yn,{className:"h-4 w-4"}),onClick:()=>{c&&a(`/${c}`)}})]})})]}):i.jsx(te,{asChild:!0,size:"sm",children:i.jsxs(br,{to:"/auth/sign-in",className:"hero-btn gap-2",children:["",i.jsx(xs,{className:"!h-4 !w-4"})]})}),i.jsxs(c2,{children:[i.jsx(l2,{asChild:!0,children:i.jsxs(te,{variant:"outline",size:"sm",className:"gap-2 rounded-[9999px]",children:["",i.jsx(d,{})]})}),i.jsxs(ol,{align:"end",children:[i.jsx(Gs,{onClick:()=>s(o==="light"?"dark":"light"),className:"min-nav flex items-center gap-2 cursor-pointer",children:o==="light"?i.jsxs(i.Fragment,{children:[i.jsx(pd,{className:"h-4 w-4"})," "]}):i.jsxs(i.Fragment,{children:[i.jsx(xd,{className:"h-4 w-4"})," "]})}),i.jsx(Gs,{asChild:!0,children:i.jsxs(br,{to:"/top3",className:"min-nav flex items-center gap-2",children:[i.jsx(vn,{className:"h-4 w-4"}),""]})})]})]})]})]})}function v2(){return i.jsx("footer",{className:"px-6 h-32 flex items-center justify-center sm:px-10 md:px-30 text-center sm:text-left",children:i.jsxs("p",{className:"text-sm text-foreground/80 sm:text-base",children:["    ",i.jsx("a",{href:"/",className:"text-foreground underline",children:"LinkShot"})," -    "," ",i.jsx("a",{className:"text-foreground underline",href:"/",children:""}),"."]})})}function y2(){const{isSignedIn:t}=xt(),e=u.useRef(null);return u.useEffect(()=>{const r=s=>{if(!e.current||document.querySelector('[data-state="open"]'))return;const a=e.current.getBoundingClientRect(),c=s.clientX-a.left,l=s.clientY-a.top,d=a.width/2,h=a.height/2,f=(c-d)/50,p=(l-h)/50,g=document.querySelector(".overlay-img"),y=document.querySelector(".overlay-img-right");g&&(g.style.transform=`rotate(-15deg) translateX(${p*.5}px) translateY(${-f*.5}px)`),y&&(y.style.transform=`rotate(15deg) translateX(${-p*.5}px) translateY(${f*.5}px)`)},n=e.current;return n&&n.addEventListener("mousemove",r),()=>{n&&n.removeEventListener("mousemove",r)}},[]),i.jsxs("div",{className:"hero-section py-14 px-6 md:px-20 lg:px-32 grid",ref:e,children:[i.jsx("div",{className:"border mb-4 w-fit mx-auto py-1.5 px-3 rounded-full bg-background",children:i.jsxs("p",{className:"text-xs flex items-center justify-center gap-1",children:[i.jsx(wd,{className:"h-4 w-4"}),"LinkShot  V1.0.1",i.jsx(Ko,{className:"h-4 w-4"})]})}),i.jsxs("div",{className:"grid place-content-center sm:text-center gap-2",children:[i.jsxs("h2",{className:"hero-title text-3xl max-w-md sm:max-w-3xl md:max-w-4xl sm:text-4xl font-medium md:text-5xl text-gray-900 dark:text-gray-50",children:["  ",i.jsx("span",{className:"hero-title animate-text-gradient inline-flex bg-gradient-to-r from-neutral-900 via-slate-500 to-neutral-500 bg-[200%_auto] bg-clip-text leading-tight text-transparent dark:from-neutral-100 dark:via-slate-400 dark:to-neutral-400",children:" ,  !"})]}),i.jsx("p",{className:"hero-des md:text-xl text-base sm:text-lg text-[13.5px] max-w-sm md:max-w-2xl text-center sm:mx-auto text-foreground/70 mt-4",children:"    LinkShot ,        ,    ."})]}),i.jsxs("div",{className:"hero-buttons flex items-center justify-center gap-2.5 mt-10",children:[i.jsx(te,{asChild:!0,children:i.jsxs(br,{to:t?"/dashboard/manage":"/auth/sign-in",className:"hero-btn gap-2",children:[" ",i.jsx(xs,{className:"!h-4 !w-4"})]})}),i.jsx(te,{variant:"outline",asChild:!0,className:"hero-btn",children:i.jsxs("a",{href:"/pixeny",className:"flex items-center gap-1",target:"_blank",rel:"noopener noreferrer",children:["  ",i.jsx(Ko,{className:"h-4 w-4 -rotate-45"})]})})]}),i.jsx("div",{className:"mt-32 w-fit h-fit border-primary/10 border-2 rounded-lg mx-auto relative",children:i.jsx("img",{className:"demoimg rounded-lg",src:"/assets/homepage-dark.png",alt:"Preview"})})]})}const b2=()=>i.jsx("img",{src:"https://i.imgur.com/dbGUUjh.png",alt:"Fixed decoration",className:"fixed right-4 top-1/2 transform -translate-y-1/2 z-50 hidden lg:block xl:block",style:{height:"auto",width:"60px",display:"none",pointerEvents:"none"}}),w2=()=>{const[t,e]=u.useState(!1),[r,n]=u.useState(!1),s=Zs();u.useEffect(()=>{const d=setTimeout(()=>{o()},2e4),h=setInterval(()=>{o()},3e5);return()=>{clearTimeout(d),clearInterval(h)}},[]);const o=()=>{n(!0),setTimeout(()=>{e(!0)},100)},a=()=>{e(!1),setTimeout(()=>{n(!1)},300)},c=()=>{s("/"),a()},l=()=>{a()};return r?i.jsxs("div",{className:"popup-modal-overlay",children:[i.jsx("div",{className:`popup-modal-backdrop ${t?"popup-backdrop-visible":"popup-backdrop-hidden"}`,onClick:l}),i.jsxs("div",{className:`popup-modal-content ${t?"popup-content-visible":"popup-content-hidden"}`,children:[i.jsx("div",{className:"popup-modal-image-container",children:i.jsx("img",{src:"https://i.imgur.com/BBcEFpP.png",alt:"Popup Image",className:"popup-modal-image"})}),i.jsxs("div",{className:"popup-modal-buttons",children:[i.jsx("button",{onClick:c,className:"popup-modal-button popup-modal-button-primary",children:""}),i.jsx("button",{onClick:l,className:"popup-modal-button popup-modal-button-secondary",children:""})]})]})]}):null};function x2(){return i.jsx("div",{children:i.jsx(y2,{})})}function Se(){return i.jsx("div",{className:"loader"})}function _2(){return i.jsxs("main",{className:"!bg-red-400 fixed top-0 left-0 right-0 h-full w-full flex justify-center items-center px-6",children:[i.jsx(Wl,{children:i.jsx("div",{className:"relative h-[264px] w-[500px] max-w-[300px]",children:i.jsx(Se,{})})}),i.jsxs(Za,{children:[i.jsx(ht,{path:"/sign-in/*",element:i.jsx(ql,{})}),i.jsx(ht,{path:"/sign-up/*",element:i.jsx(Kl,{})})]}),i.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]"})]})}function S2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function E2(...t){return e=>t.forEach(r=>S2(r,e))}const al=u.forwardRef((t,e)=>{const{children:r,...n}=t,s=u.Children.toArray(r),o=s.find(C2);if(o){const a=o.props.children,c=s.map(l=>l===o?u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null:l);return u.createElement(Js,B({},n,{ref:e}),u.isValidElement(a)?u.cloneElement(a,void 0,c):null)}return u.createElement(Js,B({},n,{ref:e}),r)});al.displayName="Slot";const Js=u.forwardRef((t,e)=>{const{children:r,...n}=t;return u.isValidElement(r)?u.cloneElement(r,{...j2(n,r.props),ref:e?E2(e,r.ref):r.ref}):u.Children.count(r)>1?u.Children.only(null):null});Js.displayName="SlotClone";const k2=({children:t})=>u.createElement(u.Fragment,null,t);function C2(t){return u.isValidElement(t)&&t.type===k2}function j2(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{o(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}const $2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],T2=$2.reduce((t,e)=>{const r=u.forwardRef((n,s)=>{const{asChild:o,...a}=n,c=o?al:e;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(c,B({},a,{ref:s}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),N2=u.forwardRef((t,e)=>u.createElement(T2.label,B({},t,{ref:e,onMouseDown:r=>{var n;(n=t.onMouseDown)===null||n===void 0||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),il=N2,R2=In("text-[12px] font-small leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=u.forwardRef(({className:t,...e},r)=>i.jsx(il,{ref:r,className:Q(R2(),t),...e}));K.displayName=il.displayName;function be({className:t,...e}){return i.jsx("div",{"data-slot":"card",className:Q("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function mt({className:t,...e}){return i.jsx("div",{"data-slot":"card-header",className:Q("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Pt({className:t,...e}){return i.jsx("div",{"data-slot":"card-title",className:Q("leading-none font-semibold",t),...e})}function we({className:t,...e}){return i.jsx("div",{"data-slot":"card-content",className:Q("px-6",t),...e})}const G=u.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));G.displayName="Input";const cl=u.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));cl.displayName="Textarea";function et(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ys(t){const e=A2(t),r=u.forwardRef((n,s)=>{const{children:o,...a}=n,c=u.Children.toArray(o),l=c.find(P2);if(l){const d=l.props.children,h=c.map(f=>f===l?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return i.jsx(e,{...a,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function A2(t){const e=u.forwardRef((r,n)=>{const{children:s,...o}=r;if(u.isValidElement(s)){const a=M2(s),c=I2(o,s.props);return s.type!==u.Fragment&&(c.ref=n?On(n,a):a),u.cloneElement(s,c)}return u.Children.count(s)>1?u.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var O2=Symbol("radix.slottable");function P2(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===O2}function I2(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{const l=o(...c);return s(...c),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function M2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function L2(t){const e=t+"CollectionProvider",[r,n]=Or(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:m,children:b}=v,w=Z.useRef(null),x=Z.useRef(new Map).current;return i.jsx(s,{scope:m,itemMap:x,collectionRef:w,children:b})};a.displayName=e;const c=t+"CollectionSlot",l=Ys(c),d=Z.forwardRef((v,m)=>{const{scope:b,children:w}=v,x=o(c,b),_=Be(m,x.collectionRef);return i.jsx(l,{ref:_,children:w})});d.displayName=c;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ys(h),g=Z.forwardRef((v,m)=>{const{scope:b,children:w,...x}=v,_=Z.useRef(null),S=Be(m,_),k=o(h,b);return Z.useEffect(()=>(k.itemMap.set(_,{ref:_,...x}),()=>void k.itemMap.delete(_))),i.jsx(p,{[f]:"",ref:S,children:w})});g.displayName=h;function y(v){const m=o(t+"CollectionConsumer",v);return Z.useCallback(()=>{const w=m.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((k,E)=>x.indexOf(k.ref.current)-x.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:d,ItemSlot:g},y,n]}var D2=An[" useId ".trim().toString()]||(()=>{}),U2=0;function ll(t){const[e,r]=u.useState(D2());return vt(()=>{r(n=>n??String(U2++))},[t]),t||(e?`radix-${e}`:"")}var F2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dr=F2.reduce((t,e)=>{const r=Ys(`Primitive.${e}`),n=u.forwardRef((s,o)=>{const{asChild:a,...c}=s,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),B2=u.createContext(void 0);function ul(t){const e=u.useContext(B2);return t||e||"ltr"}var ms="rovingFocusGroup.onEntryFocus",z2={bubbles:!1,cancelable:!0},Br="RovingFocusGroup",[Xs,dl,V2]=L2(Br),[W2,hl]=Or(Br,[V2]),[q2,K2]=W2(Br),fl=u.forwardRef((t,e)=>i.jsx(Xs.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Xs.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(H2,{...t,ref:e})})}));fl.displayName=Br;var H2=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=u.useRef(null),g=Be(e,p),y=ul(o),[v,m]=to({prop:a,defaultProp:c??null,onChange:l,caller:Br}),[b,w]=u.useState(!1),x=gt(d),_=dl(r),S=u.useRef(!1),[k,E]=u.useState(0);return u.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(ms,x),()=>C.removeEventListener(ms,x)},[x]),i.jsx(q2,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:v,onItemFocus:u.useCallback(C=>m(C),[m]),onItemShiftTab:u.useCallback(()=>w(!0),[]),onFocusableItemAdd:u.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:u.useCallback(()=>E(C=>C-1),[]),children:i.jsx(dr.div,{tabIndex:b||k===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{S.current=!0}),onFocus:et(t.onFocus,C=>{const O=!S.current;if(C.target===C.currentTarget&&O&&!b){const L=new CustomEvent(ms,z2);if(C.currentTarget.dispatchEvent(L),!L.defaultPrevented){const H=_().filter(U=>U.focusable),P=H.find(U=>U.active),V=H.find(U=>U.id===v),W=[P,V,...H].filter(Boolean).map(U=>U.ref.current);gl(W,h)}}S.current=!1}),onBlur:et(t.onBlur,()=>w(!1))})})}),pl="RovingFocusGroupItem",ml=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:a,...c}=t,l=ll(),d=o||l,h=K2(pl,r),f=h.currentTabStopId===d,p=dl(r),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:v}=h;return u.useEffect(()=>{if(n)return g(),()=>y()},[n,g,y]),i.jsx(Xs.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:i.jsx(dr.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...c,ref:e,onMouseDown:et(t.onMouseDown,m=>{n?h.onItemFocus(d):m.preventDefault()}),onFocus:et(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:et(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){h.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const b=Y2(m,h.orientation,h.dir);if(b!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let x=p().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const _=x.indexOf(m.currentTarget);x=h.loop?X2(x,_+1):x.slice(_+1)}setTimeout(()=>gl(x))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});ml.displayName=pl;var G2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function J2(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Y2(t,e,r){const n=J2(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return G2[n]}function gl(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function X2(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Z2=fl,Q2=ml;function ev(t,e){return u.useReducer((r,n)=>e[r][n]??r,t)}var vl=t=>{const{present:e,children:r}=t,n=tv(e),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),o=Be(n.ref,rv(s));return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:o}):null};vl.displayName="Presence";function tv(t){const[e,r]=u.useState(),n=u.useRef(null),s=u.useRef(t),o=u.useRef("none"),a=t?"mounted":"unmounted",[c,l]=ev(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=ln(n.current);o.current=c==="mounted"?d:"none"},[c]),vt(()=>{const d=n.current,h=s.current;if(h!==t){const p=o.current,g=ln(d);t?l("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),vt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=g=>{const v=ln(n.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},p=g=>{g.target===e&&(o.current=ln(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:u.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function ln(t){return(t==null?void 0:t.animationName)||"none"}function rv(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qn="Tabs",[nv]=Or(qn,[hl]),yl=hl(),[sv,So]=nv(qn),bl=u.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:c,activationMode:l="automatic",...d}=t,h=ul(c),[f,p]=to({prop:n,onChange:s,defaultProp:o??"",caller:qn});return i.jsx(sv,{scope:r,baseId:ll(),value:f,onValueChange:p,orientation:a,dir:h,activationMode:l,children:i.jsx(dr.div,{dir:h,"data-orientation":a,...d,ref:e})})});bl.displayName=qn;var wl="TabsList",xl=u.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=So(wl,r),a=yl(r);return i.jsx(Z2,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:i.jsx(dr.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});xl.displayName=wl;var _l="TabsTrigger",Sl=u.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,a=So(_l,r),c=yl(r),l=Cl(a.baseId,n),d=jl(a.baseId,n),h=n===a.value;return i.jsx(Q2,{asChild:!0,...c,focusable:!s,active:h,children:i.jsx(dr.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:e,onMouseDown:et(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:et(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:et(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(n)})})})});Sl.displayName=_l;var El="TabsContent",kl=u.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...a}=t,c=So(El,r),l=Cl(c.baseId,n),d=jl(c.baseId,n),h=n===c.value,f=u.useRef(h);return u.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(vl,{present:s||h,children:({present:p})=>i.jsx(dr.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});kl.displayName=El;function Cl(t,e){return`${t}-trigger-${e}`}function jl(t,e){return`${t}-content-${e}`}var ov=bl,av=xl,iv=Sl,cv=kl;function lv({className:t,...e}){return i.jsx(ov,{"data-slot":"tabs",className:Q("flex flex-col gap-2",t),...e})}function uv({className:t,...e}){return i.jsx(av,{"data-slot":"tabs-list",className:Q("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function Ht({className:t,...e}){return i.jsx(iv,{"data-slot":"tabs-trigger",className:Q("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Gt({className:t,...e}){return i.jsx(cv,{"data-slot":"tabs-content",className:Q("flex-1 outline-none",t),...e})}const dv=u.forwardRef(({className:t,children:e,value:r,onValueChange:n,...s},o)=>{const[a,c]=u.useState(!1),[l,d]=u.useState(r||""),h=u.useRef(null);u.useEffect(()=>{d(r||"")},[r]),u.useEffect(()=>{const p=g=>{h.current&&!h.current.contains(g.target)&&c(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const f=p=>{d(p),c(!1),n&&n(p)};return i.jsxs("div",{className:"relative w-full",ref:h,children:[i.jsxs("button",{type:"button",className:Q("flex h-11 w-full items-center justify-between rounded-lg border border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-900 shadow-sm transition-all duration-200 placeholder:text-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 hover:border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder:text-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/20",t),onClick:()=>c(!a),...s,children:[i.jsx("span",{className:"block truncate",children:l?i.jsx("div",{className:"flex items-center gap-2",children:(()=>{var g;const p=e.find(y=>{var v;return((v=y.props)==null?void 0:v.value)===l});if(p&&((g=p.props)!=null&&g.children)){const y=p.props.children;if(y.props&&y.props.children)return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-lg",children:y.props.children[0]}),i.jsx("span",{children:y.props.children[1]})]})}return l})()}):" "}),i.jsx(nd,{className:Q("h-4 w-4 text-gray-400 transition-transform duration-200",a&&"rotate-180")})]}),a&&i.jsx("div",{className:"absolute top-full z-50 mt-2 w-full rounded-lg border border-gray-200 bg-white shadow-lg ring-1 ring-black/5 transition-all duration-200 dark:border-gray-700 dark:bg-gray-800 dark:ring-white/10",children:i.jsx("div",{className:"max-h-60 overflow-auto rounded-lg py-1",children:u.Children.map(e,p=>p&&p.props?u.cloneElement(p,{onClick:()=>f(p.props.value),className:Q("relative flex w-full cursor-pointer select-none items-center rounded-md px-3 py-2.5 text-sm text-gray-700 transition-colors duration-150 hover:bg-gray-50 hover:text-gray-900 focus:bg-gray-50 focus:text-gray-900 focus:outline-none dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-gray-100 dark:focus:bg-gray-700 dark:focus:text-gray-100",l===p.props.value&&"bg-blue-50 text-blue-700 hover:bg-blue-100 hover:text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 dark:hover:bg-blue-900/30 dark:hover:text-blue-200")}):p)})})]})});dv.displayName="Select";const hv=u.forwardRef(({className:t,children:e,...r},n)=>i.jsx("div",{ref:n,className:Q("",t),...r,children:e}));hv.displayName="SelectTrigger";const fv=u.forwardRef(({className:t,placeholder:e,...r},n)=>i.jsx("span",{ref:n,className:Q("block truncate",t),...r,children:e}));fv.displayName="SelectValue";const pv=u.forwardRef(({className:t,children:e,...r},n)=>i.jsx("div",{ref:n,className:Q("p-1",t),...r,children:e}));pv.displayName="SelectContent";const mv=u.forwardRef(({className:t,children:e,...r},n)=>i.jsx("div",{ref:n,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t),...r,children:e}));mv.displayName="SelectItem";class mn{static async getByUserId(e){try{console.log("Fetching custom links for userId:",e);const{data:r,error:n}=await ue.from("custom_links").select("*").eq("user_id",e).eq("is_active",!0).order("order_index",{ascending:!0});if(n)throw console.error("Supabase error:",n),n;return console.log("Custom links data received:",r),r}catch(r){throw console.error("Error fetching custom links:",r),r}}static async getByUsername(e){try{const{data:r,error:n}=await ue.from("users").select("clerk_id").eq("username",e).single();if(n)throw n;const{data:s,error:o}=await ue.from("custom_links").select("*").eq("user_id",r.clerk_id).eq("is_active",!0).order("order_index",{ascending:!0});if(o)throw o;return s}catch(r){return console.error("Error fetching custom links by username:",r),null}}static async create(e,r){try{const{data:n}=await ue.from("custom_links").select("order_index").eq("user_id",e).order("order_index",{ascending:!1}).limit(1),s=n&&n.length>0?n[0].order_index+1:0,{data:o,error:a}=await ue.from("custom_links").insert({user_id:e,title:r.title,url:r.url,icon:r.icon||"globe",order_index:r.order_index!==void 0?r.order_index:s}).select().single();if(a)throw a;return o}catch(n){return console.error("Error creating custom link:",n),null}}static async update(e,r){try{const{data:n,error:s}=await ue.from("custom_links").update({title:r.title,url:r.url,icon:r.icon,order_index:r.order_index,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return n}catch(n){return console.error("Error updating custom link:",n),null}}static async delete(e){try{const{data:r,error:n}=await ue.from("custom_links").update({is_active:!1}).eq("id",e).select().single();if(n)throw n;return r}catch(r){return console.error("Error deleting custom link:",r),null}}static async reorder(e,r){try{const n=r.map(({id:a,order_index:c})=>ue.from("custom_links").update({order_index:c}).eq("id",a).eq("user_id",e));if((await Promise.all(n)).some(a=>a.error))throw new Error("Failed to reorder some links");return!0}catch(n){return console.error("Error reordering custom links:",n),!1}}}var $l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qa=Z.createContext&&Z.createContext($l),gv=["attr","size","title"];function vv(t,e){if(t==null)return{};var r=yv(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yv(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tn(){return Tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tn.apply(this,arguments)}function Ka(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ka(Object(r),!0).forEach(function(n){bv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ka(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bv(t,e,r){return e=wv(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wv(t){var e=xv(t,"string");return typeof e=="symbol"?e:e+""}function xv(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tl(t){return t&&t.map((e,r)=>Z.createElement(e.tag,Nn({key:r},e.attr),Tl(e.child)))}function ee(t){return e=>Z.createElement(_v,Tn({attr:Nn({},t.attr)},e),Tl(t.child))}function _v(t){var e=r=>{var{attr:n,size:s,title:o}=t,a=vv(t,gv),c=s||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Z.createElement("svg",Tn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:Nn(Nn({color:t.color||r.color},r.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Z.createElement("title",null,o),t.children)};return qa!==void 0?Z.createElement(qa.Consumer,null,r=>e(r)):e($l)}function Sv(t){return ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.2 162.7c-48.7 1.8-169.5 15.5-169.5 117.5 0 109.5 138.3 114 183.5 43.2 6.5 10.2 35.4 37.5 45.3 46.8l56.8-56S341 288.9 341 261.4V114.3C341 89 316.5 32 228.7 32 140.7 32 94 87 94 136.3l73.5 6.8c16.3-49.5 54.2-49.5 54.2-49.5 40.7-.1 35.5 29.8 35.5 69.1zm0 86.8c0 80-84.2 68-84.2 17.2 0-47.2 50.5-56.7 84.2-57.8v40.6zm136 163.5c-7.7 10-70 67-174.5 67S34.2 408.5 9.7 379c-6.8-7.7 1-11.3 5.5-8.3C88.5 415.2 203 488.5 387.7 401c7.5-3.7 13.3 2 5.5 12zm39.8 2.2c-6.5 15.8-16 26.8-21.2 31-5.5 4.5-9.5 2.7-6.5-3.8s19.3-46.5 12.7-55c-6.5-8.3-37-4.3-48-3.2-10.8 1-13 2-14-.3-2.3-5.7 21.7-15.5 37.5-17.5 15.7-1.8 41-.8 46 5.7 3.7 5.1 0 27.1-6.5 43.1z"},child:[]}]})(t)}function Ev(t){return ee({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function kv(t){return ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function Cv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function jv(t){return ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function $v(t){return ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Tv(t){return ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Nv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 194.8c0 101.3-82.4 183.8-183.8 183.8-101.7 0-184.4-82.4-184.4-183.8 0-101.6 82.7-184.3 184.4-184.3C429.6 10.5 512 93.2 512 194.8zM0 501.5h90v-491H0v491z"},child:[]}]})(t)}function Rv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function Av(t){return ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M388.32,104.1a4.66,4.66,0,0,0-4.4-4c-2,0-37.23-.8-37.23-.8s-21.61-20.82-29.62-28.83V503.2L442.76,472S388.72,106.5,388.32,104.1ZM288.65,70.47a116.67,116.67,0,0,0-7.21-17.61C271,32.85,255.42,22,237,22a15,15,0,0,0-4,.4c-.4-.8-1.2-1.2-1.6-2C223.4,11.63,213,7.63,200.58,8c-24,.8-48,18-67.25,48.83-13.61,21.62-24,48.84-26.82,70.06-27.62,8.4-46.83,14.41-47.23,14.81-14,4.4-14.41,4.8-16,18-1.2,10-38,291.82-38,291.82L307.86,504V65.67a41.66,41.66,0,0,0-4.4.4S297.86,67.67,288.65,70.47ZM233.41,87.69c-16,4.8-33.63,10.4-50.84,15.61,4.8-18.82,14.41-37.63,25.62-50,4.4-4.4,10.41-9.61,17.21-12.81C232.21,54.86,233.81,74.48,233.41,87.69ZM200.58,24.44A27.49,27.49,0,0,1,215,28c-6.4,3.2-12.81,8.41-18.81,14.41-15.21,16.42-26.82,42-31.62,66.45-14.42,4.41-28.83,8.81-42,12.81C131.33,83.28,163.75,25.24,200.58,24.44ZM154.15,244.61c1.6,25.61,69.25,31.22,73.25,91.66,2.8,47.64-25.22,80.06-65.65,82.47-48.83,3.2-75.65-25.62-75.65-25.62l10.4-44s26.82,20.42,48.44,18.82c14-.8,19.22-12.41,18.81-20.42-2-33.62-57.24-31.62-60.84-86.86-3.2-46.44,27.22-93.27,94.47-97.68,26-1.6,39.23,4.81,39.23,4.81L221.4,225.39s-17.21-8-37.63-6.4C154.15,221,153.75,239.8,154.15,244.61ZM249.42,82.88c0-12-1.6-29.22-7.21-43.63,18.42,3.6,27.22,24,31.23,36.43Q262.63,78.68,249.42,82.88Z"},child:[]}]})(t)}function Ov(t){return ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.7 299.8c2.9-14 4.7-28.9 4.7-43.8 0-113.5-91.9-205.3-205.3-205.3-14.9 0-29.7 1.7-43.8 4.7C161.3 40.7 137.7 32 112 32 50.2 32 0 82.2 0 144c0 25.7 8.7 49.3 23.3 68.2-2.9 14-4.7 28.9-4.7 43.8 0 113.5 91.9 205.3 205.3 205.3 14.9 0 29.7-1.7 43.8-4.7 19 14.6 42.6 23.3 68.2 23.3 61.8 0 112-50.2 112-112 .1-25.6-8.6-49.2-23.2-68.1zm-194.6 91.5c-65.6 0-120.5-29.2-120.5-65 0-16 9-30.6 29.5-30.6 31.2 0 34.1 44.9 88.1 44.9 25.7 0 42.3-11.4 42.3-26.3 0-18.7-16-21.6-42-28-62.5-15.4-117.8-22-117.8-87.2 0-59.2 58.6-81.1 109.1-81.1 55.1 0 110.8 21.9 110.8 55.4 0 16.9-11.4 31.8-30.3 31.8-28.3 0-29.2-33.5-75-33.5-25.7 0-42 7-42 22.5 0 19.8 20.8 21.8 69.1 33 41.4 9.3 90.7 26.8 90.7 77.6 0 59.1-57.1 86.5-112 86.5z"},child:[]}]})(t)}function Pv(t){return ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm169.5 338.9c-3.5 8.1-18.1 14-44.8 18.2-1.4 1.9-2.5 9.8-4.3 15.9-1.1 3.7-3.7 5.9-8.1 5.9h-.2c-6.2 0-12.8-2.9-25.8-2.9-17.6 0-23.7 4-37.4 13.7-14.5 10.3-28.4 19.1-49.2 18.2-21 1.6-38.6-11.2-48.5-18.2-13.8-9.7-19.8-13.7-37.4-13.7-12.5 0-20.4 3.1-25.8 3.1-5.4 0-7.5-3.3-8.3-6-1.8-6.1-2.9-14.1-4.3-16-13.8-2.1-44.8-7.5-45.5-21.4-.2-3.6 2.3-6.8 5.9-7.4 46.3-7.6 67.1-55.1 68-57.1 0-.1.1-.2.2-.3 2.5-5 3-9.2 1.6-12.5-3.4-7.9-17.9-10.7-24-13.2-15.8-6.2-18-13.4-17-18.3 1.6-8.5 14.4-13.8 21.9-10.3 5.9 2.8 11.2 4.2 15.7 4.2 3.3 0 5.5-.8 6.6-1.4-1.4-23.9-4.7-58 3.8-77.1C183.1 100 230.7 96 244.7 96c.6 0 6.1-.1 6.7-.1 34.7 0 68 17.8 84.3 54.3 8.5 19.1 5.2 53.1 3.8 77.1 1.1.6 2.9 1.3 5.7 1.4 4.3-.2 9.2-1.6 14.7-4.2 4-1.9 9.6-1.6 13.6 0 6.3 2.3 10.3 6.8 10.4 11.9.1 6.5-5.7 12.1-17.2 16.6-1.4.6-3.1 1.1-4.9 1.7-6.5 2.1-16.4 5.2-19 11.5-1.4 3.3-.8 7.5 1.6 12.5.1.1.1.2.2.3.9 2 21.7 49.5 68 57.1 4 1 7.1 5.5 4.9 10.8z"},child:[]}]})(t)}function Iv(t){return ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M111.4 256.3l5.8 65-5.8 68.3c-.3 2.5-2.2 4.4-4.4 4.4s-4.2-1.9-4.2-4.4l-5.6-68.3 5.6-65c0-2.2 1.9-4.2 4.2-4.2 2.2 0 4.1 2 4.4 4.2zm21.4-45.6c-2.8 0-4.7 2.2-5 5l-5 105.6 5 68.3c.3 2.8 2.2 5 5 5 2.5 0 4.7-2.2 4.7-5l5.8-68.3-5.8-105.6c0-2.8-2.2-5-4.7-5zm25.5-24.1c-3.1 0-5.3 2.2-5.6 5.3l-4.4 130 4.4 67.8c.3 3.1 2.5 5.3 5.6 5.3 2.8 0 5.3-2.2 5.3-5.3l5.3-67.8-5.3-130c0-3.1-2.5-5.3-5.3-5.3zM7.2 283.2c-1.4 0-2.2 1.1-2.5 2.5L0 321.3l4.7 35c.3 1.4 1.1 2.5 2.5 2.5s2.2-1.1 2.5-2.5l5.6-35-5.6-35.6c-.3-1.4-1.1-2.5-2.5-2.5zm23.6-21.9c-1.4 0-2.5 1.1-2.5 2.5l-6.4 57.5 6.4 56.1c0 1.7 1.1 2.8 2.5 2.8s2.5-1.1 2.8-2.5l7.2-56.4-7.2-57.5c-.3-1.4-1.4-2.5-2.8-2.5zm25.3-11.4c-1.7 0-3.1 1.4-3.3 3.3L47 321.3l5.8 65.8c.3 1.7 1.7 3.1 3.3 3.1 1.7 0 3.1-1.4 3.1-3.1l6.9-65.8-6.9-68.1c0-1.9-1.4-3.3-3.1-3.3zm25.3-2.2c-1.9 0-3.6 1.4-3.6 3.6l-5.8 70 5.8 67.8c0 2.2 1.7 3.6 3.6 3.6s3.6-1.4 3.9-3.6l6.4-67.8-6.4-70c-.3-2.2-2-3.6-3.9-3.6zm241.4-110.9c-1.1-.8-2.8-1.4-4.2-1.4-2.2 0-4.2.8-5.6 1.9-1.9 1.7-3.1 4.2-3.3 6.7v.8l-3.3 176.7 1.7 32.5 1.7 31.7c.3 4.7 4.2 8.6 8.9 8.6s8.6-3.9 8.6-8.6l3.9-64.2-3.9-177.5c-.4-3-2-5.8-4.5-7.2zm-26.7 15.3c-1.4-.8-2.8-1.4-4.4-1.4s-3.1.6-4.4 1.4c-2.2 1.4-3.6 3.9-3.6 6.7l-.3 1.7-2.8 160.8s0 .3 3.1 65.6v.3c0 1.7.6 3.3 1.7 4.7 1.7 1.9 3.9 3.1 6.4 3.1 2.2 0 4.2-1.1 5.6-2.5 1.7-1.4 2.5-3.3 2.5-5.6l.3-6.7 3.1-58.6-3.3-162.8c-.3-2.8-1.7-5.3-3.9-6.7zm-111.4 22.5c-3.1 0-5.8 2.8-5.8 6.1l-4.4 140.6 4.4 67.2c.3 3.3 2.8 5.8 5.8 5.8 3.3 0 5.8-2.5 6.1-5.8l5-67.2-5-140.6c-.2-3.3-2.7-6.1-6.1-6.1zm376.7 62.8c-10.8 0-21.1 2.2-30.6 6.1-6.4-70.8-65.8-126.4-138.3-126.4-17.8 0-35 3.3-50.3 9.4-6.1 2.2-7.8 4.4-7.8 9.2v249.7c0 5 3.9 8.6 8.6 9.2h218.3c43.3 0 78.6-35 78.6-78.3.1-43.6-35.2-78.9-78.5-78.9zm-296.7-60.3c-4.2 0-7.5 3.3-7.8 7.8l-3.3 136.7 3.3 65.6c.3 4.2 3.6 7.5 7.8 7.5 4.2 0 7.5-3.3 7.5-7.5l3.9-65.6-3.9-136.7c-.3-4.5-3.3-7.8-7.5-7.8zm-53.6-7.8c-3.3 0-6.4 3.1-6.4 6.7l-3.9 145.3 3.9 66.9c.3 3.6 3.1 6.4 6.4 6.4 3.6 0 6.4-2.8 6.7-6.4l4.4-66.9-4.4-145.3c-.3-3.6-3.1-6.7-6.7-6.7zm26.7 3.4c-3.9 0-6.9 3.1-6.9 6.9L227 321.3l3.9 66.4c.3 3.9 3.1 6.9 6.9 6.9s6.9-3.1 6.9-6.9l4.2-66.4-4.2-141.7c0-3.9-3-6.9-6.9-6.9z"},child:[]}]})(t)}function Mv(t){return ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"},child:[]}]})(t)}function Lv(t){return ee({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"},child:[]}]})(t)}function Dv(t){return ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function Uv(t){return ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function Fv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z"},child:[]}]})(t)}function Bv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function zv(t){return ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function Vv(t){return ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function Wv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M172.2 226.8c-14.6-2.9-28.2 8.9-28.2 23.8V301c0 10.2 7.1 18.4 16.7 22 18.2 6.8 31.3 24.4 31.3 45 0 26.5-21.5 48-48 48s-48-21.5-48-48V120c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v248c0 89.5 82.1 160.2 175 140.7 54.4-11.4 98.3-55.4 109.7-109.7 17.4-82.9-37-157.2-112.5-172.2zM209 0c-9.2-.5-17 6.8-17 16v31.6c0 8.5 6.6 15.5 15 15.9 129.4 7 233.4 112 240.9 241.5.5 8.4 7.5 15 15.9 15h32.1c9.2 0 16.5-7.8 16-17C503.4 139.8 372.2 8.6 209 0zm.3 96c-9.3-.7-17.3 6.7-17.3 16.1v32.1c0 8.4 6.5 15.3 14.8 15.9 76.8 6.3 138 68.2 144.9 145.2.8 8.3 7.6 14.7 15.9 14.7h32.2c9.3 0 16.8-8 16.1-17.3-8.4-110.1-96.5-198.2-206.6-206.7z"},child:[]}]})(t)}function qv(t){return ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Kv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Ha(t){return ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(t)}function Hv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Gv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Jv(t){return ee({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Ga(t){return ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function Yv(t){return ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"},child:[]}]})(t)}function Xv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Zv(t){return ee({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Qv(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function ey(t){return ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function ty(t){return ee({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.2574.0039c-.37.0101-.7353.041-1.1003.095C9.6164.153 9.0766.4236 8.482.694c-.757.3244-1.5147.6486-2.2176.7027-1.1896.3785-1.568.919-1.8925 1.3516 0 .054-.054.1079-.054.1079-.4325.865-.4873 1.73-.325 2.5952.1621.5407.3786 1.0282.5408 1.5148.3785 1.0274.7578 2.0007.92 3.1362.1622.3244.3235.7571.4316 1.1897.2704.8651.542 1.8383 1.353 2.5952l.0057-.0028c.0175.0183.0301.0387.0482.0568.0072-.0036.0141-.0063.0213-.0099l-.0213-.5849c.6489-.9733 1.5673-1.6221 2.865-1.8925.5195-.1093 1.081-.1497 1.6625-.1278a8.7733 8.7733 0 0 1 1.7988.2357c1.4599.3785 2.595 1.1358 2.6492 1.7846.0273.3549.0398.6952.0326 1.0364-.001.064-.0046.1285-.007.193l.1362.0682c.075-.0375.1424-.107.2059-.1902.0008-.001.002-.002.0028-.0028.0018-.0023.0039-.0061.0057-.0085.0396-.0536.0747-.1236.1107-.1931.0188-.0377.0372-.0866.0554-.1292.2048-.4622.362-1.1536.538-1.9635.0541-.2703.1092-.4864.1633-.7027.4326-.9733 1.0266-1.8382 1.6213-2.6492.9733-1.3518 1.8928-2.5962 1.7846-4.0561-1.784-3.4608-4.2718-4.0017-5.5695-4.272-.2163-.0541-.3233-.0539-.4856-.108-1.3382-.2433-2.4945-.3953-3.6046-.3648zm5.0428 14.3788a9.8602 9.8602 0 0 0-.0326-.9824c-.0541-.703-1.1892-1.46-2.7032-1.8386-.588-.1336-1.1764-.2142-1.7448-.2356-.539-.0137-1.0657.0248-1.5546.1277-1.2436.2704-2.2162.9193-2.811 1.8925l.0511 1.431c.6672-.3558 1.7326-.8747 3.139-.9994.0662-.0059.1368-.0059.2044-.0099.1177-.013.2667-.044.4444-.044 1.6075 0 3.2682.5336 4.8767 1.6483.039-.2744.0611-.549.071-.8234l.044.0227c.0028-.0622.0143-.1268.0156-.1888zM11.256.0578c.1239-.0034.2538.01.379.0114-.23-.0022-.4588.0026-.6871.0156.103-.0061.2046-.0242.308-.027zm.4983.0156c.6552.014 1.3255.0711 2.0387.1803-.6834-.0987-1.3646-.1671-2.0387-.1803zm-1.3147.0554c-.076.0087-.1527.0133-.2285.0241-.8168.1167-1.7742.7015-2.75 1.045.3545-.1323.7143-.2957 1.0747-.4501C9.0765.4774 9.6705.207 10.1571.1529c.0939-.0139.1886-.0133.2825-.0241zm-.2285.24c.1622 0 .3787-.0002.5409.0539-.1425-.0357-.2595-.026-.3706-.0142a1.174 1.174 0 0 1 .3166.0681c.5796 1.0012-.4264 5.2791-.6786 8.1492.1559 1.0276.3138 1.9963.4628 2.7201-.7029-1.7843-1.4067-4.921-1.5148-7.354-.054-.9733.001-1.8386.2172-2.4874C9.401.8557 9.7244.4228 10.2111.3687zm3.1361.271c-.811 2.1088-.9184 6.1092-.9725 7.3528-.054.5407-.0001 1.73.054 2.5952 0 .2163.054.4325.054.6488 0-.2163-.054-.3786-.054-.5948-.4326-3.2442-.974-7.1362.9185-10.002zm3.352.3777c-.2704 2.1628-1.4047 3.191-1.7832 5.2998-.1081 1.6762-.325 3.6222-.379 5.2984-.0541-1.6762-.0007-3.4601.2697-5.2444.2703-1.8384.8651-3.6776 1.8925-5.3538zm-10.381.433c-.3581.1194-.632.248-.8575.3805.2317-.1358.4996-.2666.8575-.3805zm.2101.1974c.2155.0025.4384.0734.6006.2357-.0067-.004-.0078-.0033-.0142-.0071.1331.0929.2666.2093.3932.3847-.2036.9673.2553 3.0317.0398 4.6694.0763 1.5485.0717 3.1804.849 4.4594-.9796-1.5107-1.176-3.4375-1.3218-5.236-.1128-1.0907-.2035-2.0969-.4642-2.9033-.144-.3047-.2684-.5745-.3833-.822-.0247-.0369-.0447-.0784-.071-.1135-.1082-.1082-.1619-.2696-.1619-.3777 0-.054.0539-.1618.108-.1618.054-.0541.1616-.0553.2157-.1094a1.013 1.013 0 0 1 .2101-.0184zm-1.3459.6133c-.0604.0201-.0923.041-.1405.061.1768-.034.3617.0339.5196.318-.1877.8916.4364 3.3685.4288 5.104.3124 1.8478.5496 3.8498 1.5716 5.1152C6.3723 11.5076 5.886 9.1286 5.5076 7.128 5.183 5.56 4.9125 4.2086 4.3718 3.776c-.054-.1081-.1079-.163-.1079-.2711 0-.1622-.0002-.3786.1079-.5949-.2772.6337-.4047 1.2673-.3706 1.901-.0445-.6487.0857-1.2905.3706-1.901 0-.054.054-.0538.054-.1079.012-.016.0314-.0349.044-.0511.0618-.0983.1308-.189.2257-.257.0557-.0615.0965-.1191.159-.1817-.0526.0555-.0872.1092-.1335.1647.0273-.018.0523-.0368.0838-.0525.1081-.1082.2154-.1633.3776-.1633zm-.3776.1633c-.0038.0075-.0076.0111-.0114.0184.0125-.0099.0242-.0208.037-.0298-.0074.0037-.0182.0077-.0256.0114zm14.7608 1.1343c-.0017.0052-.004.0104-.0057.0156.0378-.005.0751-.0173.1135-.0156-.0378-.0022-.0763.0103-.115.0199-.8634 2.6418-1.8874 5.2844-2.9118 7.9262a.0184.0184 0 0 1-.0015.0028c-.0874.4652-.234.8842-.5395 1.1898.4326-.4867.4854-1.1907.5395-2.0558.054-.811.0544-1.6761.487-2.5413 0-.0531.0012-.1058.0525-.159.0003-.0009.0012-.0019.0015-.0028.0973-.3524.202-.6885.3166-1.018.4183-1.2896 1.1396-3.1653 2.0131-3.3405.0163-.0052.034-.018.0497-.0213zM8.3726 16.2113l-.3238.1079c.1623.2163.2696.379.3777.433.1081.054.2168.108.379.108.0541 0 .1618 0 .2159-.054l.812-.2698c.0541 0 .1078-.054.1619-.054.1081 0 .1616 0 .2697.054l.2712.2698.2697-.054c-.1081-.1622-.2695-.3236-.3776-.3776-.1082-.0541-.2169-.1094-.379-.1094h-.108l-.866.3252h-.1618c-.1082 0-.2157 0-.2698-.054-.054-.054-.163-.1629-.2712-.3251zm-2.5953.541c-.2703.1621-.649.4324-1.1897.6487-.5407.2163-.9734.4325-1.1897.6488-.2163.2163-.3237.4326-.3237.6488 0 .1082.0537.1632.1618.2172.054.0541.1632.0539.2172.108.757.3244 1.5133.7019 2.2162 1.0803.1082.0541.2171.1632.2712.2173.054.054.1078.054.1618.054.1082 0 .2695-.0538.3777-.162.1081-.108.1632-.217.1632-.325 0-.1082-.055-.1618-.1632-.2158 0 0-.4328-.2165-1.1898-.541-.4866-.2162-.9179-.4326-1.1883-.5948.1623-.2704.486-.4865.9726-.7028.5407-.2163.9196-.4326 1.0818-.5948.054-.0541.054-.1078.054-.1619 0-.054-.0539-.1631-.108-.2172-.054-.054-.163-.1079-.2711-.1079zm11.247 0c-.054 0-.1618.0537-.2158.1078-.0541.1081-.1093.1632-.1093.2172v.054c.1622.1622.3797.2695.7041.3776.2704.054.5403.1632.8107.2172.3244.1082.5407.2693.6488.4856v.0553c0 .0541-.1088.1616-.3251.2698-.1082.054-.3245.2167-.5949.433-.2703.1622-.4326.3236-.5948.3776-.2163.1082-.3776.217-.4316.3252-.0541.054-.054.1077-.054.1618 0 .1081.0539.1077.108.2158.054.1081.1616.1093.2157.1093.054 0 .1078-.0554.1619-.0554.2703-.1622.6492-.3782 1.0818-.7567.4866-.3784.8655-.6484 1.0818-.8106.2163-.1082.3237-.2169.3237-.379 0-.0541.0002-.1618-.1079-.2159-.3785-.4325-.9185-.7022-1.5674-.9185-.1081-.0541-.2704-.1092-.5948-.1633-.1622-.054-.3249-.1079-.433-.1079zm-2.9743.8106c-.2704 0-.4866.055-.6488.2172-.2163.1622-.2699.4323-.2158.7567 0 .2703.1075.4865.2697.7027.1622.2163.3786.3252.5949.3252.1622 0 .2708-.0553.433-.1094.2703-.1622.379-.4319.379-.9185 0-.3785-.109-.6485-.2711-.8107-.1622-.1081-.3246-.1632-.541-.1632zm-4.4877.054c-.2704 0-.4866.055-.6488.2171-.2163.1622-.27.4323-.2158.7567 0 .2704.1075.4865.2697.7028s.3786.3251.5949.3251c.1622 0 .2708-.0552.433-.1093.2703-.1622.3776-.432.3776-.9186 0-.4325-.1075-.7025-.2697-.8106-.1622-.1082-.3247-.1633-.541-.1633zm0 .6501c.1622 0 .2711.1076.2711.2698 0 .1622-.163.2697-.2711.2697-.1622 0-.2698-.1075-.2698-.2697s.1076-.2698.2698-.2698zm4.3798.054c.1622 0 .2711.1075.2711.2697 0 .1082-.109.2698-.2711.2698-.1622 0-.2698-.1076-.2698-.2698 0-.1622.1076-.2697.2698-.2697zm-2.7032 2.1083l.1619.3237c.054.1081.1076.163.2158.2711.054.054.163.1619.2712.1619h.1078c.1082 0 .1618 0 .2158-.054.0541-.054.1632-.0538.2173-.1079l.1618-.1618c.054-.054.108-.1092.108-.1633.054-.054.0537-.1078.1078-.1618 0-.0541.054-.108.054-.108-.0541.1082-.1618.2156-.2158.3238-.1082.054-.1616.1632-.2698.1632-.1081.0541-.217.054-.3251.054s-.2157.0001-.2697-.054c-.1082 0-.1632-.0538-.2173-.1079l-.1618-.1632c-.054-.0541-.1078-.1618-.1619-.2158zm-.866 1.0278c-1.1355 0-1.8377 1.5136-3.4598.1619-.4326 2.6494 2.7583 2.866 4.11 1.7306.9192-.811.6475-1.9465-.6502-1.8925zm2.8664 0c-1.2977-.054-1.568 1.0815-.6488 1.8925 1.3518 1.1355 4.5412.9188 4.1087-1.7306-1.6221 1.3517-2.2703-.1619-3.4599-.1619z"},child:[]}]})(t)}function ry(t){return ee({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4.5 7.5C5.328 7.5 6 8.172 6 9v10.5c0 .828-.672 1.5-1.5 1.5h-3C.673 21 0 20.328 0 19.5V9c0-.828.673-1.5 1.5-1.5h3zm9-4.5c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-3c-.827 0-1.5-.672-1.5-1.5v-15c0-.828.673-1.5 1.5-1.5h3zm9 7.5c.828 0 1.5.672 1.5 1.5v7.5c0 .828-.672 1.5-1.5 1.5h-3c-.828 0-1.5-.672-1.5-1.5V12c0-.828.672-1.5 1.5-1.5h3z"},child:[]}]})(t)}function ny(t){return ee({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.45 14.315c-.143.28-.334.532-.565.745a3.691 3.691 0 0 1-1.104.695 4.51 4.51 0 0 1-3.116-.016 3.79 3.79 0 0 1-2.135-2.078 3.571 3.571 0 0 1-.13-.353h7.418a4.26 4.26 0 0 1-.368 1.008zm-11.99-.654a3.793 3.793 0 0 1-2.134 2.078 4.51 4.51 0 0 1-3.117.016 3.7 3.7 0 0 1-1.104-.695 2.652 2.652 0 0 1-.564-.745 4.221 4.221 0 0 1-.368-1.006H9.59c-.038.12-.08.238-.13.352zm14.501-1.758a3.849 3.849 0 0 0-.082-.475l-9.634-.008a3.932 3.932 0 0 1 1.143-2.348c.363-.35.79-.625 1.26-.809a3.97 3.97 0 0 1 4.484.957l1.521-1.49a5.7 5.7 0 0 0-1.922-1.357 6.283 6.283 0 0 0-2.544-.49 6.35 6.35 0 0 0-2.405.457 6.007 6.007 0 0 0-1.963 1.276 6.142 6.142 0 0 0-1.325 1.94 5.862 5.862 0 0 0-.466 1.864h-.063a5.857 5.857 0 0 0-.467-1.865 6.13 6.13 0 0 0-1.325-1.939A6 6 0 0 0 8.21 6.34a6.698 6.698 0 0 0-4.949.031A5.708 5.708 0 0 0 1.34 7.73l1.52 1.49a4.166 4.166 0 0 1 4.484-.958c.47.184.898.46 1.26.81.368.36.66.792.859 1.268.146.344.242.708.285 1.08l-9.635.008A4.714 4.714 0 0 0 0 12.457a6.493 6.493 0 0 0 .345 2.127 4.927 4.927 0 0 0 1.08 1.783c.528.56 1.17 1 1.88 1.293a6.454 6.454 0 0 0 2.504.457c.824.005 1.64-.15 2.404-.457a5.986 5.986 0 0 0 1.964-1.277 6.116 6.116 0 0 0 1.686-3.076h.273a6.13 6.13 0 0 0 1.686 3.077 5.99 5.99 0 0 0 1.964 1.276 6.345 6.345 0 0 0 2.405.457 6.45 6.45 0 0 0 2.502-.457 5.42 5.42 0 0 0 1.882-1.293 4.928 4.928 0 0 0 1.08-1.783A6.52 6.52 0 0 0 24 12.457a4.757 4.757 0 0 0-.039-.554z"},child:[]}]})(t)}function sy(t){return ee({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0v24h24V0zm9.95 8.002h1.805c.061 0 .111.05.111.111v7.767c0 .061-.05.111-.11.111H9.95c-.061 0-.111-.05-.111-.11v-2.87H7.894v2.87c0 .06-.05.11-.11.11H5.976a.11.11 0 01-.11-.11V8.112c0-.06.05-.11.11-.11h1.806c.061 0 .11.05.11.11v2.869H9.84v-2.87c0-.06.05-.11.11-.11zm2.999 0h5.778c.061 0 .111.05.111.11v7.767a.11.11 0 01-.11.112h-5.78a.11.11 0 01-.11-.11V8.111c0-.06.05-.11.11-.11z"},child:[]}]})(t)}function oy(t){return ee({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.483 0a1.374 1.374 0 0 0-.961.438L7.116 6.226l-3.854 4.126a5.266 5.266 0 0 0-1.209 2.104 5.35 5.35 0 0 0-.125.513 5.527 5.527 0 0 0 .062 2.362 5.83 5.83 0 0 0 .349 1.017 5.938 5.938 0 0 0 1.271 1.818l4.277 4.193.039.038c2.248 2.165 5.852 2.133 8.063-.074l2.396-2.392c.54-.54.54-1.414.003-1.955a1.378 1.378 0 0 0-1.951-.003l-2.396 2.392a3.021 3.021 0 0 1-4.205.038l-.02-.019-4.276-4.193c-.652-.64-.972-1.469-.948-2.263a2.68 2.68 0 0 1 .066-.523 2.545 2.545 0 0 1 .619-1.164L9.13 8.114c1.058-1.134 3.204-1.27 4.43-.278l3.501 2.831c.593.48 1.461.387 1.94-.207a1.384 1.384 0 0 0-.207-1.943l-3.5-2.831c-.8-.647-1.766-1.045-2.774-1.202l2.015-2.158A1.384 1.384 0 0 0 13.483 0zm-2.866 12.815a1.38 1.38 0 0 0-1.38 1.382 1.38 1.38 0 0 0 1.38 1.382H20.79a1.38 1.38 0 0 0 1.38-1.382 1.38 1.38 0 0 0-1.38-1.382z"},child:[]}]})(t)}const Rn={youtube:Vv,instagram:$v,facebook:Cv,snapchat:Pv,twitter:Bv,threads:Yv,reddit:Rv,linkedIn:Tv,gitHub:jv,stackoverflow:Lv,leetcode:oy,codeforces:ry,hackerrank:sy,codechef:ty,geeksforgeeks:ny,twitch:Fv,soundcloud:Iv,spotify:Mv,"apple music":Ev,discord:kv,telegram:Dv,whatsapp:zv,skype:Ov,"amazon storefront":Sv,shopify:Av,"ko-fi":Ha,"buy me a coffee":Ha,patreon:Nv,website:Ga,blog:Wv,email:Gv,phone:Qv,globe:Ga,mapPin:Zv,calendar:qv,fileText:Jv,download:Hv,shoppingCart:ey,heart:Xv,tiktok:Uv},ay=[{value:"globe",label:" ",emoji:""},{value:"instagram",label:" Instagram",emoji:""},{value:"facebook",label:" Facebook",emoji:""},{value:"twitter",label:" Twitter",emoji:""},{value:"youtube",label:" YouTube",emoji:""},{value:"github",label:" GitHub",emoji:""},{value:"linkedin",label:" LinkedIn",emoji:""},{value:"tiktok",label:" TikTok",emoji:""},{value:"spotify",label:" Spotify",emoji:""},{value:"discord",label:" Discord",emoji:""},{value:"telegram",label:" Telegram",emoji:""},{value:"whatsapp",label:" WhatsApp",emoji:""},{value:"email",label:" Email",emoji:""},{value:"phone",label:" Phone",emoji:""},{value:"mapPin",label:" Location",emoji:""},{value:"calendar",label:" Calendar",emoji:""},{value:"fileText",label:" Document",emoji:""},{value:"download",label:" Download",emoji:""},{value:"shoppingCart",label:" Shop",emoji:""},{value:"heart",label:" Donate",emoji:""}];function iy(){const{toast:t}=ar(),{user:e}=xt(),[r,n]=u.useState([]),[s,o]=u.useState(!0),[a,c]=u.useState(!1),[l,d]=u.useState({title:"",url:"",icon:"globe"}),[h,f]=u.useState(!1);u.useEffect(()=>{p()},[e==null?void 0:e.id]);const p=async()=>{if(!(e!=null&&e.id)){console.log("No user ID available");return}o(!0);try{console.log("Loading custom links for user:",e.id);const m=await mn.getByUserId(e.id);console.log("Loaded custom links:",m),n(m||[])}catch(m){console.error("Error loading custom links:",m),t({title:"",description:"   : "+(m.message||" "),variant:"destructive"})}finally{o(!1)}},g=async()=>{if(!l.title||!l.url){t({title:"",description:"   ",variant:"destructive"});return}c(!0);try{const m=await mn.create(e.id,l);m&&(n([...r,m]),d({title:"",url:"",icon:"globe"}),f(!1),t({title:"",description:"  "}))}catch(m){console.error("Error adding custom link:",m),t({title:"",description:"   ",variant:"destructive"})}finally{c(!1)}},y=async m=>{c(!0);try{await mn.delete(m)&&(n(r.filter(w=>w.id!==m)),t({title:"",description:"  "}))}catch(b){console.error("Error deleting custom link:",b),t({title:"",description:"   ",variant:"destructive"})}finally{c(!1)}},v=m=>Rn[m]||Rn.globe;return s?i.jsxs("div",{className:"space-y-4 flex flex-col items-center justify-center min-h-[200px]",children:[i.jsx("div",{className:"relative w-12 h-12",children:i.jsx(Se,{})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:" ..."})]}):i.jsxs(be,{children:[i.jsx(mt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Pt,{children:" "}),i.jsxs(te,{onClick:()=>f(!h),variant:"outline",size:"sm",children:[i.jsx(gd,{className:"w-4 h-4 mr-2"})," "]})]})}),i.jsxs(we,{className:"space-y-4",children:[h&&i.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"link-title",children:""}),i.jsx(G,{id:"link-title",value:l.title,onChange:m=>d({...l,title:m.target.value}),placeholder:":  "})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"link-url",children:"URL"}),i.jsx(G,{id:"link-url",value:l.url,onChange:m=>d({...l,url:m.target.value}),placeholder:"https://example.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"link-icon",children:""}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-40 overflow-y-auto p-2 border rounded-lg bg-gray-50 dark:bg-gray-800",children:ay.map(m=>i.jsxs("button",{type:"button",onClick:()=>d({...l,icon:m.value}),className:Q("flex flex-col items-center justify-center p-2 rounded-md border transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:border-blue-300 dark:hover:border-blue-600",l.icon===m.value?"bg-blue-50 border-blue-500 dark:bg-blue-900/30 dark:border-blue-400":"bg-white border-gray-200 dark:bg-gray-700 dark:border-gray-600"),children:[i.jsx("span",{className:"text-lg mb-1",children:m.emoji}),i.jsx("span",{className:"text-xs text-center text-gray-600 dark:text-gray-300",children:m.label.replace(/[^\w\s-]/gi,"")})]},m.value))})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(te,{onClick:g,disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(ld,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""}),i.jsx(te,{variant:"outline",onClick:()=>{f(!1),d({title:"",url:"",icon:"globe"})},children:""})]})]}),r.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{children:"      "}),i.jsx("p",{className:"text-sm mt-2",children:' " "-   '})]}):i.jsx("div",{className:"space-y-2",children:r.map(m=>{const b=v(m.icon);return i.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50",children:[i.jsx(ad,{className:"w-4 h-4 text-gray-400"}),i.jsx(b,{className:"w-5 h-5 text-gray-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:m.title}),i.jsx("div",{className:"text-sm text-gray-500 truncate",children:m.url})]}),i.jsx(te,{variant:"ghost",size:"sm",onClick:()=>y(m.id),disabled:a,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:i.jsx(_d,{className:"w-4 h-4"})})]},m.id)})})]})]})}const cy=()=>{const{user:t}=xt(),e=u.useRef(null),r=u.useRef(null);return u.useEffect(()=>{if(!(t!=null&&t.id))return;const n=async()=>{try{const s=t.imageUrl;await _e.ensureAvatarUrl(t.id,s),s!==r.current&&(await _e.syncAvatarUrl(t.id,s),r.current=s,console.log("Avatar URL synced:",s))}catch(s){console.error("Error syncing avatar URL:",s)}};return n(),e.current=setInterval(n,5e3),()=>{e.current&&clearInterval(e.current)}},[t]),null};function ly(){const{toast:t}=ar(),{user:e}=xt(),{getToken:r}=Hl();cy();const[n,s]=u.useState(""),[o,a]=u.useState(""),[c,l]=u.useState(""),[d,h]=u.useState(""),[f,p]=u.useState(""),[g,y]=u.useState(""),[v,m]=u.useState(""),[b,w]=u.useState(""),[x,_]=u.useState(""),[S,k]=u.useState(""),[E,C]=u.useState(""),[O,L]=u.useState(""),[H,P]=u.useState(""),[V,T]=u.useState(""),[W,U]=u.useState(""),[re,D]=u.useState(""),[N,Y]=u.useState(""),[oe,ae]=u.useState(""),[pe,de]=u.useState(""),[I,q]=u.useState(""),[xe,Pe]=u.useState(""),[he,We]=u.useState(""),[_t,St]=u.useState(""),[Ie,$]=u.useState(""),[A,j]=u.useState(""),[ie,Ee]=u.useState(""),[Re,st]=u.useState(""),[Me,Kn]=u.useState(""),[Et,ot]=u.useState(""),[at,it]=u.useState(""),[kt,zr]=u.useState(""),[Vr,ct]=u.useState(""),[ko,Co]=u.useState(""),[Pl,jo]=u.useState(""),[$o,To]=u.useState(""),[No,Ro]=u.useState(""),[Ao,Oo]=u.useState(!1),[Il,Ml]=u.useState(!0);u.useEffect(()=>{(async()=>{if(e!=null&&e.id)try{const J=await _e.getByUserId(e.id);J&&(s(J.username||""),a(J.name||""),l(J.bio||""),h(J.instagram||""),p(J.facebook||""),y(J.gitHub||""),m(J.snapchat||""),w(J.youtube||""),_(J.linkedIn||""),k(J.twitter||""),C(J.threads||""),L(J.reddit||""),P(J.stackoverflow||""),T(J.leetcode||""),U(J.codeforces||""),D(J.hackerrank||""),Y(J.codechef||""),ae(J.geeksforgeeks||""),de(J.twitch||""),q(J.soundcloud||""),Pe(J.spotify||""),We(J["apple music"]||""),St(J.discord||""),$(J.telegram||""),j(J.whatsapp||""),Ee(J.skype||""),st(J.amazon||""),Kn(J.shopify||""),ot(J["ko-fi"]||""),it(J["buy me a coffee"]||""),zr(J.patreon||""),ct(J.website||""),Co(J.blog||""),jo(J.email||""),To(J.phone||""),Ro(J.accessKey||""),!J.avatar_url&&e.imageUrl&&await _e.syncAvatarUrl(e.id,e.imageUrl))}catch(J){console.error("Error loading user data:",J)}finally{Ml(!1)}})()},[e]);const Ll=async R=>{var J,Po;R.preventDefault(),Oo(!0);try{const hr={username:n,name:o,bio:c,email:((J=e.primaryEmailAddress)==null?void 0:J.emailAddress)||((Po=e.emailAddresses[0])==null?void 0:Po.emailAddress)||"",avatar_url:e.imageUrl,instagram:d,facebook:f,gitHub:g,snapchat:v,youtube:b,linkedIn:x,twitter:S,threads:E,reddit:O,stackoverflow:H,leetcode:V,codeforces:W,hackerrank:re,codechef:N,geeksforgeeks:oe,twitch:pe,soundcloud:I,spotify:xe,"apple music":he,discord:_t,telegram:Ie,whatsapp:A,skype:ie,amazon:Re,shopify:Me,"ko-fi":Et,"buy me a coffee":at,patreon:kt,website:Vr,blog:ko,phone:$o,accessKey:No};console.log("Sending userData:",hr);const Dl=await _e.update(e.id,hr);t(Dl?{title:"",description:"  !"}:{title:"Error",description:"Failed to update profile",variant:"destructive"})}catch(hr){console.error("Error updating profile:",hr),t({title:"Error",description:hr.message||"Failed to update profile",variant:"destructive"})}finally{Oo(!1)}};return Il?i.jsxs("div",{className:"space-y-4 flex flex-col items-center justify-center min-h-[200px]",children:[i.jsx("div",{className:"relative w-12 h-12",children:i.jsx(Se,{})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"..."})]}):i.jsxs("form",{onSubmit:Ll,className:"manage-form space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"username",children:" "}),i.jsx(G,{id:"username",value:n,onChange:R=>s(R.target.value),placeholder:"Enter your username",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"name",children:""}),i.jsx(G,{id:"name",value:o,onChange:R=>a(R.target.value),placeholder:"Enter your name",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"bio",children:" "}),i.jsx(cl,{id:"bio",value:c,onChange:R=>l(R.target.value),placeholder:"Tell us about yourself",rows:3})]})]}),i.jsxs(lv,{defaultValue:"social",className:"w-full",children:[i.jsxs(uv,{className:"grid w-full grid-cols-6",children:[i.jsx(Ht,{className:"hello",value:"social",children:""}),i.jsx(Ht,{className:"hello",value:"professional",children:""}),i.jsx(Ht,{className:"hello",value:"creative",children:""}),i.jsx(Ht,{className:"hello",value:"messaging",children:""}),i.jsx(Ht,{className:"hello",value:"other",children:""}),i.jsx(Ht,{className:"hello",value:"custom",children:""})]}),i.jsxs("div",{className:"tabs-content",children:[i.jsx(Gt,{value:"social",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"instagram",children:"Instagram"}),i.jsx(G,{id:"instagram",value:d,onChange:R=>h(R.target.value),placeholder:"Instagram username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"facebook",children:"Facebook"}),i.jsx(G,{id:"facebook",value:f,onChange:R=>p(R.target.value),placeholder:"Facebook username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"twitter",children:"Twitter"}),i.jsx(G,{id:"twitter",value:S,onChange:R=>k(R.target.value),placeholder:"Twitter username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"threads",children:"Threads"}),i.jsx(G,{id:"threads",value:E,onChange:R=>C(R.target.value),placeholder:"Threads username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"youtube",children:"YouTube"}),i.jsx(G,{id:"youtube",value:b,onChange:R=>w(R.target.value),placeholder:"YouTube channel"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"snapchat",children:"Snapchat"}),i.jsx(G,{id:"snapchat",value:v,onChange:R=>m(R.target.value),placeholder:"Snapchat username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"reddit",children:"Reddit"}),i.jsx(G,{id:"reddit",value:O,onChange:R=>L(R.target.value),placeholder:"Reddit username"})]})]})}),i.jsx(Gt,{value:"professional",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"github",children:"GitHub"}),i.jsx(G,{id:"github",value:g,onChange:R=>y(R.target.value),placeholder:"GitHub username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"linkedin",children:"LinkedIn"}),i.jsx(G,{id:"linkedin",value:x,onChange:R=>_(R.target.value),placeholder:"LinkedIn username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"stackoverflow",children:"Stack Overflow"}),i.jsx(G,{id:"stackoverflow",value:H,onChange:R=>P(R.target.value),placeholder:"Stack Overflow username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"leetcode",children:"LeetCode"}),i.jsx(G,{id:"leetcode",value:V,onChange:R=>T(R.target.value),placeholder:"LeetCode username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"codeforces",children:"Codeforces"}),i.jsx(G,{id:"codeforces",value:W,onChange:R=>U(R.target.value),placeholder:"Codeforces username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"hackerrank",children:"HackerRank"}),i.jsx(G,{id:"hackerrank",value:re,onChange:R=>D(R.target.value),placeholder:"HackerRank username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"codechef",children:"CodeChef"}),i.jsx(G,{id:"codechef",value:N,onChange:R=>Y(R.target.value),placeholder:"CodeChef username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"geeksforgeeks",children:"GeeksforGeeks"}),i.jsx(G,{id:"geeksforgeeks",value:oe,onChange:R=>ae(R.target.value),placeholder:"GeeksforGeeks username"})]})]})}),i.jsx(Gt,{value:"creative",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"twitch",children:"Twitch"}),i.jsx(G,{id:"twitch",value:pe,onChange:R=>de(R.target.value),placeholder:"Twitch username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"soundcloud",children:"SoundCloud"}),i.jsx(G,{id:"soundcloud",value:I,onChange:R=>q(R.target.value),placeholder:"SoundCloud username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"spotify",children:"Spotify"}),i.jsx(G,{id:"spotify",value:xe,onChange:R=>Pe(R.target.value),placeholder:"Spotify profile"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"applemusic",children:"Apple Music"}),i.jsx(G,{id:"applemusic",value:he,onChange:R=>We(R.target.value),placeholder:"Apple Music profile"})]})]})}),i.jsx(Gt,{value:"messaging",className:"space-y-2",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(K,{htmlFor:"discord",className:"text-sm",children:"Discord"}),i.jsx(G,{id:"discord",value:_t,onChange:R=>St(R.target.value),placeholder:"Discord username",className:"h-9 text-sm"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(K,{htmlFor:"telegram",className:"text-sm",children:"Telegram"}),i.jsx(G,{id:"telegram",value:Ie,onChange:R=>$(R.target.value),placeholder:"Telegram username",className:"h-9 text-sm"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(K,{htmlFor:"whatsapp",className:"text-sm",children:"WhatsApp"}),i.jsx(G,{id:"whatsapp",value:A,onChange:R=>j(R.target.value),placeholder:"WhatsApp number",className:"h-9 text-sm"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(K,{htmlFor:"skype",className:"text-sm",children:"Skype"}),i.jsx(G,{id:"skype",value:ie,onChange:R=>Ee(R.target.value),placeholder:"Skype username",className:"h-9 text-sm"})]})]})}),i.jsx(Gt,{value:"other",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"website",children:"Website"}),i.jsx(G,{id:"website",value:Vr,onChange:R=>ct(R.target.value),placeholder:"Your website URL"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"blog",children:"Blog"}),i.jsx(G,{id:"blog",value:ko,onChange:R=>Co(R.target.value),placeholder:"Your blog URL"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"email",children:"Email"}),i.jsx(G,{id:"email",type:"email",value:Pl,onChange:R=>jo(R.target.value),placeholder:"Your email address"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"phone",children:"Phone"}),i.jsx(G,{id:"phone",value:$o,onChange:R=>To(R.target.value),placeholder:"Your phone number"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"amazon",children:"Amazon Storefront"}),i.jsx(G,{id:"amazon",value:Re,onChange:R=>st(R.target.value),placeholder:"Amazon storefront URL"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"shopify",children:"Shopify"}),i.jsx(G,{id:"shopify",value:Me,onChange:R=>Kn(R.target.value),placeholder:"Shopify store URL"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"kofi",children:"Ko-fi"}),i.jsx(G,{id:"kofi",value:Et,onChange:R=>ot(R.target.value),placeholder:"Ko-fi username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"buymeacoffee",children:"Buy Me a Coffee"}),i.jsx(G,{id:"buymeacoffee",value:at,onChange:R=>it(R.target.value),placeholder:"Buy Me a Coffee username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"patreon",children:"Patreon"}),i.jsx(G,{id:"patreon",value:kt,onChange:R=>zr(R.target.value),placeholder:"Patreon username"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{htmlFor:"accessKey",children:"Access Key (for private links)"}),i.jsx(G,{id:"accessKey",value:No,onChange:R=>Ro(R.target.value),placeholder:"Access key for private links",type:"password"})]})]})}),i.jsx(Gt,{value:"custom",className:"space-y-4",children:i.jsx(iy,{})})]})]}),i.jsx(te,{type:"submit",disabled:Ao,className:"w-full",children:Ao?i.jsxs(i.Fragment,{children:[i.jsx(Se,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):" "})]})}function uy(){const{toast:t}=ar(),[e,r]=u.useState([]),[n,s]=u.useState(!0),[o,a]=u.useState(""),[c,l]=u.useState(null),[d,h]=u.useState(!1);u.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0);const m=await _e.getAllUsers();r(m)}catch(m){console.error("Error fetching users:",m),t({title:"",description:"   ",variant:"destructive"})}finally{s(!1)}},p=e.filter(m=>{var b,w,x;return((b=m.username)==null?void 0:b.toLowerCase().includes(o.toLowerCase()))||((w=m.name)==null?void 0:w.toLowerCase().includes(o.toLowerCase()))||((x=m.email)==null?void 0:x.toLowerCase().includes(o.toLowerCase()))}),g=async(m,b)=>{try{h(!0),await _e.update(m,{rank:b}),r(w=>w.map(x=>x.id===m?{...x,rank:b}:x)),t({title:"",description:"  "})}catch(w){console.error("Error updating rank:",w),t({title:"",description:"   ",variant:"destructive"})}finally{h(!1),l(null)}},y=m=>m!=null&&m.includes("")?i.jsx(Zt,{className:"w-4 h-4 text-red-500"}):m!=null&&m.includes("")?i.jsx(er,{className:"w-4 h-4 text-blue-500"}):m!=null&&m.includes("")?i.jsx(Zt,{className:"w-4 h-4 text-yellow-500"}):m!=null&&m.includes("")?i.jsx(Zt,{className:"w-4 h-4 text-purple-500"}):m!=null&&m.includes("")?i.jsx(Zt,{className:"w-4 h-4 text-green-500"}):i.jsx(yn,{className:"w-4 h-4 text-gray-500"}),v=m=>m!=null&&m.includes("")?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":m!=null&&m.includes("")?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":m!=null&&m.includes("")?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":m!=null&&m.includes("")?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300":m!=null&&m.includes("")?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";return n?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"relative w-12 h-12",children:i.jsx(Se,{})})}):i.jsxs("div",{className:"max-w-7xl mx-auto mt-6 px-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[i.jsx(Ss,{className:"w-6 h-6"})," "]}),i.jsx("p",{className:"text-muted-foreground",children:"    "})]}),i.jsx(be,{className:"mb-6",children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(yd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(G,{placeholder:"  , .  ...",value:o,onChange:m=>a(m.target.value),className:"pl-10"})]})})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(m=>i.jsxs(be,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(mt,{className:"pb-3",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("img",{src:m.avatar_url||`https://ui-avatars.com/api/?name=${m.name||m.username}&background=random`,alt:m.name||m.username,className:"w-16 h-16 rounded-full object-cover mb-3"}),i.jsx("h3",{className:"font-semibold text-sm",children:m.name||m.username}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",m.username]}),i.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium mt-2 ${v(m.rank)}`,children:[y(m.rank),i.jsx("span",{children:m.rank||""})]})]})}),i.jsxs(we,{className:"pt-0",children:[i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(dd,{className:"w-3 h-3"}),i.jsx("span",{className:"truncate",children:m.email})]}),i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Ci,{className:"w-3 h-3"}),i.jsx("span",{children:new Date(m.created_at).toLocaleDateString("ka-GE")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(_s,{className:"w-3 h-3"}),i.jsxs("span",{children:[m.views||0," "]})]})]}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsxs(te,{size:"sm",variant:"outline",onClick:()=>l(m),className:"flex-1",children:[i.jsx(Ho,{className:"w-3 h-3 mr-1"}),""]}),i.jsx(te,{size:"sm",variant:"ghost",asChild:!0,children:i.jsx("a",{href:`/${m.username}`,target:"_blank",rel:"noopener noreferrer",children:i.jsx(_s,{className:"w-3 h-3"})})})]})]})]},m.id))}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(be,{className:"w-full max-w-md",children:[i.jsx(mt,{children:i.jsxs(Pt,{className:"flex items-center gap-2",children:[i.jsx(Ho,{className:"w-5 h-5"})," : ",c.name||c.username]})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("img",{src:c.avatar_url||`https://ui-avatars.com/api/?name=${c.name||c.username}&background=random`,alt:c.name||c.username,className:"w-16 h-16 rounded-full object-cover"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:c.name||c.username}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",c.username]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.email})]})]}),i.jsxs("div",{children:[i.jsx(K,{htmlFor:"rank",children:""}),i.jsxs("select",{id:"rank",className:"w-full mt-1 p-2 border rounded-md bg-background",defaultValue:c.rank||"",onChange:m=>{const b=m.target.value;b!==(c.rank||"")&&g(c.id,b)},children:[i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""}),i.jsx("option",{value:"",children:""})]})]}),i.jsx("div",{className:"flex gap-2 pt-4",children:i.jsx(te,{variant:"outline",onClick:()=>l(null),className:"flex-1",children:""})})]})]})}),p.length===0&&!n&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ss,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),i.jsx("p",{className:"text-muted-foreground",children:o?"   ":"   "})]})]})}const dy=In("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Nl=u.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:Q(dy({variant:e}),t),...r}));Nl.displayName="Alert";const Rl=u.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:Q("mb-1 font-medium leading-none tracking-tight",t),...e}));Rl.displayName="AlertTitle";const Al=u.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:Q("text-sm [&_p]:leading-relaxed",t),...e}));Al.displayName="AlertDescription";function hy(){const{user:t}=xt(),[e,r]=u.useState(!1),[n,s]=u.useState(""),[o,a]=u.useState("");return u.useEffect(()=>{(async()=>{if(t!=null&&t.id&&!n)try{const l=await _e.getByUserId(t.id);l&&(s(l.username),a(l.name))}catch(l){console.error("Error loading user data:",l)}finally{r(!0)}})()},[t,n]),i.jsx("div",{className:"manage-link px-6 md:px-20 lg:px-32",children:e&&n&&i.jsxs(Nl,{className:"mb-6",children:[i.jsx(Rl,{children:"  "}),i.jsxs(Al,{children:["   :"," ",i.jsxs("a",{href:`/${n}`,className:"link-my text-primary hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",children:[window.location.origin,"/",n]})]})]})})}const Eo=()=>{const[t,e]=u.useState(null),[r,n]=u.useState(!0),[s,o]=u.useState(null),a=async()=>{try{n(!0),o(null);const d=await fetch("/api/analytics/user",{headers:{"Content-Type":"application/json"}});if(!d.ok)throw new Error("Failed to fetch analytics");const h=await d.json();if(h.success)e(h.data);else throw new Error(h.message||"Failed to fetch analytics")}catch(d){o(d.message),console.error("Analytics fetch error:",d)}finally{n(!1)}},c=async d=>{try{await fetch("/api/analytics/track-view",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d})})}catch(h){console.error("Error tracking view:",h)}},l=async(d,h)=>{try{await fetch("/api/analytics/track-click",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d,linkType:h})})}catch(f){console.error("Error tracking click:",f)}};return u.useEffect(()=>{a()},[]),{analytics:t,loading:r,error:s,refetch:a,trackView:c,trackClick:l}};function Ja(){var de;const{user:t,signOut:e}=xt(),{toast:r}=ar(),{analytics:n,loading:s,error:o,refetch:a}=Eo(),[c,l]=u.useState(!1),[d,h]=u.useState(!1),[f,p]=u.useState("profile"),[g,y]=u.useState(!1),[v,m]=u.useState(""),[b,w]=u.useState(!1),[x,_]=u.useState(""),[S,k]=u.useState(null),[E,C]=u.useState({useAvatarColors:!0,primaryColor:"#6366f1",secondaryColor:"#a855f7"}),O=()=>{const I=(S==null?void 0:S.rank)||"";return I.includes("")||I.includes("")};u.useEffect(()=>{(async()=>{if(t!=null&&t.id)try{const q=await _e.getByUserId(t.id);k(q),_((q==null?void 0:q.accessKey)||""),q!=null&&q.pageDesign&&C(q.pageDesign)}catch(q){console.error("Error loading user data:",q)}})()},[t==null?void 0:t.id]);const L=async()=>{if(t!=null&&t.id)try{await _e.updatePageDesign(t.id,E),r({title:" ",description:"    "})}catch(I){console.error("Error saving page design:",I),r({title:"",description:"   ",variant:"destructive"})}},H=u.useMemo(()=>[{id:"profile",label:"",icon:yn},{id:"security",label:"",icon:er},{id:"analytics",label:"",icon:Jn},...O()?[{id:"users",label:"",icon:Ss}]:[],{id:"logout",label:"",icon:ud},{id:"mypage",label:" ",icon:pr}],[S]);if(!t)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"relative w-12 h-12",children:i.jsx(Se,{})})});const{imageUrl:P,firstName:V,lastName:T,emailAddresses:W,createdAt:U}=t,re=`${V||""} ${T||""}`.trim()||V||"User";(de=W[0])==null||de.emailAddress;const D=t.id,N=I=>{I.id==="logout"?ae():p(I.id)},Y=async()=>{if(v.length!==4){r({title:"",description:"    4 ",variant:"destructive"});return}w(!0);try{await _e.updateAccessKey(D,v),_(v),m(""),y(!1),r({title:"",description:"  "})}catch{r({title:"",description:"   ",variant:"destructive"})}finally{w(!1)}},oe=async()=>{w(!0);try{await _e.updateAccessKey(D,""),_(""),r({title:"",description:" "})}catch{r({title:"",description:"   ",variant:"destructive"})}finally{w(!1)}},ae=async()=>{try{await e(),window.location.href="/"}catch{r({title:"",description:"  ",variant:"destructive"})}},pe=()=>{switch(f){case"profile":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 mt-6 mb-6 px-4",children:[i.jsx("div",{className:"relative",children:i.jsx("img",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full",src:P,alt:re})}),i.jsxs("div",{className:"text-center",children:[i.jsx(K,{className:"text-sm font-medium",children:" "}),i.jsxs("p",{className:"text-xs dark:text-gray-400 text-gray-600 mt-1",children:["  "," ",i.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:""}),i.jsx("span",{className:"text-red-600",children:" *"})]})]})]}),i.jsx(ly,{})]});case"links":return i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("h2",{className:"text-2xl font-bold",children:" "})});case"analytics":return i.jsxs("div",{className:"max-w-6xl mx-auto mt-6 px-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),i.jsx("p",{className:"text-muted-foreground",children:"    "})]}),s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"relative w-12 h-12",children:i.jsx(Se,{})})}):o?i.jsx(be,{className:"border-red-200 bg-red-50 dark:bg-red-900/10",children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-red-600 dark:text-red-400",children:"   "}),i.jsx(te,{onClick:a,variant:"outline",className:"mt-2",children:" "})]})})}):n?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsx(be,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700",children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:" "}),i.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:n.profileViews.toLocaleString()})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center",children:i.jsx(yn,{className:"w-6 h-6 text-blue-600"})})]}),i.jsxs("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:[" ",n.monthlyViews.toLocaleString()," "]})]})}),i.jsx(be,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-700",children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" "}),i.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:n.monthlyClicks.toLocaleString()})]}),i.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-full flex items-center justify-center",children:i.jsx(pr,{className:"w-6 h-6 text-green-600"})})]}),i.jsxs("div",{className:"mt-2 text-xs text-green-600 dark:text-green-400",children:[" ",n.profileViews>0?Math.round(n.monthlyClicks/n.profileViews*100):0,"%"]})]})}),i.jsx(be,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-700",children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:""}),i.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:["#",n.rank]})]}),i.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-full flex items-center justify-center",children:i.jsx(Zt,{className:"w-6 h-6 text-purple-600"})})]}),i.jsxs("div",{className:"mt-2 text-xs text-purple-600 dark:text-purple-400",children:[n.totalUsers.toLocaleString()," "]})]})}),i.jsx(be,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-orange-200 dark:border-orange-700",children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400 font-medium",children:""}),i.jsxs("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:[n.activityScore,"%"]})]}),i.jsx("div",{className:"w-12 h-12 bg-orange-500/10 rounded-full flex items-center justify-center",children:i.jsx(Jn,{className:"w-6 h-6 text-orange-600"})})]}),i.jsx("div",{className:"mt-2 text-xs text-orange-600 dark:text-orange-400",children:n.activityScore>=80?" ":n.activityScore>=50?"":""})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(be,{children:[i.jsx(mt,{children:i.jsxs(Pt,{className:"flex items-center gap-2",children:[i.jsx(Jn,{className:"w-5 h-5"})," "]})}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:Object.entries(n.linkPopularity).length>0?Object.entries(n.linkPopularity).sort(([,I],[,q])=>q-I).slice(0,6).map(([I,q])=>{const xe=n.monthlyClicks>0?Math.round(q/n.monthlyClicks*100):0,he={instagram:"bg-pink-500",youtube:"bg-red-500",tiktok:"bg-black",facebook:"bg-blue-600",twitter:"bg-sky-500",github:"bg-gray-800"}[I.toLowerCase()]||"bg-gray-500";return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium capitalize",children:I}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`${he} h-2 rounded-full`,style:{width:`${xe}%`}})}),i.jsx("span",{className:"text-sm text-gray-600",children:q})]})]},I)}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})})})]}),i.jsxs(be,{children:[i.jsx(mt,{children:i.jsxs(Pt,{className:"flex items-center gap-2",children:[i.jsx(Ci,{className:"w-5 h-5"})," "]})}),i.jsx(we,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"  "}),i.jsx("span",{className:"font-semibold",children:n.avgDailyViews})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"  "}),i.jsx("span",{className:"font-semibold",children:n.avgDailyClicks})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" "}),i.jsx("span",{className:"font-semibold",children:n.profileViews.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" "}),i.jsx("span",{className:"font-semibold",children:n.monthlyClicks.toLocaleString()})]})]})})]})]}),i.jsxs(be,{className:"mt-6",children:[i.jsx(mt,{children:i.jsxs(Pt,{className:"flex items-center gap-2",children:[i.jsx(vd,{className:"w-5 h-5"})," "]})}),i.jsx(we,{children:i.jsx("div",{className:"space-y-3",children:n.recentActivity.length>0?n.recentActivity.slice(0,10).map((I,q)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${I.type==="profile_view"?"bg-green-500":"bg-blue-500"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:I.type==="profile_view"?" ":`${I.linkType||""} `}),i.jsx("p",{className:"text-xs text-muted-foreground",children:I.timestamp})]})]}),i.jsx("span",{className:"text-sm text-gray-600",children:I.ipAddress?I.ipAddress.substring(0,8)+"...":"N/A"})]},q)):i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"   "})})})]})]}):null]});case"users":return i.jsx(uy,{});case"mypage":return i.jsx("div",{className:"max-w-md mx-auto mt-6 px-4",children:i.jsx(be,{className:"border-2 border-primary/20 bg-gradient-to-br from-primary/5 to-secondary/5",children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(pr,{className:"w-8 h-8 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),i.jsxs("div",{className:"p-4 bg-background rounded-lg border space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(md,{className:"w-4 h-4 text-primary"}),i.jsx("h4",{className:"font-medium",children:" "})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(K,{className:"text-sm",children:"  "}),i.jsx("input",{type:"checkbox",checked:E.useAvatarColors,onChange:I=>C(q=>({...q,useAvatarColors:I.target.checked})),className:"w-4 h-4"})]}),!E.useAvatarColors&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(K,{className:"text-sm",children:" "}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"color",value:E.primaryColor,onChange:I=>C(q=>({...q,primaryColor:I.target.value})),className:"w-8 h-8 rounded cursor-pointer"}),i.jsx(G,{type:"text",value:E.primaryColor,onChange:I=>C(q=>({...q,primaryColor:I.target.value})),className:"flex-1 h-8 text-xs",placeholder:"#6366f1"})]}),i.jsx(K,{className:"text-sm",children:" "}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"color",value:E.secondaryColor,onChange:I=>C(q=>({...q,secondaryColor:I.target.value})),className:"w-8 h-8 rounded cursor-pointer"}),i.jsx(G,{type:"text",value:E.secondaryColor,onChange:I=>C(q=>({...q,secondaryColor:I.target.value})),className:"flex-1 h-8 text-xs",placeholder:"#a855f7"})]})]}),i.jsx(te,{onClick:L,size:"sm",className:"w-full",children:" "})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-4 bg-background rounded-lg border",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"  :"}),i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[i.jsxs("span",{className:"text-sm font-mono truncate flex-1",children:["/",(S==null?void 0:S.username)||(V==null?void 0:V.toLowerCase())||"user"]}),i.jsx(te,{size:"sm",variant:"outline",onClick:()=>{const I=(S==null?void 0:S.username)||(V==null?void 0:V.toLowerCase())||"user";navigator.clipboard.writeText(`/${I}`),r({title:" ",description:"   "})},children:""})]})]}),i.jsx(te,{asChild:!0,className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white font-medium",children:i.jsxs("a",{href:`/${(S==null?void 0:S.username)||(V==null?void 0:V.toLowerCase())||"user"}`,target:"_blank",rel:"noopener noreferrer",children:[i.jsx(pr,{className:"w-4 h-4 mr-2"}),"  "]})}),i.jsx("div",{className:"text-xs text-muted-foreground",children:i.jsx("p",{children:":       "})})]})]})})})});case"security":return i.jsx("div",{className:"max-w-md mx-auto mt-6 px-4",children:i.jsx(be,{className:"password-card",children:i.jsx(we,{children:i.jsxs("div",{className:"password-card space-y-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4"})," "]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" 4     "}),x?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[i.jsx(id,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-sm text-green-700 dark:text-green-300",children:" : ****"})]}),i.jsx(te,{onClick:oe,variant:"outline",className:"w-full",disabled:b,children:b?"...":" "})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[i.jsx(er,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:" "})]}),i.jsx(te,{onClick:()=>y(!0),className:"w-full",children:" "})]})]}),g&&i.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800",style:{marginTop:"10px"},children:[i.jsx("h4",{className:"font-medium mb-3",children:" "}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(G,{type:"password",value:v,onChange:I=>m(I.target.value.slice(0,4)),placeholder:" 4 ",maxLength:4,className:"text-center text-lg tracking-widest"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(te,{onClick:Y,disabled:v.length!==4||b,className:"flex-1",children:b?"...":""}),i.jsx(te,{onClick:()=>{y(!1),m("")},variant:"outline",disabled:b,children:""})]})]})]})]})})})});default:return null}};return i.jsxs("div",{children:[i.jsx(hy,{}),i.jsxs("div",{className:"all flex min-h-screen px-4 sm:px-6 md:px-20 lg:px-32",children:[i.jsx("button",{onClick:()=>h(!d),className:"phone-menu fixed top-4 left-4 z-50 p-2 bg-background border border-border rounded-lg md:hidden",children:d?i.jsx(ao,{className:"w-5 h-5"}):i.jsx(fd,{className:"w-5 h-5"})}),d&&i.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:()=>h(!1)}),i.jsx("div",{className:`sidebar fixed md:relative w-64 border-gray-200 dark:border-gray-700 flex-shrink-0 z-50 transform transition-transform duration-300 ease-in-out ${d?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:i.jsx("div",{className:"p-6",children:i.jsx("nav",{className:"space-y-2",children:H.map(I=>{const q=I.icon;return i.jsxs("button",{onClick:()=>{N(I),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${I.id==="mypage"?"bg-primary text-primary-foreground shadow-md hover:shadow-lg transform hover:scale-[1.02]":f===I.id&&I.id!=="logout"?"bg-primary text-primary-foreground":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:[i.jsx(q,{className:"w-6 h-6"}),i.jsx("span",{className:"font-medium",children:I.label}),I.id==="mypage"&&i.jsx(pr,{className:"w-4 h-4 ml-auto"})]},I.id)})})})}),i.jsx("div",{className:"flex-1 md:ml-[10px]",children:i.jsx("div",{className:"all-manage h-full py-5 mb-16 overflow-y-auto",children:pe()})})]})]})}const fy=u.createContext({isSignedIn:!1,user:null,isLoaded:!0}),py=()=>{try{return xt()}catch{return u.useContext(fy)}};Z.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:Q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Z.forwardRef(({className:t,src:e,alt:r,...n},s)=>{const[o,a]=Z.useState(!1);return o?null:i.jsx("img",{ref:s,src:e,alt:r,className:Q("aspect-square h-full w-full object-cover",t),onError:()=>a(!0),...n})});Z.forwardRef(({className:t,children:e,...r},n)=>i.jsx("div",{ref:n,className:Q("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r,children:e}));const $t=t=>Rn[t]||Rn.globe,Ol=t=>{const e={:"/rank-img/member.png",:"/rank-img/booster.png",:"/rank-img/administrator.png",:"/rank-img/moderator.png",owner:"/rank-img/owner.png",:"/rank-img/owner.png",sponsor:"/rank-img/sponsor.png",:"/rank-img/sponsor.png",:"/rank-img/partner.png"};return e[t]||e.},my=t=>t.split(",").map(r=>r.trim()).map(r=>({icon:Ol(r),name:r})).filter(r=>r.icon);function gy({userDataName:t}){const[e,r]=u.useState(!0),{user:n,isSignedIn:s}=py();ar();const{trackClick:o}=Eo(),[a,c]=u.useState(""),[l,d]=u.useState(""),[h,f]=u.useState(""),[p,g]=u.useState([]),[y,v]=u.useState([]),[m,b]=u.useState(!1),[w,x]=u.useState(!1),[_,S]=u.useState(""),[k,E]=u.useState(!1),[C,O]=u.useState(!1),[L,H]=u.useState(0),[P,V]=u.useState(!1),[T,W]=u.useState(""),[U,re]=u.useState([{icon:Ol(""),name:""}]),[D,N]=u.useState(!1),[Y,oe]=u.useState({dominant:"#6366f1",secondary:"#a855f7"}),[ae,pe]=u.useState({useAvatarColors:!0,primaryColor:"#6366f1",secondaryColor:"#a855f7"}),de=($,A)=>{o(t,$),window.open(A,"_blank")},I=()=>{_&&(_===(p==null?void 0:p.accessKey)?(x(!0),O(!1)):(O(!0),x(!1)))},q=$=>{if(!$)return;const A=new Image;A.crossOrigin="anonymous",A.onload=()=>{const j=document.createElement("canvas"),ie=j.getContext("2d"),Ee=50;j.width=Ee,j.height=Ee;const Re=Math.min(A.width,A.height)*.3,st=(A.width-Re)/2,Me=(A.height-Re)/2;ie.drawImage(A,st,Me,Re,Re,0,0,Ee,Ee);const Et=ie.getImageData(0,0,Ee,Ee).data;let ot=0,at=0,it=0,kt=0;for(let ct=0;ct<Et.length;ct+=4)ot+=Et[ct],at+=Et[ct+1],it+=Et[ct+2],kt++;ot=Math.floor(ot/kt),at=Math.floor(at/kt),it=Math.floor(it/kt);const zr=`#${ot.toString(16).padStart(2,"0")}${at.toString(16).padStart(2,"0")}${it.toString(16).padStart(2,"0")}`,Vr=`#${Math.min(255,ot+40).toString(16).padStart(2,"0")}${Math.min(255,at+40).toString(16).padStart(2,"0")}${Math.min(255,it+40).toString(16).padStart(2,"0")}`;oe({dominant:zr,secondary:Vr})},A.onerror=()=>{oe({dominant:"#6366f1",secondary:"#a855f7"})},A.src=$};u.useEffect(()=>{let $=t;(async()=>{var j;try{const ie=await _e.getByUsername($);if(ie){console.log("User data loaded for:",$),console.log("AccessKey found:",ie.accessKey),c(ie.avatar_url||ie.image),f(ie.name),d(ie.bio),g(ie),H(ie.views||0),W(ie.rank||"");const Ee=my(ie.rank||"");re(Ee),console.log("User rank:",ie.rank,"Rank data:",Ee),ie.pageDesign&&pe(ie.pageDesign);const Re=ie.avatar_url||ie.image;Re&&((j=ie.pageDesign)==null?void 0:j.useAvatarColors)!==!1&&q(Re);const st=await mn.getByUsername($);v(st||[]),setTimeout(()=>{_e.incrementViews($).catch(Me=>{console.error("Error incrementing views:",Me)})},100),r(!1)}else console.log("User not found:",$),b(!0),r(!1)}catch(ie){console.error("Error fetching user data:",ie),r(!1),b(!0)}})()},[t]);const xe=["linkedIn","gitHub","stackoverflow","leetcode","codeforces","hackerrank","codechef","geeksforgeeks"],Pe=["youtube","instagram","facebook","snapchat","twitter","threads","reddit"],he=["twitch","soundcloud","spotify","apple music"],We=["discord","telegram","whatsapp","skype"],_t=["amazon storefront","shopify","ko-fi","buy me a coffee","patreon"],St=["website","blog","email","phone"],Ie=($,A)=>{if(!A||typeof A!="string")return"";const j=A.trim();return j.startsWith("http://")||j.startsWith("https://")?j:{instagram:`https://instagram.com/${j}`,facebook:`https://facebook.com/${j}`,twitter:`https://twitter.com/${j}`,threads:`https://threads.net/${j}`,youtube:`https://youtube.com/${j}`,snapchat:`https://snapchat.com/add/${j}`,reddit:`https://reddit.com/user/${j}`,linkedIn:`https://linkedin.com/in/${j}`,gitHub:`https://github.com/${j}`,stackoverflow:`https://stackoverflow.com/users/${j}`,leetcode:`https://leetcode.com/${j}`,codeforces:`https://codeforces.com/profile/${j}`,hackerrank:`https://hackerrank.com/${j}`,codechef:`https://codechef.com/users/${j}`,geeksforgeeks:`https://auth.geeksforgeeks.org/user/${j}`,twitch:`https://twitch.tv/${j}`,soundcloud:`https://soundcloud.com/${j}`,spotify:j.includes("spotify.com")?j:`https://open.spotify.com/user/${j}`,"apple music":j.includes("music.apple.com")?j:`https://music.apple.com/profile/${j}`,discord:j.includes("discord.gg")?j:`https://discord.com/users/${j}`,telegram:j.includes("t.me")?j:`https://t.me/${j}`,whatsapp:j.includes("wa.me")?j:`https://wa.me/${j}`,skype:j.includes("skype:")?j:`skype:${j}?chat`,amazon:j.includes("amazon.com")?j:`https://amazon.com/stores/${j}`,shopify:j.includes("shopify.com")?j:`https://${j}.myshopify.com`,"ko-fi":j.includes("ko-fi.com")?j:`https://ko-fi.com/${j}`,"buy me a coffee":j.includes("buymeacoffee.com")?j:`https://buymeacoffee.com/${j}`,patreon:j.includes("patreon.com")?j:`https://patreon.com/${j}`,website:j.startsWith("http")?j:`https://${j}`,blog:j.startsWith("http")?j:`https://${j}`,email:j.includes("@")?j:`mailto:${j}`,phone:j.startsWith("+")||/^\d+$/.test(j)?`tel:${j}`:j}[$]||j};return i.jsxs("div",{className:"relative px-6 md:px-20 lg:px-32 py-20 grid place-content-center min-h-screen",children:[i.jsx("div",{className:`absolute top-0 z-[-2] w-full h-full dark:bg-neutral-950 ${p!=null&&p.accessKey&&!w?"blur-[50px]":""}`,style:{background:ae.useAvatarColors?`radial-gradient(ellipse 80% 80% at 50% -20%, ${Y.dominant}33, ${Y.secondary}22, rgba(255,255,255,0))`:`radial-gradient(ellipse 80% 80% at 50% -20%, ${ae.primaryColor}33, ${ae.secondaryColor}22, rgba(255,255,255,0))`}}),i.jsxs("div",{className:"fixed top-5 right-5 md:top-10 md:right-32 flex gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-background/80 backdrop-blur-sm px-3 py-2 rounded-full border",children:[i.jsx(_s,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:L})]}),!e&&!m&&i.jsx("div",{className:"user-ranks flex items-center justify-center bg-background/80 backdrop-blur-sm p-2 rounded-full border gap-1",children:U.map(($,A)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:$.icon,alt:$.name,className:"w-7 h-7 filter grayscale hover:grayscale-0 transition-all duration-300 hover:scale-110",onLoad:()=>console.log("Rank icon loaded:",$.icon),onError:j=>{console.error("Failed to load rank icon:",$.icon),j.target.style.display="none"}}),i.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50",children:$.name})]},A))}),i.jsx("div",{onClick:()=>{navigator.share({url:window.location.href,title:h,text:h})},children:i.jsx(te,{variant:"pulseBtn",className:"w-10 h-10 rounded-full p-0 flex items-center justify-center",children:i.jsx(bd,{className:"w-4 h-4"})})})]}),i.jsxs("div",{className:"grid place-content-center mb-5 mt-14",children:[e&&i.jsx("div",{className:"relative w-24 h-24",children:i.jsx(Se,{})}),!e&&!m&&a&&i.jsxs("div",{className:"avatar-user rounded-full overflow-hidden cursor-pointer transform transition-all duration-200 hover:scale-105 hover:shadow-lg",onClick:()=>N(!0),children:[i.jsx("img",{src:a,alt:h||"User",className:"w-full h-full object-cover",onError:$=>{$.target.style.display="none",$.target.nextSibling.style.display="flex"}}),i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold",style:{display:"none"},children:h?h.charAt(0).toUpperCase():"?"})]}),!e&&!m&&!a&&i.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold",children:h?h.charAt(0).toUpperCase():"?"})]}),!e&&!m&&i.jsxs("div",{className:"grid place-content-center mb-6 text-center gap-3 px-2",children:[i.jsxs("h1",{className:"text-3xl font-bold flex justify-center items-center text-center",children:[h,h&&i.jsx(Kv,{className:"!h-4 !w-4 opacity-50 ml-2"})]}),i.jsx("p",{className:"text-base dark:text-gray-400 text-foreground/80 max-w-[320px] mx-auto",children:l?i.jsxs(i.Fragment,{children:[P?l:l.length>70?l.slice(0,70)+"...":l,l.length>70&&i.jsx("button",{onClick:()=>V(!P),className:"moer-btn text-sm hover:underline",children:P?"":""})]}):"    !"})]}),e&&i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"relative w-40 h-8",children:i.jsx(Se,{})}),i.jsx("div",{className:"relative w-[300px] h-14",children:i.jsx(Se,{})}),i.jsxs("div",{className:"grid gap-3 max-w-[600px] w-full",children:[i.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:i.jsx(Se,{})}),i.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:i.jsx(Se,{})}),i.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:i.jsx(Se,{})}),i.jsx("div",{className:"relative w-[300px] h-14 mx-auto",children:i.jsx(Se,{})})]})]}),!e&&!m&&i.jsxs("div",{className:"mt-10 flex flex-col items-center gap-3",children:[console.log("Password protection check:",{hasAccessKey:!!(p!=null&&p.accessKey),accessKey:p==null?void 0:p.accessKey,showPrivate:w}),p!=null&&p.accessKey&&!w?i.jsx("div",{className:"w-full max-w-md mx-auto mt-20",children:i.jsxs(be,{className:"text-center",children:[i.jsx(mt,{children:i.jsxs(Pt,{className:"flex items-center justify-center gap-2",children:[i.jsx(er,{className:"w-5 h-5"})," "]})}),i.jsxs(we,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"   4  "}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(G,{type:"password",value:_,onChange:$=>S($.target.value.slice(0,4)),placeholder:" ",maxLength:4,className:"text-center text-lg tracking-widest"}),i.jsx(te,{onClick:I,className:"w-full",disabled:_.length!==4,children:""}),C&&i.jsx("p",{className:"text-red-500 text-sm mt-2",children:" "})]})]})]})}):i.jsxs(i.Fragment,{children:[Object.entries(p||{}).filter(([$,A])=>(Pe.includes($)||xe.includes($)||he.includes($)||We.includes($)||_t.includes($)||St.includes($))&&A&&typeof A=="string"&&A.trim()!=="").length===0&&y.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-foreground/60",children:"  "}),i.jsx("p",{className:"text-foreground/40 text-sm mt-2",children:"      "})]}),Object.entries(p||{}).filter(([$,A])=>Pe.includes($)&&A&&typeof A=="string"&&A.trim()!=="").map(([$,A])=>{const j=$t($);return i.jsxs(te,{variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",onClick:()=>de($,Ie($,A)),children:[j&&i.jsx(j,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]},$)}),Object.entries(p||{}).filter(([$,A])=>xe.includes($)&&A&&typeof A=="string"&&A.trim()!=="").map(([$,A])=>{const j=$t($);return i.jsxs(te,{variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",onClick:()=>de($,Ie($,A)),children:[j&&i.jsx(j,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]},$)}),Object.entries(p||{}).filter(([$,A])=>he.includes($)&&A&&typeof A=="string"&&A.trim()!=="").map(([$,A])=>{const j=$t($);return i.jsxs(te,{variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",onClick:()=>de($,Ie($,A)),children:[j&&i.jsx(j,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]},$)}),Object.entries(p||{}).filter(([$,A])=>We.includes($)&&A&&typeof A=="string"&&A.trim()!=="").map(([$,A])=>{const j=$t($);return i.jsxs(te,{variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",onClick:()=>de($,Ie($,A)),children:[j&&i.jsx(j,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]},$)}),Object.entries(p||{}).filter(([$,A])=>_t.includes($)&&A&&typeof A=="string"&&A.trim()!=="").map(([$,A])=>{const j=$t($);return i.jsxs(te,{variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",onClick:()=>de($,Ie($,A)),children:[j&&i.jsx(j,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]},$)}),Object.entries(p||{}).filter(([$,A])=>St.includes($)&&A&&typeof A=="string"&&A.trim()!=="").map(([$,A])=>{const j=$t($);return i.jsxs(te,{variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",onClick:()=>de($,Ie($,A)),children:[j&&i.jsx(j,{className:"w-6 h-6"}),$.charAt(0).toUpperCase()+$.slice(1)]},$)}),y.map($=>{const A=$t("website");return i.jsxs(te,{variant:"outline",className:"social-link w-full max-w-[420px] justify-start gap-3 h-14 rounded-[15px]",onClick:()=>de("custom",$.url),children:[A&&i.jsx(A,{className:"w-6 h-6"}),$.title]},$.id)})]})]}),m&&i.jsxs("div",{className:"flex flex-col items-center justify-center px-4 -mt-[200px]",children:[i.jsx("div",{className:"max-w-[800px] w-full mx-auto",children:i.jsx("img",{src:"/404-numbers-bro.png",alt:"404 - User Not Found",className:"w-full h-auto max-w-[800px] mx-auto block",style:{maxHeight:"600px",objectFit:"contain"}})}),i.jsxs("div",{className:"text-center mt-4",children:[i.jsxs("h1",{className:"font-bold text-3xl mb-2",children:["  ",i.jsx("span",{className:"text-blue-600",children:"!"})]}),i.jsxs("p",{className:"text-sm text-foreground/70 mb-6",children:["   ",i.jsx("br",{}),"   "]}),i.jsx(te,{asChild:!0,className:"border-rad w-full max-w-xs mx-auto",children:i.jsx("a",{href:"/",children:"  "})})]})]}),D&&a&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>N(!1),children:i.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] p-8",children:[i.jsx("button",{onClick:$=>{$.stopPropagation(),N(!1)},className:"absolute top-0 right-0 text-gray-500 hover:text-gray-300 transition-colors duration-200",children:i.jsx(ao,{className:"w-6 h-6"})}),i.jsx("img",{src:a,alt:h||"User",className:"max-w-full max-h-[80vh] object-contain rounded-lg shadow-xl animate-in zoom-in duration-200",onClick:$=>$.stopPropagation()}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("p",{className:"text-gray-400 text-sm font-medium",children:h||"User"})})]})}),(p==null?void 0:p.accessKey)&&!w&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-md",children:i.jsx("div",{className:"w-full max-w-md mx-auto p-6",children:i.jsxs(be,{className:"text-center shadow-2xl border-0 bg-background/95 backdrop-blur-lg",children:[i.jsx(mt,{children:i.jsxs(Pt,{className:"flex items-center justify-center gap-2 text-xl",children:[i.jsx(er,{className:"w-6 h-6 text-blue-600"})," "]})}),i.jsxs(we,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"   4  "}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(G,{type:"password",value:_,onChange:$=>S($.target.value.slice(0,4)),placeholder:" ",maxLength:4,className:"text-center text-xl tracking-widest h-12 text-lg font-mono",autoFocus:!0}),i.jsx(te,{onClick:I,className:"w-full h-12 text-base font-medium",disabled:_.length!==4,children:""}),C&&i.jsx("p",{className:"text-red-500 text-sm mt-2 animate-pulse",children:" "})]})]})]})})})]})}function vy(){const{username:t}=zl(),{trackView:e}=Eo();return u.useEffect(()=>{t&&e(t)},[t,e]),i.jsx("div",{children:i.jsx(gy,{userDataName:t})})}const yy=t=>{const e={:"/rank-img/member.png",:"/rank-img/booster.png",:"/rank-img/administrator.png",:"/rank-img/moderator.png",owner:"/rank-img/owner.png",:"/rank-img/owner.png",sponsor:"/rank-img/sponsor.png",:"/rank-img/sponsor.png",:"/rank-img/partner.png"};return e[t]||e.},by=t=>{switch(t){case 1:return i.jsx(Zt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"});case 2:return i.jsx(vn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"});case 3:return i.jsx(hd,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"});default:return i.jsx(vn,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}},wy=t=>{switch(t){case 1:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-2 border-gray-300 dark:border-gray-600";case 2:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-2 border-gray-300 dark:border-gray-600";case 3:return"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-400 border-2 border-gray-300 dark:border-gray-600";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-2 border-gray-300 dark:border-gray-600"}};function xy(){const[t,e]=u.useState([]),[r,n]=u.useState(!0),s=Zs();return u.useEffect(()=>{(async()=>{console.log("Starting to load top users...");try{const a=await _e.getTopUsers(3);console.log("Top users loaded:",a),e(a)}catch(a){console.error("Error loading top users:",a)}finally{n(!1)}})()},[]),r?i.jsxs("div",{className:"relative min-h-screen flex items-center justify-center",children:[i.jsx("div",{className:"absolute top-0 z-[-2] w-full h-full dark:bg-neutral-950 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.3),rgba(255,255,255,0))]"}),i.jsx("div",{className:"relative",children:i.jsx("div",{className:"w-24 h-24",children:i.jsx(Se,{})})})]}):i.jsxs("div",{className:"relative min-h-screen w-full px-4 py-20",children:[i.jsxs("div",{className:"relative z-10 text-center mb-12 max-w-4xl mx-auto px-4",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(vn,{className:"w-12 h-12 text-yellow-500"})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:" 3 "}),i.jsx("p",{className:"text-lg text-foreground/70",children:"    "})]}),i.jsx("div",{className:"relative z-10 w-full max-w-6xl mx-auto px-4",children:t.length===0?i.jsx("div",{className:"text-center py-20",children:i.jsx("p",{className:"text-foreground/60 text-lg",children:"    "})}):i.jsx("div",{className:"top-card grid grid-cols-1 md:grid-cols-3 gap-6 items-start justify-center",children:t.map((o,a)=>{const c=a+1,l=yy(o.rank||"");return i.jsxs("div",{className:"relative group w-full max-w-sm mx-auto",children:[i.jsx("div",{className:"card-badge absolute -top-2 left-1/2 transform -translate-x-1/2 z-20",children:i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${wy(c)}`,children:by(c)})}),i.jsx(be,{className:`relative pt-8 pb-4 transition-all duration-200 hover:shadow-md w-full ${c===1?"ring-1 ring-gray-200 dark:ring-gray-700":""}`,children:i.jsxs(we,{className:"p-4 text-center",children:[i.jsxs("div",{className:"relative mb-3 mx-auto w-16 h-16",children:[o.avatar_url?i.jsx("img",{src:o.avatar_url,alt:o.name||o.username,className:"top-avatar w-full h-full rounded-full object-cover border-2 border-gray-200 dark:border-gray-700",onError:d=>{d.target.style.display="none",d.target.nextSibling.style.display="flex"}}):null,i.jsx("div",{className:"w-full h-full rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 text-lg font-medium",style:{display:o.avatar_url?"none":"flex"},children:(o.name||o.username||"?").charAt(0).toUpperCase()}),i.jsx("div",{className:"rank-icon absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 flex items-center justify-center",children:i.jsx("img",{src:l,alt:"Rank",className:"w-4 h-4",onError:d=>{d.target.style.display="none"}})})]}),i.jsx("h3",{className:"text-lg font-bold mb-1 text-foreground",children:o.name||o.username}),i.jsxs("p",{className:"text-sm text-foreground/60 mb-3",children:["@",o.username]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("span",{className:"text-xl font-bold text-foreground",children:o.views||0}),i.jsx("span",{className:"text-foreground/40 text-xs",children:""})]}),i.jsx(te,{onClick:()=>s(`/${o.username}`),variant:"outline",className:"view-btn w-full border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 font-medium transition-colors duration-200",children:" "})]})})]},o.username)})})}),i.jsx("div",{className:"relative z-10 text-center mt-12",children:i.jsx(te,{onClick:()=>s("/"),variant:"outline",className:"px-6 py-2 border-2 border-foreground/20 hover:border-foreground/40 transition-all duration-200",children:"  "})})]})}function _y(){const t=Xa(),e=t.pathname!=="/"&&!t.pathname.startsWith("/auth")&&!t.pathname.startsWith("/dashboard")&&!t.pathname.startsWith("/top3");return i.jsx(cu,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!1,children:i.jsxs("div",{className:"min-h-screen flex flex-col",children:[!e&&i.jsx(b2,{}),!e&&i.jsx(g2,{}),i.jsx("main",{className:"flex-1",children:i.jsxs(Za,{children:[i.jsx(ht,{path:"/",element:i.jsx(x2,{})}),i.jsx(ht,{path:"/auth/*",element:i.jsx(_2,{})}),i.jsx(ht,{path:"/dashboard",element:i.jsx(Ja,{})}),i.jsx(ht,{path:"/dashboard/manage",element:i.jsx(Ja,{})}),i.jsx(ht,{path:"/:username",element:i.jsx(vy,{})}),i.jsx(ht,{path:"/top3",element:i.jsx(xy,{})})]})}),i.jsx(v2,{}),i.jsx(lh,{position:"bottom-right"}),!e&&i.jsx(w2,{})]})})}const Sy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CLERK_AFTER_SIGN_IN_URL:"/dashboard/manage",VITE_CLERK_AFTER_SIGN_UP_URL:"/dashboard/manage",VITE_CLERK_PUBLISHABLE_KEY:"pk_test_Y3V0ZS1jYXQtOTkuY2xlcmsuYWNjb3VudHMuZGV2JA",VITE_CLERK_SECRET_KEY:"sk_test_8oaUHSBAVZ3SX22oUaM4HuelaCxB7jR2bBkVTg4Qed",VITE_CLERK_SIGN_IN_URL:"/auth/sign-in",VITE_CLERK_SIGN_UP_URL:"/auth/sign-up",VITE_MONGO_URI:"",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxjanB5emNld3R5bHFicWNtcnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NDA2MzgsImV4cCI6MjA4NDQxNjYzOH0.bLWVQaB4CXljxpzESB339xSHxU5M_Vnuw4hmkUzsmlw",VITE_SUPABASE_URL:"https://lcjpyzcewtylqbqcmrpe.supabase.co"},Ey="pk_test_Y3V0ZS1jYXQtOTkuY2xlcmsuYWNjb3VudHMuZGV2JA";console.log("Environment variables loaded:",{PUBLISHABLE_KEY:"Found",allEnv:Sy});Ql.createRoot(document.getElementById("root")).render(i.jsx(Z.StrictMode,{children:i.jsx(Gl,{publishableKey:Ey,children:i.jsx(Vl,{children:i.jsx(_y,{})})})}));
